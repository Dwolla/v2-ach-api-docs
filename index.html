<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dwolla API docs</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500%7CRoboto:300,400" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="manifest" href="images/manifest.json">
    <link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#ff7404">
    <meta name="theme-color" content="#ffffff">
    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />

    <link href="stylesheets/include_root.css" rel="stylesheet" type="text/css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

<!--     
      <script>
        $(function() {
          setupLanguages(["raw","php","ruby","python","javascript"]);
        });
      </script>
     -->

      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-30404064-1', 'auto');
        ga('send', 'pageview');

      </script>

      <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
        {'gtm.start': new Date().getTime(),event:'gtm.js'}
        );var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-WV9L5CM');
      </script>

  </head>
  <body class="index">
      <!-- Google Tag Manager (noscript) -->
      <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WV9L5CM"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
      </noscript>
      <!-- End Google Tag Manager (noscript) -->
    <header>
        <div class="header__primary js-two-col-header-primary">
          <div class="page-wrap">
           <div>
             <a class="logo icon-logo-dwolla-white" href="https://www.dwolla.com/">Dwolla</a>
             <img src="images/dwolla-logo-white-all.svg" alt="Dwolla" class="print-only" />
             <div class="hamburger">
               <a href="https://accounts.dwolla.com/sign-up">Sign Up</a>
               <a class="btn primary js-hamburger">Menu</a>
             </div>
           </div>
           <nav class="js-hamburger-nav">
             <a href="https://www.dwolla.com/platform">Platform</a>
             <a href="https://www.dwolla.com/pricing/">Pricing</a>
             <a href="https://developers.dwolla.com">Developers</a>
             <a href="https://www.dwolla.com/resources/">Resources</a>
             <a href="https://www.dwolla.com/about/">Company</a>
             <a href="https://accounts.dwolla.com/login">Login</a>
             <a class="btn primary" href="https://accounts.dwolla.com/sign-up">Sign Up</a>
           </nav>
         </div>
      </div>
      <nav class="header__secondary js-two-col-nav-toggle">
        <div class="js-two-col-header-secondary">
          <div class="page-wrap">
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/guides">Guides</a>
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/concepts">Concepts</a>
            <a class="active">API docs</a>
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/integrations">Partner Integrations</a>
            <a class="no-nav js-two-col-no-toggle" href="https://developers.dwolla.com/sdks-tools.html">Tools and SDKs</a>
            <div class="custom-select custom-select--grey">
              <select id="language_select" class="language_select" name="select">
                    <option value="raw">raw</option>
                    <option value="php">php</option>
                    <option value="ruby">ruby</option>
                    <option value="python">python</option>
                    <option value="javascript">javascript</option>
              </select>
              <div class="arrow"></div>
            </div>
            <div style="float: right">
              <a href="https://discuss.dwolla.com/" target="_blank" class="no-nav js-two-col-no-toggle">
                  <span class="mobile-hide">Community</span>
                      <span class="icon-nav-dev-community-grey">&ensp;&ensp;&ensp;</span>
              </a>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <div class="cnt-two-col">
      <div class="page-wrap">
        <section class="cnt-two-col__nav js-two-col-nav">
          <div class="close">
              <button class="js-two-col-nav-close icon-cnt-two-col-close"></button>
          </div>
          <div class="language-picker">
              <h6>Language</h6>
              <div class="custom-select custom-select--blue">
                <select id="language_select" class="language_select" name="select">
                      <option value="raw">raw</option>
                      <option value="php">php</option>
                      <option value="ruby">ruby</option>
                      <option value="python">python</option>
                      <option value="javascript">javascript</option>
                </select>
                <div class="arrow"></div>
              </div>
          </div>
          <nav class="side-nav js-side-nav">
          </nav>
          <nav class="side-nav js-side-nav">
          </nav>
          <nav class="side-nav tocify-wrapper active js-side-nav">
              <section id="toc">
              </section>
              <section class="side-nav__options">
                  <h6>Options</h6>
                  <ul>
                        <li class="external-link"><a href="https://discuss.dwolla.com/c/api-support" target="_blank"><span class="icon-sidenav-option">Get some help</span></a></li>
                        <li class="external-link"><a href='https://developers.dwolla.com/guides/sandbox/' target="_blank"><span class="icon-sidenav-option">Sandbox Environment</span></a></li>
                  </ul>
              </section>
          </nav>
        </section>
        <section class="cnt-two-col__content">
          
            <h1 id='introduction'>Introduction</h1>
<p>Welcome to the <a href="https://www.dwolla.com/platform">Dwolla API</a> documentation. This API will give you the ability to connect your software to banking infrastructure to move money, store funds, validate customer identities, and verify bank accounts.</p>
<h2 id='making-requests'>Making requests</h2>
<p>All requests should supply the <code class="prettyprint">Accept: application/vnd.dwolla.v1.hal+json</code> header. <code class="prettyprint">POST</code> requests must specify the <code class="prettyprint">Content-Type: application/vnd.dwolla.v1.hal+json</code> header. Request and response bodies are JSON encoded.</p>

<p>Requests must be made over HTTPS. Any non-secure requests are met with a redirect (HTTP 302) to the HTTPS equivalent URI.</p>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">POST https://api.dwolla.com/customers
Content-Type: application/json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer myOAuthAccessToken123

{
  "foo": "bar"
}

... or ...

GET https://api.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3/transfers
</code></pre></div></div><h3 id='authorization'>Authorization</h3>
<p>All requests require either an OAuth access token or a <code class="prettyprint">client_id</code> and <code class="prettyprint">client_secret</code>. OAuth access tokens are passed via the <code class="prettyprint">Authorization</code> HTTP header:</p>

<p><code class="prettyprint">Authorization: Bearer {access_token_here}</code></p>
<h3 id='api-host'>API Host</h3>
<p><strong>Production:</strong> <code class="prettyprint">https://api.dwolla.com</code></p>

<p><strong>Sandbox:</strong> <code class="prettyprint">https://api-sandbox.dwolla.com</code></p>
<h2 id='idempotency-key'>Idempotency key</h2>
<p>To prevent an operation from being performed more than once, Dwolla supports passing in an <code class="prettyprint">Idempotency-Key</code> header with a unique key as the value. Multiple <code class="prettyprint">POSTs</code> with the same idempotency key and request body won&rsquo;t result in multiple resources being created. It is recommended to use a random value for the idempotency key, like a UUID (i.e. - <code class="prettyprint">Idempotency-Key: d2adcbab-4e4e-430b-9181-ac9346be723a</code>).</p>

<p>For example, if a request to <a href="#initiate-a-transfer">initiate a transfer</a> fails due to a network connection issue, you can reattempt the request with the same idempotency key to guarantee that only a single transfer is created.</p>

<p>If you reattempt a <code class="prettyprint">POST</code> request with the same value for the <code class="prettyprint">Idempotency-Key</code>, rather than creating new or potentially duplicate resources, you will receive a <code class="prettyprint">201 Created</code>, with the original response of the created resource. If the Dwolla server is still processing the original <code class="prettyprint">POST</code> request, you will receive a <code class="prettyprint">409 Conflict</code> error response on the subsequent request. Multiple <code class="prettyprint">POST</code>s with the same idempotency key including an <strong>exact match</strong> request body won’t result in multiple resources being created. Idempotency keys are intended to prevent conflicts over a short period of time, therefore keys which are paired with a request body expire after 24 hours.</p>
<ol class = "alerts"><li class="alert icon-alert-alert"><p>To prevent resources from being created more than once, we highly recommend making all requests idempotent.</p>
</li></ol><h4 id='example-transfer-using-an-idempotency-key'>Example transfer using an Idempotency Key</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/transfers
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
Idempotency-Key: 19051a62-3403-11e6-ac61-9e71128cae77

{
    "_links": {
        "destination": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3"
        },
        "source": {
            "href": "http://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        }
    },
    "amount": {
        "currency": "USD",
        "value": "1337.00"
    }
}
...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"Idempotency-Key"</span> <span class="o">=&gt;</span> <span class="s2">"19051a62-3403-11e6-ac61-9e71128cae77"</span>
<span class="p">}</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3"</span>
    <span class="p">},</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"1.00"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"transfers"</span><span class="p">,</span> <span class="n">request_body</span><span class="p">,</span> <span class="n">headers</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfer</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'_links'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'1.00'</span>
  <span class="p">]</span>
<span class="p">],</span>
<span class="p">[</span>
    <span class="s1">'Idempotency-Key'</span> <span class="o">=&gt;</span> <span class="s1">'19051a62-3403-11e6-ac61-9e71128cae77'</span>
<span class="p">]);</span>

<span class="nv">$transfer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'Idempotency-Key'</span><span class="p">:</span> <span class="s">'19051a62-3403-11e6-ac61-9e71128cae77'</span>
<span class="p">}</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'source'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3'</span>
    <span class="p">},</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'value'</span><span class="p">:</span> <span class="s">'1.00'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'transfers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">transfer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'Idempotency-Key'</span><span class="p">:</span> <span class="s1">'19051a62-3403-11e6-ac61-9e71128cae77'</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3'</span>
    <span class="p">},</span>
    <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'1.00'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'transfers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">,</span> <span class="nx">headers</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>
</code></pre></div></div><h2 id='errors'>Errors</h2>
<p>Error responses use HTTP status codes to indicate the type of error. The JSON response body will contain a top-level error code and a message with a detailed description of the error. Errors will contain their own media type and will closely align with <a href="https://github.com/blongden/vnd.error">this spec</a>.</p>
<h3 id='example-http-401-error'>Example HTTP 401 error</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidAccessToken"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid access token."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='common-errors'>Common errors</h3>
<p>The following errors are common across all API endpoints.</p>

<table><thead>
<tr>
<th>HTTP Status</th>
<th>Error Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>BadRequest</td>
<td>The request body contains bad syntax or is incomplete.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Validation error(s) present. See embedded errors list for more details. (<a href="#validation-errors">See below</a>)</td>
</tr>
<tr>
<td>401</td>
<td>InvalidCredentials</td>
<td>Missing or invalid Authorization header.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidAccessToken</td>
<td>Invalid access token.</td>
</tr>
<tr>
<td>401</td>
<td>ExpiredAccessToken</td>
<td>Generate a new access token using your client credentials.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidAccountStatus</td>
<td>Invalid access token account status.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidApplicationStatus</td>
<td>Invalid application status.</td>
</tr>
<tr>
<td>401</td>
<td>InvalidScopes</td>
<td>Missing or invalid scopes for requested endpoint.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>The supplied credentials are not authorized for this resource.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>Resource cannot be modified.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>The requested resource was not found.</td>
</tr>
<tr>
<td>405</td>
<td>MethodNotAllowed</td>
<td>(varies)</td>
</tr>
<tr>
<td>406</td>
<td>InvalidVersion</td>
<td>Missing or invalid API version.</td>
</tr>
<tr>
<td>500</td>
<td>ServerError</td>
<td>A server error occurred. Error ID: {ID}</td>
</tr>
<tr>
<td>500</td>
<td>RequestTimeout</td>
<td>The request timed out.</td>
</tr>
</tbody></table>
<h3 id='validation-errors'>Validation errors</h3>
<p>Responses with a top-level error code of <code class="prettyprint">ValidationError</code> are returned when it’s possible to correct a specific problem with your request. The response will include a message: &ldquo;Validation error(s) present. See embedded errors list for more details.&rdquo; At least one, but possibly more, detailed error will be present in the list of embedded errors. Multiple errors are represented in a collection of embedded error objects.</p>
<h4 id='code-classprettyprint_embeddedcode-json-object'><code class="prettyprint">_embedded</code> JSON object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>errors</td>
<td>An array of JSON object(s) that contain a <code class="prettyprint">code</code>, <code class="prettyprint">message</code>, and <code class="prettyprint">path</code>.</td>
</tr>
</tbody></table>

<p>The <code class="prettyprint">path</code> field is a JSON pointer to the specific field in the request that has a problem. The <code class="prettyprint">message</code> is a human readable description of the problem. The <code class="prettyprint">code</code> is a detailed error code that can have one of the following values:</p>

<ul>
<li>Required - {field name} is required. For example, null or empty string in required field.</li>
<li>Invalid - {field name} invalid. </li>
<li>InvalidFormat - {field name} is not in a valid format. For example, characters in the amount field.</li>
<li>Duplicate - &ldquo;A customer with the specified email already exists.&rdquo;</li>
<li>ReadOnly - this field is not allowed to be modified</li>
<li>NotAllowed - value, while valid/exists, is not allowed to be used</li>
<li>Restricted - account or customer restricted from this activity</li>
<li>InsufficientFunds - used on source or destination fields of transfer endpoint</li>
<li>RequiresFundingSource - used on destination field of transfer endpoint to indicate customer needs a bank</li>
<li>FileTooLarge - used on document upload</li>
</ul>
<h4 id='example-http-400-validation-error'>Example HTTP 400 validation error</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ValidationError"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Validation error(s) present. See embedded errors list for more details."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Required"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FirstName required."</span><span class="p">,</span><span class="w">
                </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/firstName"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='links'>Links</h2>
<p>Relationships and available actions for a resource are represented with links.  All resources have a <code class="prettyprint">_links</code> attribute.  At a minimum, all resources will have a <code class="prettyprint">self</code> link which indicates the URL of the resource itself.</p>

<p>Some links, such as <code class="prettyprint">funding-sources</code>, give you a URL which you can follow to access related resources.  For example, the customer resource has a <code class="prettyprint">funding-sources</code> link which, when followed, will list the customer&rsquo;s available funding sources.</p>

<p>Responses which contain a collection of resources have pagination links, <code class="prettyprint">first</code>, <code class="prettyprint">next</code>, <code class="prettyprint">last</code>, and <code class="prettyprint">prev</code>.</p>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1/funding-sources"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"retry-verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/customers/132681FA-1B4D-4181-8FF2-619CA46235B1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132681FA-1B4D-4181-8FF2-619CA46235B1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@nomail.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personal"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retry"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-29T19:47:28.920Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='tools'>Tools</h2>
<p>The following section will outline development tools you can take advantage of to assist in your integration with the Dwolla API. The available tools can help to improve your testing and development workflow, as well as aid in solving a difficult problem (e.g. UI generation) when integrating Dwolla into your application.</p>
<h3 id='dwolla-hal-forms'>Dwolla Hal-Forms</h3>
<p><a href="https://github.com/Dwolla/hal-forms">Dwolla HAL-Forms</a> is an extension of the <a href="http://stateless.co/hal_specification.html">HAL spec</a> and was created to describe how Dwolla represents forms in the API. The extension starts with the media type. The media type should be used as a profile link as part of the <code class="prettyprint">Accept</code> header of the request in conjunction with the Dwolla HAL style media type. By including these two media-type identifiers in the Accept header, the API knows that you’re looking for a form for the given resource.</p>
<h5 id='example-accept-header-value'>Example Accept header value</h5>
<p><code class="prettyprint">application/vnd.dwolla.v1.hal+json; profile=&quot;https://github.com/dwolla/hal-forms&quot;</code></p>

<p>The primary benefit is the ability to dynamically generate your UI based on the state of a particular resource. Your application can easily transition state without knowing Dwolla&rsquo;s business rules and what information needs to included in the actual request to transition state. When an <code class="prettyprint">&quot;edit-form&quot;</code> link relation is returned on the resource, then your application can follow the link by making a GET request to that resource, including the header shown above. The response will include a simple JSON response body that contains information on the HTTP method, message content-type, and the request parameters used when sending the request to the Dwolla API. <strong>Note:</strong> Currently, forms are only returned for creating &amp; editing customers, but we’re looking forward to expanding them across our existing and future endpoints.</p>

<p>Reference <a href="https://github.com/Dwolla/hal-forms">the spec</a> for more information on the properties that can be returned in the Dwolla HAL-FORMS response. Or read a <a href="https://www.dwolla.com/updates/simplified-customer-onboarding-through-a-better-formed-api/">blog post</a> from one of our developers on building out this functionality.</p>

<hr>

            <h1 id='sdk-support'>SDK Support</h1>
<p>The Dwolla API has officially maintained software packages to make it easier for developers to get started with making requests. This section is here to provide basic instructions on how to install these packages and get up and running with them. We recommend you use a POSIX-standardized shell on your development machine, and assume that you are already familiar and set-up with any tools required for your specific technical ecosystem.</p>

<p>Officially maintained SDKs are available for Ruby, Node.js, Python, and C#.</p>

<p>The PHP SDKs is autogenerated by <a href="https://github.com/mach-kernel/swagger-codegen">swagger-codegen</a> and are versioned in accordance with our API schema. Each endpoint grouping is assigned a class and then an operation which you can use to make a request. You can choose which environment to target (e.g production vs sandbox) by providing the SDK a different API host value. These libraries are not actively maintained, therefore we encourage community contribution.</p>
<h4 id='base-urls'>Base URLs</h4>
<table><thead>
<tr>
<th>Production</th>
<th>Sandbox</th>
</tr>
</thead><tbody>
<tr>
<td>https://api.dwolla.com</td>
<td>https://api-sandbox.dwolla.com</td>
</tr>
</tbody></table>
<h2 id='ruby'>Ruby</h2>
<p><code class="prettyprint">dwolla_v2</code> is available on <a href="https://rubygems.org/gems/dwolla_v2">RubyGems</a> with <a href="https://github.com/Dwolla/dwolla-v2-ruby">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">gem install dwolla_v2
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-rubynohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-rubynohide" data-lang="rubynohide"><span class="nb">require</span> <span class="s1">'dwolla_v2'</span>

<span class="c1"># Navigate to https://dashboard.dwolla.com/applications (production) or https://dashboard-sandbox.dwolla.com/applications (Sandbox) for your application key and secret.</span>
<span class="n">app_key</span> <span class="o">=</span> <span class="s2">"..."</span>
<span class="n">app_secret</span> <span class="o">=</span> <span class="s2">"..."</span>
<span class="vg">$dwolla</span> <span class="o">=</span> <span class="no">DwollaV2</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">key: </span><span class="n">app_key</span><span class="p">,</span> <span class="ss">secret: </span><span class="n">app_secret</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">environment</span> <span class="o">=</span> <span class="ss">:sandbox</span> <span class="c1"># optional - defaults to production</span>
<span class="k">end</span>

<span class="c1"># create an application token</span>
<span class="n">app_token</span> <span class="o">=</span> <span class="vg">$dwolla</span><span class="p">.</span><span class="nf">auths</span><span class="p">.</span><span class="nf">client</span>

<span class="n">customers</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
</code></pre></div></div><h2 id='python'>Python</h2>
<p><code class="prettyprint">dwollav2</code> is available on <a href="https://pypi.python.org/pypi/dwollav2">PyPi</a> with
<a href="https://github.com/Dwolla/dwolla-v2-python">source code</a> available on our GitHub page. More
information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">pip install dwollav2
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-pythonnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-pythonnohide" data-lang="pythonnohide"><span class="kn">import</span> <span class="nn">dwollav2</span>

<span class="c"># Navigate to https://dashboard.dwolla.com/applications (production) or https://dashboard-sandbox.dwolla.com/applications (Sandbox) for your application key and secret.</span>
<span class="n">app_key</span> <span class="o">=</span> <span class="s">'...'</span>
<span class="n">app_secret</span> <span class="o">=</span> <span class="s">'...'</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">dwollav2</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="n">app_key</span><span class="p">,</span>
                         <span class="n">secret</span> <span class="o">=</span> <span class="n">app_secret</span><span class="p">,</span>
                         <span class="n">environment</span> <span class="o">=</span> <span class="s">'sandbox'</span><span class="p">)</span> <span class="c"># optional - defaults to production</span>

<span class="n">app_token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">Auth</span><span class="o">.</span><span class="n">client</span><span class="p">()</span>

<span class="n">customers</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="p">{</span><span class="s">'limit'</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
</code></pre></div></div><h2 id='php'>PHP</h2>
<p><code class="prettyprint">dwolla-swagger-php</code> is available on <a href="https://packagist.org/packages/dwolla/dwollaswagger">Packagist</a> with <a href="https://github.com/Dwolla/dwolla-swagger-php">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">composer require dwolla/dwollaswagger
composer install
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-phpnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-phpnohide" data-lang="phpnohide"><span class="cp">&lt;?php</span>
<span class="k">require</span><span class="p">(</span><span class="s1">'../path/to/vendor/autoload.php'</span><span class="p">);</span>

<span class="nx">DwollaSwagger\Configuration</span><span class="o">::</span><span class="nv">$username</span> <span class="o">=</span> <span class="s1">'API_KEY'</span><span class="p">;</span>
<span class="nx">DwollaSwagger\Configuration</span><span class="o">::</span><span class="nv">$password</span> <span class="o">=</span> <span class="s1">'API_SECRET'</span><span class="p">;</span>

<span class="c1">// For Sandbox
</span><span class="nv">$apiClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\ApiClient</span><span class="p">(</span><span class="s2">"https://api-sandbox.dwolla.com"</span><span class="p">);</span>
<span class="c1">// For production
// $apiClient = new DwollaSwagger\ApiClient("https://api.dwolla.com");
</span>
<span class="nv">$tokensApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TokensApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$appToken</span> <span class="o">=</span> <span class="nv">$tokensApi</span><span class="o">-&gt;</span><span class="na">token</span><span class="p">();</span>

<span class="nx">DwollaSwagger\Configuration</span><span class="o">::</span><span class="nv">$access_token</span> <span class="o">=</span> <span class="nv">$appToken</span><span class="o">-&gt;</span><span class="na">access_token</span><span class="p">;</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$myCusties</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>

<span class="cp">?&gt;</span>

</code></pre></div></div><h2 id='c35'>C&#35;</h2>
<p><code class="prettyprint">Dwolla.Client</code> is available on <a href="https://www.nuget.org/packages/Dwolla.Client/">Nuget</a> with
<a href="https://github.com/Dwolla/dwolla-v2-csharp">source code</a> available on our GitHub page. More
information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">Install-Package Dwolla.Client
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s list some <code class="prettyprint">Customer</code> objects:</p>
<div class="code-snippet js-code-snippet language-csharpnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-csharpnohide" data-lang="csharpnohide"><span class="n">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">DwollaClient</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">isSandbox</span><span class="p">:</span> <span class="k">true</span><span class="p">);</span>

<span class="n">var</span> <span class="n">tokenRes</span> <span class="p">=</span> <span class="n">await</span> <span class="n">client</span><span class="p">.</span><span class="n">PostAuthAsync</span><span class="p">&lt;</span><span class="n">AppTokenRequest</span><span class="p">,</span> <span class="n">TokenResponse</span><span class="p">&gt;(</span>
    <span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="err">$</span><span class="s">"{client.AuthBaseAddress}/token"</span><span class="p">),</span>
    <span class="k">new</span> <span class="n">AppTokenRequest</span> <span class="p">{</span><span class="n">Key</span> <span class="p">=</span> <span class="s">"..."</span><span class="p">,</span> <span class="n">Secret</span> <span class="p">=</span> <span class="s">"..."</span><span class="p">});</span>

<span class="n">var</span> <span class="n">headers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Headers</span> <span class="p">{{</span><span class="s">"Authorization"</span><span class="p">,</span> <span class="err">$</span><span class="s">"Bearer {tokenRes.Content.Token}"</span><span class="p">}};</span>
<span class="n">var</span> <span class="n">rootRes</span> <span class="p">=</span> <span class="p">(</span><span class="n">await</span> <span class="n">client</span><span class="p">.</span><span class="n">GetAsync</span><span class="p">&lt;</span><span class="n">RootResponse</span><span class="p">&gt;(</span><span class="k">new</span> <span class="nf">Uri</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">ApiBaseAddress</span><span class="p">),</span> <span class="n">headers</span><span class="p">)).</span><span class="n">Content</span><span class="p">;</span>

<span class="n">var</span> <span class="n">customers</span> <span class="p">=</span> <span class="n">await</span> <span class="n">client</span><span class="p">.</span><span class="n">GetAsync</span><span class="p">&lt;</span><span class="n">GetCustomersResponse</span><span class="p">&gt;(</span><span class="n">rootRes</span><span class="p">.</span><span class="n">Links</span><span class="p">[</span><span class="s">"customers"</span><span class="p">].</span><span class="n">Href</span><span class="p">,</span> <span class="n">headers</span><span class="p">);</span>
</code></pre></div></div><h2 id='kotlin'>Kotlin</h2>
<p><code class="prettyprint">dwolla-v2-kotlin</code> is an actively maintained client library for Java/Kotlin applications and is used to facilitate interactions with the Dwolla API. The <a href="https://github.com/Dwolla/dwolla-v2-kotlin">source code</a> is available on our GitHub page. More information is available on the project’s README. <strong>Note:</strong> The library is currently in <strong>preview mode</strong> for developers. Any feedback as well as community contribution is encouraged.</p>
<h3 id='installation'>Installation</h3><h5 id='maven'>Maven</h5>
<p>Add this to your project&rsquo;s POM:</p>
<div class="code-snippet js-code-snippet language-htmlnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-htmlnohide" data-lang="htmlnohide"><span class="nt">&lt;repositories&gt;</span>
    <span class="nt">&lt;repository&gt;</span>
        <span class="nt">&lt;id&gt;</span>jitpack.io<span class="nt">&lt;/id&gt;</span>
        <span class="nt">&lt;url&gt;</span>https://jitpack.io<span class="nt">&lt;/url&gt;</span>
    <span class="nt">&lt;/repository&gt;</span>
<span class="nt">&lt;/repositories&gt;</span>

<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.github.Dwolla<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>dwolla-v2-kotlin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>0.1.1<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div><h5 id='gradle'>Gradle</h5>
<p>Add this to your project&rsquo;s build file:</p>
<div class="code-snippet js-code-snippet language-javanohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javanohide" data-lang="javanohide"><span class="n">repositories</span> <span class="o">{</span>
    <span class="c1">// ...</span>
    <span class="n">maven</span><span class="o">(</span><span class="n">url</span> <span class="o">=</span> <span class="s">"https://jitpack.io"</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s">"jitpack"</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">implementation</span><span class="o">(</span><span class="s">"com.github.Dwolla:dwolla-v2-kotlin:0.1.1"</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s set up a Dwolla client using our application key and secret:</p>
<h5 id='kotlin'>Kotlin</h5><div class="code-snippet js-code-snippet language-javanohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javanohide" data-lang="javanohide"><span class="kn">import</span> <span class="nn">com.dwolla.Client</span>
<span class="kn">import</span> <span class="nn">com.dwolla.Environment</span>

<span class="n">val</span> <span class="n">dwolla</span> <span class="o">=</span> <span class="n">Client</span><span class="o">(</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s">"yourClientKey"</span><span class="o">,</span>       <span class="c1">// see dashboard.dwolla.com</span>
    <span class="n">secret</span> <span class="o">=</span> <span class="s">"yourClientSecret"</span><span class="o">,</span> <span class="c1">// for your client credentials</span>
    <span class="n">environment</span> <span class="o">=</span> <span class="n">Environment</span><span class="o">.</span><span class="na">SANDBOX</span>
<span class="o">)</span>
</code></pre></div></div><h5 id='java'>Java</h5><div class="code-snippet js-code-snippet language-javanohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javanohide" data-lang="javanohide"><span class="kn">import</span> <span class="nn">com.dwolla.Client</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.dwolla.Environment</span><span class="o">;</span>

<span class="n">Client</span> <span class="n">dwolla</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Client</span><span class="o">(</span>
    <span class="s">"yourClientKey"</span><span class="o">,</span>    <span class="c1">// see dashboard.dwolla.com</span>
    <span class="s">"yourClientSecret"</span><span class="o">,</span> <span class="c1">// for your client credentials</span>
    <span class="n">Environment</span><span class="o">.</span><span class="na">SANDBOX</span>
<span class="o">);</span>
</code></pre></div></div><h3 id='dwolla-swagger-java'>dwolla-swagger-java</h3>
<p><code class="prettyprint">dwolla-swagger-java</code> is not actively maintained by Dwolla, however <a href="https://github.com/Dwolla/dwolla-swagger-java">source code</a> is available on our GitHub page and community contribution is encouraged. More information is available on the project&rsquo;s README.</p>
<h2 id='javascript'>JavaScript</h2>
<p><code class="prettyprint">dwolla-v2</code> is available on <a href="https://www.npmjs.com/package/dwolla-v2">NPM</a> with <a href="https://github.com/Dwolla/dwolla-v2-node">source code</a> available on our GitHub page. More information is available on the project&rsquo;s README.</p>
<h3 id='installation'>Installation</h3><div class="code-snippet js-code-snippet language-bashnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-bashnohide" data-lang="bashnohide">npm install dwolla-v2
</code></pre></div></div><h3 id='quickstart'>Quickstart</h3>
<p>Let&rsquo;s fetch a page of customers:</p>
<div class="code-snippet js-code-snippet language-javascriptnohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-javascriptnohide" data-lang="javascriptnohide"><span class="kr">const</span> <span class="nx">dwolla</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'dwolla-v2'</span><span class="p">);</span>

<span class="c1">// Navigate to https://dashboard.dwolla.com/applications (production) or https://dashboard-sandbox.dwolla.com/applications (Sandbox) for your application key and secret.</span>
<span class="kr">const</span> <span class="nx">appKey</span> <span class="o">=</span> <span class="s1">'...'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">appSecret</span> <span class="o">=</span> <span class="s1">'...'</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">dwolla</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">key</span><span class="p">:</span> <span class="nx">appKey</span><span class="p">,</span>
  <span class="na">secret</span><span class="p">:</span> <span class="nx">appSecret</span><span class="p">,</span>
  <span class="na">environment</span><span class="p">:</span> <span class="s1">'sandbox'</span> <span class="c1">// optional - defaults to production</span>
<span class="p">});</span>

<span class="c1">// create a token</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">client</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">appToken</span> <span class="o">=&gt;</span> <span class="nx">appToken</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="p">{</span> <span class="na">limit</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}))</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">));</span>
</code></pre></div></div>
<hr>

            <h1 id='drop-in-components'>Drop-in Components</h1>
<p>Dwolla’s UI drop-in components library allows developers to leverage isolated functions or build connected flows in their web applications, which expedites the integration process with the Dwolla Platform. Each component within this library includes HTML, CSS and JavaScript that developers can drop-in and customize to fit the look and feel of their application.</p>

<p>Dwolla&rsquo;s <a href="https://developers.dwolla.com/concepts/drop-in-components">UI components library</a>, dwolla-web.js, requires a unique client-side token that is generated using a server-side SDK. The client token contains granular permissions to perform a specific action on behalf of a <a href="#customers">Customer</a>. </p>
<h4 id='client-token-lifetime'>Client Token lifetime</h4>
<p><strong>Client-tokens</strong> are single-use tokens that are valid for up to 1 hour after being generated. More than one client token can be generated and valid at one time.</p>
<h2 id='create-a-client-token'>Create a client token</h2>
<p>The client token API request requires an <code class="prettyprint">action</code> as well as a <code class="prettyprint">link</code> which points to the Customer that identifies the end-user performing the action within the drop-in component. The <code class="prettyprint">action</code> is a string that contains a granular permission for the Customer performing the action within a drop-in component. <strong>Note:</strong> This endpoint requires <a href="#application-authorization">application authorization</a>.</p>
<h4 id='client-token-actions'>Client token actions</h4>
<table><thead>
<tr>
<th>Component</th>
<th>Component Name</th>
<th>Action</th>
</tr>
</thead><tbody>
<tr>
<td>Create an Unverified Customer</td>
<td>dwolla-customer-create</td>
<td>customer.create</td>
</tr>
<tr>
<td>Upgrade an Unverified Customer</td>
<td>dwolla-customer-update</td>
<td>customer.update</td>
</tr>
<tr>
<td>Create a personal Verified Customer</td>
<td>dwolla-personal-vcr</td>
<td>customer.create</td>
</tr>
<tr>
<td>Document upload for a Customer</td>
<td>dwolla-document-upload</td>
<td>customer.documents.create</td>
</tr>
<tr>
<td>Display a Verified Customer’s Balance</td>
<td>dwolla-balance-display</td>
<td>customer.fundingsources.read</td>
</tr>
</tbody></table>
<h4 id='http-request'>HTTP request</h4>
<p><code class="prettyprint">POST https://api.dwolla.com/client-tokens</code></p>
<h4 id='request-parameters'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td>yes</td>
<td>object</td>
<td>A granular permission for the Customer performing an action within a drop-in component. <a href="#client-token-actions">Reference the client token actions to learn more</a>.</td>
</tr>
<tr>
<td>_links</td>
<td>yes</td>
<td>object</td>
<td>A _links JSON object that contains a link to the desired <code class="prettyprint">customer</code> performing the action within the drop-in component.</td>
</tr>
</tbody></table>
<h4 id='request-and-response'>Request and response</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/client-tokens 
Accept: application/vnd.dwolla.v1.hal+json 
Content-Type: application/json
Authorization: Bearer {{token}}
{
"action": "customer.update”,
  "_links": {
    “customer”: {
        “href”: “https://api-sandbox.dwolla.com/customers/{{customerId}}” 
    }
  }
}

...

{
 "token": "4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:customer</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/customers/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:action</span> <span class="o">=&gt;</span> <span class="s2">"customer.update"</span>
<span class="p">}</span>

<span class="n">client_token</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"client-tokens"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">client_token</span><span class="p">.</span><span class="nf">token</span> <span class="c1"># =&gt; "4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
</span><span class="nv">$request_body</span> <span class="o">=</span> <span class="k">array</span> <span class="p">(</span>
  <span class="s1">'_links'</span> <span class="o">=&gt;</span>
  <span class="k">array</span> <span class="p">(</span>
    <span class="s1">'customer'</span> <span class="o">=&gt;</span>
    <span class="k">array</span> <span class="p">(</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/8779a1f7-7a98-4a86-921e-83539f6c895e'</span><span class="p">,</span>
    <span class="p">),</span>
  <span class="p">),</span>
  <span class="s1">'action'</span> <span class="o">=&gt;</span> <span class="s1">'customer.update'</span>
<span class="p">);</span>
<span class="nv">$clientTokensApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TokensApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$clientToken</span> <span class="o">=</span> <span class="nv">$clientTokensApi</span><span class="o">-&gt;</span><span class="na">clientTokens</span><span class="p">(</span><span class="nv">$request_body</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'customer'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/customers/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'action'</span><span class="p">:</span> <span class="s">'customer.update'</span>
<span class="p">}</span>

<span class="n">client_token</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'client-tokens'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">client_token</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'token'</span><span class="p">]</span> <span class="c"># =&gt; '4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">customer</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">action</span><span class="p">:</span> <span class="s1">'customer.update'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
 <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s2">"/client-tokens"</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
 <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span> <span class="c1">// =&gt; '4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY'</span>
</code></pre></div></div>
<hr>

            <h1 id='authorization'>Authorization</h1>
<p>Dwolla utilizes the <a href="https://oauth.net/2/">OAuth 2 protocol</a> to facilitate authorization. OAuth is an authorization framework that enables a third-party application to obtain access to protected resources (Transfers, Funding Sources, Customers etc.) in the Dwolla API. Access to the Dwolla API can be granted to an application either on behalf of a user or on behalf of the application itself. This section covers application auth which is meant for server-to-server applications using the Dwolla API.</p>
<h4 id='creating-an-application'>Creating an application</h4>
<p>Before you can get started with making OAuth requests, you’ll need to first register an application with Dwolla by logging in and navigating to the applications page. Once an application is registered you will obtain your <code class="prettyprint">client_id</code> and <code class="prettyprint">client_secret</code> (aka App Key and Secret), which will be used to identify your application when calling the Dwolla API. The Sandbox environment provides you with a created application once you have signed up for an account. Learn more in our <a href="https://developers.dwolla.com/guides/sandbox-setup/">getting started guide</a>. <strong>Remember:</strong> Your client_secret should be kept a secret! Be sure to store your client credentials securely.</p>
<h4 id='token-lifetime'>Token lifetime</h4>
<p><strong>Access tokens</strong> are <em>short lived</em>: 1 hour. To refresh authorization on an application access token, your application will simply exchange its client credentials for a new app access token. Any access tokens that have been previously initialized will not be invalidated with the creation of a new one; they will simply expire within an hour of the time of their creation.</p>
<h2 id='application-authorization'>Application authorization</h2>
<p>The <a href="https://tools.ietf.org/html/rfc6749#section-4.1">client credentials flow</a> is the simplest OAuth 2 grant, with a server-to-server exchange of your application&rsquo;s <code class="prettyprint">client_id</code>, <code class="prettyprint">client_secret</code> for an OAuth application access token. In order to execute this flow, your application will send a POST requests with the Authorization header that contains the word <code class="prettyprint">Basic</code> followed by a space and a base64-encoded string <code class="prettyprint">client_id:client_secret</code>.</p>

<p><code class="prettyprint">Authorization: Basic Base64(client_id:client_secret)</code></p>
<h4 id='http-request'>HTTP request</h4>
<p><strong>Production:</strong> <code class="prettyprint">POST https://api.dwolla.com/token</code></p>

<p><strong>Sandbox:</strong> <code class="prettyprint">POST https://api-sandbox.dwolla.com/token</code></p>

<p>Including the <code class="prettyprint">Content-Type: application/x-www-form-urlencoded</code> header, the request is sent to the token endpoint with <code class="prettyprint">grant_type=client_credentials</code> in the body of the request:</p>
<h4 id='request-parameters'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>yes</td>
<td>string</td>
<td>Application key. Navigate to <code class="prettyprint">https://dashboard.dwolla.com/applications</code> (production) or <code class="prettyprint">https://dashboard-sandbox.dwolla.com/applications-legacy</code> (Sandbox) for your application key.</td>
</tr>
<tr>
<td>client_secret</td>
<td>yes</td>
<td>string</td>
<td>Application secret. Navigate to <code class="prettyprint">https://dashboard.dwolla.com/applications</code> (production) or <code class="prettyprint">https://dashboard-sandbox.dwolla.com/applications-legacy</code> (Sandbox) for your application secret.</td>
</tr>
<tr>
<td>grant_type</td>
<td>yes</td>
<td>string</td>
<td>This must be set to <code class="prettyprint">client_credentials</code>.</td>
</tr>
</tbody></table>
<h4 id='response-parameters'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>A new access token that is used to authenticate against resources that belong to the app itself.</td>
</tr>
<tr>
<td>expires_in</td>
<td>The lifetime of the access token, in seconds.  Default is 3600.</td>
</tr>
<tr>
<td>token_type</td>
<td>Always <code class="prettyprint">bearer</code>.</td>
</tr>
</tbody></table>
<h4 id='request'>Request</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/token
Authorization: Basic YkVEMGJMaEFhb0pDamplbmFPVjNwMDZSeE9Eb2pyOUNFUzN1dldXcXUyeE9RYk9GeUE6WEZ0bmJIbXR3dXEwNVI1Yk91WmVOWHlqcW9RelNSc21zUU5qelFOZUFZUlRIbmhHRGw=
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="c"># This example assumes you've already initialized the client. Reference the SDKs page for more information: https://developers.dwolla.com/pages/sdks.html</span>
<span class="n">app_token</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">Auth</span><span class="o">.</span><span class="n">client</span><span class="p">()</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class="c1">// This example assumes you've already initialized the client. Reference the SDKs page for more information: https://developers.dwolla.com/pages/sdks.html</span>
<span class="nx">client</span><span class="p">.</span><span class="nx">auth</span><span class="p">.</span><span class="nx">client</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">appToken</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">appToken</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">);</span>
  <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">));</span>
  <span class="p">});</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="c1"># This example assumes you've already initialized the client. Reference the SDKs page for more information: https://developers.dwolla.com/pages/sdks.html</span>
<span class="n">app_token</span> <span class="o">=</span> <span class="vg">$dwolla</span><span class="p">.</span><span class="nf">auths</span><span class="p">.</span><span class="nf">client</span>
<span class="c1"># =&gt; #&lt;DwollaV2::Token client=#&lt;DwollaV2::Client id="..." secret="..." environment=:sandbox&gt; access_token="..." expires_in=3600 scope="..."&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="c1">// Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
// This example assumes you've already intialized the client. Reference the SDKs page for more information: https://developers.dwolla.com/pages/sdks.html
</span><span class="nv">$tokensApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TokensApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$appToken</span> <span class="o">=</span> <span class="nv">$tokensApi</span><span class="o">-&gt;</span><span class="na">token</span><span class="p">();</span>

<span class="nx">DwollaSwagger\Configuration</span><span class="o">::</span><span class="nv">$access_token</span> <span class="o">=</span> <span class="nv">$appToken</span><span class="o">-&gt;</span><span class="na">access_token</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h4 id='successful-response'>Successful response</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SF8Vxx6H644lekdVKAAHFnqRCFy8WGqltzitpii6w2MVaZp1Nw"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<hr>

            <h1 id='root'>Root</h1>
<p>The &ldquo;root&rdquo; serves as an entry point to the API, providing your application with the ability to fetch and discover resources available based on the OAuth <code class="prettyprint">access_token</code> provided in the request. If an application access token is provided in the request, the API will return links to resources that belong to the Dwolla application (i.e. &ldquo;events&rdquo; and &ldquo;webhook-subscriptions&rdquo;).</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/</code></p>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "account": {
      "href": "https://api-sandbox.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254"
    },
    "customers": {
      "href": "https://api-sandbox.dwolla.com/customers"
    }
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">root</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"/"</span>
<span class="n">root</span><span class="p">.</span><span class="nf">_links</span><span class="p">.</span><span class="nf">account</span><span class="p">.</span><span class="nf">href</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$rootApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\RootApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$root</span> <span class="o">=</span> <span class="nv">$rootApi</span><span class="o">-&gt;</span><span class="na">root</span><span class="p">();</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="nv">$root</span><span class="o">-&gt;</span><span class="na">_links</span><span class="p">[</span><span class="s2">"account"</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">href</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'/'</span><span class="p">)</span>
<span class="n">root</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_links'</span><span class="p">][</span><span class="s">'account'</span><span class="p">][</span><span class="s">'href'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_links</span><span class="p">.</span><span class="nx">account</span><span class="p">.</span><span class="nx">href</span><span class="p">);</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/accounts/ad5f2162-404a-4c4c-994e-6ab6c3a13254'</span>
</code></pre></div></div>
<hr>

            <h1 id='accounts'>Accounts</h1>
<p>An <code class="prettyprint">Account</code> represents your Dwolla Master Account that was established on dwolla.com.</p>
<h3 id='account-links'>Account links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the Account resource</td>
</tr>
<tr>
<td>receive</td>
<td>Follow the link to create a transfer to this Account.</td>
</tr>
<tr>
<td>funding-sources</td>
<td>GET this link to list the Account&rsquo;s funding sources.</td>
</tr>
<tr>
<td>transfers</td>
<td>GET this link to list the Account&rsquo;s transfers.</td>
</tr>
<tr>
<td>customers</td>
<td>(optional) If this link exists, this account is authorized to create and manage Dwolla API Customers.</td>
</tr>
<tr>
<td>send</td>
<td>Follow the link to create a transfer to this Account.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"receive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/transfers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"customers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"send"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/transfers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='retrieve-account-details'>Retrieve account details</h2>
<p>This section shows you how to retrieve basic account information belonging to the authorized Dwolla Master Account.</p>

<p>To retrieve your Account ID, you will need to call the <a href="#root">root</a> of the API.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to retrieve an Account by id.</td>
</tr>
<tr>
<td>404</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
    },
    "receive": {
      "href": "https://api-sandbox.dwolla.com/transfers"
    },
    "funding-sources": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources"
    },
    "transfers": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/transfers"
    },
    "customers": {
      "href": "https://api-sandbox.dwolla.com/customers"
    },
    "send": {
      "href": "https://api-sandbox.dwolla.com/transfers"
    }
  },
  "id": "ca32853c-48fa-40be-ae75-77b37504581b",
  "name": "Jane Doe"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">account</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">account_url</span>
<span class="n">account</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nv">$accountsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\AccountsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$account</span> <span class="o">=</span> <span class="nv">$accountsApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="nv">$account</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">);</span> <span class="c1"># =&gt; "Jane Doe"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">account</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">account_url</span><span class="p">)</span>
<span class="n">account</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">accountUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; 'Jane Doe'</span>
</code></pre></div></div><h2 id='create-a-funding-source-for-an-account'>Create a funding source for an account</h2>
<p>This section details how to add a bank account to a Dwolla Master Account. The bank account will have a status of <code class="prettyprint">unverified</code> upon creation. Before a Dwolla Master Account is eligible to transfer money from their bank or credit union account they need to verify ownership of the account via micro-deposit verification.</p>

<p>For more information on micro-deposit verification, reference the <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account number.</td>
</tr>
<tr>
<td>routingNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account&rsquo;s routing number.</td>
</tr>
<tr>
<td>bankAccountType</td>
<td>yes</td>
<td>string</td>
<td>Type of bank account: <code class="prettyprint">checking</code> or <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source.</td>
</tr>
<tr>
<td>channels</td>
<td>no</td>
<td>array</td>
<td>An array containing a list of processing channels. ACH is the default processing channel for bank transfers. Acceptable value for channels is: &ldquo;wire&rdquo;. e.g. <code class="prettyprint">“channels”: [ “wire” ]</code>. A funding source (Bank Account) added using the wire channel only supports a funds transfer going to the bank account from a balance. <strong>Note:</strong> <code class="prettyprint">channels</code> is a premium feature that must be enabled on your account and is only available to select <a href="https://www.dwolla.com/platform">Dwolla</a> customers.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Duplicate funding source or validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to create funding source.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
    "routingNumber": "222222226",
    "accountNumber": "123456789",
    "bankAccountType": "checking",
    "name": "My Bank"
}

...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fundingApi</span><span class="o">-&gt;</span><span class="na">createFundingSource</span><span class="p">([</span>
  <span class="s2">"routingNumber"</span> <span class="o">=&gt;</span> <span class="s2">"222222226"</span><span class="p">,</span>
  <span class="s2">"accountNumber"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span><span class="p">,</span>
  <span class="s2">"bankAccountType"</span> <span class="o">=&gt;</span> <span class="s2">"checking"</span><span class="p">,</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"My Bank"</span>
<span class="p">]);</span>
<span class="nv">$fundingSource</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">routingNumber: </span><span class="s1">'222222226'</span><span class="p">,</span>
  <span class="ss">accountNumber: </span><span class="s1">'123456789'</span><span class="p">,</span>
  <span class="ss">bankAccountType: </span><span class="s1">'checking'</span><span class="p">,</span>
  <span class="ss">name: </span><span class="s1">'My Bank'</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"funding-sources"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'routingNumber'</span><span class="p">:</span> <span class="s">'222222226'</span><span class="p">,</span>
  <span class="s">'accountNumber'</span><span class="p">:</span> <span class="s">'123456789'</span><span class="p">,</span>
  <span class="s">'bankAccountType'</span><span class="p">:</span> <span class="s">'checking'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'My Bank'</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'funding-sources'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'routingNumber'</span><span class="p">:</span> <span class="s1">'222222226'</span><span class="p">,</span>
  <span class="s1">'accountNumber'</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
  <span class="s1">'bankAccountType'</span><span class="p">:</span> <span class="s1">'checking'</span><span class="p">,</span>
  <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'My Bank'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">funding</span><span class="o">-</span><span class="nx">sources</span><span class="err">`</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3'</span>
</code></pre></div></div><h2 id='list-funding-sources-for-an-account'>List funding sources for an account</h2>
<p>Retrieve a list of funding sources that belong to an Account. By default, all funding sources are returned unless the <code class="prettyprint">removed</code> querystring parameter is set to <code class="prettyprint">false</code> in the request.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account&rsquo;s unique identifier.</td>
</tr>
<tr>
<td>removed</td>
<td>no</td>
<td>boolean</td>
<td>Filter removed funding sources. Defaults to <code class="prettyprint">true</code>. Set to <code class="prettyprint">false</code> to filter out removed funding sources from list (i.e. - /accounts/{id}/funding-sources?removed=false).</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to list funding sources.</td>
</tr>
<tr>
<td>404</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...
{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/funding-sources",
            "resource-type": "funding-source"
        }
    },
    "_embedded": {
        "funding-sources": [
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/funding-sources/04173e17-6398-4d36-a167-9d98c4b1f1c3",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "funding-source"
                    },
                    "account": {
                        "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "account"
                    }
                },
                "id": "04173e17-6398-4d36-a167-9d98c4b1f1c3",
                "status": "verified",
                "type": "bank",
                "bankAccountType": "checking",
                "name": "My Account - Checking",
                "created": "2017-09-25T20:03:41.000Z",
                "removed": false,
                "channels": [
                    "ach"
                ],
                "bankName": "First Midwestern Bank"
            },
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/funding-sources/b268f6b9-db3b-4ecc-83a2-8823a53ec8b7",
                    },
                    "account": {
                        "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b",
                    },
                    "with-available-balance": {
                        "href": "https://api-sandbox.dwolla.com/funding-sources/b268f6b9-db3b-4ecc-83a2-8823a53ec8b7",
                    },
                    "balance": {
                        "href": "https://api-sandbox.dwolla.com/funding-sources/b268f6b9-db3b-4ecc-83a2-8823a53ec8b7/balance",
                    }
                },
                "id": "b268f6b9-db3b-4ecc-83a2-8823a53ec8b7",
                "status": "verified",
                "type": "balance",
                "name": "Balance",
                "created": "2017-08-22T18:21:51.000Z",
                "removed": false,
                "channels": []
            }
        ]
    }
}

</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">account_url</span><span class="si">}</span><span class="s2">/funding-sources"</span>
<span class="n">funding_sources</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe's Checking"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">getAccountFundingSources</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">);</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'funding-sources'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Jane Doe’s Checking"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources'</span> <span class="o">%</span> <span class="n">account_url</span><span class="p">)</span>
<span class="n">funding_sources</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane Doe’s Checking'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">accountUrl</span><span class="p">}</span><span class="sr">/funding-sources`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; 'ABC Bank Checking'</span>
</code></pre></div></div><h2 id='list-and-search-transfers-for-an-account'>List and search transfers for an account</h2>
<p>This section covers how to retrieve an Account&rsquo;s list of transfers. Transaction search is supported by passing in optional query string parameters such as: <code class="prettyprint">search</code> which represents a term to search on, <code class="prettyprint">correlationId</code>, <code class="prettyprint">startAmount</code>, <code class="prettyprint">endAmount</code>, <code class="prettyprint">startDate</code>, <code class="prettyprint">endDate</code>, and <code class="prettyprint">status</code>.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}/transfers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account unique identifier to get transfers for.</td>
</tr>
<tr>
<td>search</td>
<td>no</td>
<td>string</td>
<td>A string to search on fields: <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, <code class="prettyprint">email</code>, <code class="prettyprint">businessName</code>, Customer Id, and Account Id. (<code class="prettyprint">/transfers?search=Doe</code>)</td>
</tr>
<tr>
<td>startAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or greater than <code class="prettyprint">startAmount</code>. Can optionally be used with <code class="prettyprint">endAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>endAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or less than <code class="prettyprint">endAmount</code>. Can optionally be used with <code class="prettyprint">startAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>startDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created after this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">endDate</code> to specify a date range.</td>
</tr>
<tr>
<td>endDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created before than this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">startDate</code> to specify a date range.</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter results on transaction status. Possible values: <code class="prettyprint">pending</code>, <code class="prettyprint">processed</code>, <code class="prettyprint">failed</code>, or <code class="prettyprint">cancelled</code>.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A string value to search on if a <code class="prettyprint">correlationId</code> was specified on a transfer or mass payment item.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to skip. Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966/transfers
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966/transfers",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966/transfers?&amp;limit=25&amp;offset=0",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966/transfers?&amp;limit=25&amp;offset=0",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    }
  },
  "_embedded": {
    "transfers": [{
      "_links": {
        "cancel": {
          "href": "https://api-sandbox.dwolla.com/transfers/14c6bcce-46f7-e811-8112-e8dd3bececa8",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "source": {
          "href": "https://api-sandbox.dwolla.com/funding-sources/12a0eaf9-9561-468d-bdeb-186b536aa2ed",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "funding-source"
        },
        "self": {
          "href": "https://api-sandbox.dwolla.com/transfers/14c6bcce-46f7-e811-8112-e8dd3bececa8",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "funded-transfer": {
          "href": "https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "destination": {
          "href": "https://api-sandbox.dwolla.com/funding-sources/84c77e52-d1df-4a33-a444-51911a9623e9",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "account"
        }
      },
      "id": "14c6bcce-46f7-e811-8112-e8dd3bececa8",
      "status": "pending",
      "amount": {
        "value": "42.00",
        "currency": "USD"
      },
      "created": "2018-12-03T22:00:22.980Z",
      "clearing": {
        "source": "standard"
      },
      "individualAchId": "IDOWBKVE"
    }, {
      "_links": {
        "cancel": {
          "href": "https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "self": {
          "href": "https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "source": {
          "href": "https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "account"
        },
        "source-funding-source": {
          "href": "https://api-sandbox.dwolla.com/funding-sources/12a0eaf9-9561-468d-bdeb-186b536aa2ed",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "funding-source"
        },
        "funding-transfer": {
          "href": "https://api-sandbox.dwolla.com/transfers/14c6bcce-46f7-e811-8112-e8dd3bececa8",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "transfer"
        },
        "destination": {
          "href": "https://api-sandbox.dwolla.com/customers/d295106b-ca20-41ad-9774-286e34fd3c2d",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "customer"
        },
        "destination-funding-source": {
          "href": "https://api-sandbox.dwolla.com/funding-sources/500f8e0e-dfd5-431b-83e0-cd6632e63fcb",
          "type": "application/vnd.dwolla.v1.hal+json",
          "resource-type": "funding-source"
        }
      },
      "id": "15c6bcce-46f7-e811-8112-e8dd3bececa8",
      "status": "pending",
      "amount": {
        "value": "42.00",
        "currency": "USD"
      },
      "created": "2018-12-03T22:00:22.970Z",
      "clearing": {
        "source": "standard"
      }
    }]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966'</span>

<span class="n">transfers</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">account_url</span><span class="si">}</span><span class="s2">/transfers"</span>
<span class="n">transfers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "processed"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966'</span><span class="p">;</span>

<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfers</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">getAccountTransfers</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">);</span>
<span class="nv">$transfers</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'transfers'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "processed"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966'</span>

<span class="n">transfers</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/transfers'</span> <span class="o">%</span> <span class="n">account_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; "processed"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">accountUrl</span><span class="p">}</span><span class="sr">/transfers`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; 'processed'</span>
</code></pre></div></div><h2 id='list-mass-payments-for-an-account'>List mass payments for an account</h2>
<p>This section covers how to retrieve an Account&rsquo;s list of previously created mass payments. Mass payments are returned ordered by date created, with most recent mass payments appearing first.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/accounts/{id}/mass-payments</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Account unique identifier to get mass payments for.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A string value to search on if a correlationId was specified on a mass payment.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>NotAuthorized</td>
<td>Not authorized to list mass payments.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Account not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

....

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b/mass-payments?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "mass-payments": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/mass-payments/b4b5a699-5278-4727-9f81-a50800ea9abc"
          },
          "source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/84c77e52-d1df-4a33-a444-51911a9623e9"
          },
          "items": {
            "href": "https://api-sandbox.dwolla.com/mass-payments/b4b5a699-5278-4727-9f81-a50800ea9abc/items"
          }
        },
        "id": "b4b5a699-5278-4727-9f81-a50800ea9abc",
        "status": "complete",
        "created": "2015-09-03T14:14:10.000Z",
        "metadata": {
          "UserJobId": "some ID"
        },
        "correlationId": "8a2cdc8d-629d-4a24-98ac-40b735229fe2"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">account_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">account_url</span><span class="si">}</span><span class="s2">/mass-payments"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
<span class="n">mass_payments</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "complete"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/a84222d5-31d2-4290-9a96-089813ef96b3'</span><span class="p">;</span>

<span class="nv">$masspaymentsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\MasspaymentsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$masspayments</span> <span class="o">=</span> <span class="nv">$masspaymentsApi</span><span class="o">-&gt;</span><span class="na">getByAccount</span><span class="p">(</span><span class="nv">$accountUrl</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nv">$masspayments</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'mass-payments'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "complete"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">account_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">transfers</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/mass-payments'</span> <span class="o">%</span> <span class="n">account_url</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; "complete"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">accountUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">accountUrl</span><span class="p">}</span><span class="sr">/mass-payments`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; 'complete'</span>
</code></pre></div></div>
<hr>

            <h1 id='customers'>Customers</h1>
<p>A Customer represents an individual or business with whom you intend to transact with and is programmatically created and managed by a Dwolla <a href="#accounts">Master account</a> via the API. In order for a Dwolla <code class="prettyprint">Account</code> to create and manage Customers, an application must obtain permission from Dwolla before being enabled in production. <strong>Note:</strong> Customers can only be US persons. Business Verified Customers may have non-US <a href="#controller-json-object">Controllers</a> or <a href="#beneficial-owners">Beneficial Owners</a>.</p>
<h3 id='customer-types'>Customer types</h3>
<p>With a transfer of money, <em>at least one party must complete the identity verification process</em>, either the sender or the receiver. This can be either the Dwolla Master Account itself or a <code class="prettyprint">verified</code> Customer type. Based on your business model and funds flow, it’s your decision about which party completes this process&ndash; you may even want to have both parties complete the identity verification process. A brief description of each Customer type is below, but for a more in-depth overview of each Customer type and what their capabilities are, check out our <a href="https://developers.dwolla.com/resources/account-types.html">developer resource article</a>.</p>
<h5 id='receive-only-users'>Receive-only Users</h5>
<p>Receive-only users are restricted to a &ldquo;payouts only&rdquo; funds flow. A receive-only user maintains limited functionality in the API and is only eligible to receive transfers to an attached bank account. This Customer type can only interact with verified Customers and a Dwolla Master Account.</p>
<h5 id='unverified-customers'>Unverified Customers</h5>
<p>Unverified Customers have a default sending transaction limit of $5,000 per week. A week is defined as Monday to Sunday UTC time. As this Customer is not identity verified, they will only be able to transact with verified Customers or your Dwolla Master Account.</p>
<h5 id='verified-customers'>Verified Customers</h5>
<p>Verified Customers are defined by their ability to both send and receive money, thus, being able to fit all funds flows. They can also interact with any Customer type and hold a <code class="prettyprint">balance</code> funding source within the Dwolla network. Think of the Dwolla <code class="prettyprint">balance</code> as a &ldquo;wallet&rdquo; which a Customer can send, receive, or hold funds to within the Dwolla network. With no weekly transfer limits, this Customer type is flexible for high transaction volumes.</p>

<p>A verified Customer can be created as a type of either <code class="prettyprint">Personal</code> or <code class="prettyprint">Business</code>.</p>
<h3 id='customer-links'>Customer links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the Customer resource</td>
</tr>
<tr>
<td>receive</td>
<td>Follow the link to create a transfer to this Customer.</td>
</tr>
<tr>
<td>funding-sources</td>
<td>GET this link to list the Customer&rsquo;s funding sources.</td>
</tr>
<tr>
<td>transfers</td>
<td>GET this link to list the Customer&rsquo;s transfers</td>
</tr>
<tr>
<td>send</td>
<td>(optional) If this link exists, this Customer can send funds.  POST to this URL to create a transfer.</td>
</tr>
<tr>
<td>retry-verification</td>
<td>If the Customer has a <code class="prettyprint">status</code> of <code class="prettyprint">retry</code>, POST to this link to attempt to correct their identity verification information.</td>
</tr>
<tr>
<td>verify-with-document</td>
<td>If the Verified Customer of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> has a <code class="prettyprint">status</code> of <code class="prettyprint">document</code>, POST to this link to upload a new color photo document to verify the Customer&rsquo;s identity. If type <code class="prettyprint">business</code>, the controller of the business. Read about <a href="#documents">Documents</a>.</td>
</tr>
<tr>
<td>verify-business-with-document</td>
<td>If the Verified Customer of type <code class="prettyprint">business</code> has a <code class="prettyprint">status</code> of <code class="prettyprint">document</code>, POST to this link to upload a new color photo document to verify the identity of the business itself.  Read about <a href="#documents">Documents</a>.</td>
</tr>
<tr>
<td>verify-controller-and-business-with-document</td>
<td>If the Verified Customer of type <code class="prettyprint">business</code> has a <code class="prettyprint">status</code> of <code class="prettyprint">document</code>, POST to this link to upload new color photo documents to verify the identity of the controller of the business as well as the business itself.  Read about <a href="#documents">Documents</a>.</td>
</tr>
</tbody></table>
<h3 id='customer-resource'>Customer resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Customer’s unique identifier.</td>
</tr>
<tr>
<td>firstName</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>type</td>
<td>Either <code class="prettyprint">unverified</code>, <code class="prettyprint">personal</code>, <code class="prettyprint">business</code>, or <code class="prettyprint">receive-only</code>.</td>
</tr>
<tr>
<td>status</td>
<td>If type is <strong>unverified</strong> or <strong>receive-only</strong>: status can be <code class="prettyprint">unverified</code> or <code class="prettyprint">suspended</code>. <br> If type is <strong>personal</strong> or <strong>business</strong>: status can be <code class="prettyprint">retry</code>, <code class="prettyprint">document</code>, <code class="prettyprint">verified</code>, or <code class="prettyprint">suspended</code>.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp.</td>
</tr>
</tbody></table>
<h3 id='customer-statuses'>Customer statuses</h3>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>unverified</td>
<td>Customers of type <code class="prettyprint">unverified</code> or <code class="prettyprint">receive-only</code> always have this status.</td>
</tr>
<tr>
<td>retry</td>
<td>Verified Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> can have this status. The initial verification attempt failed because the information provided did not satisfy our verification check.  You can make one additional attempt by changing some or all the attributes of the existing Customer with a POST request. If the additional attempt fails, the resulting status will be either <code class="prettyprint">document</code> or <code class="prettyprint">suspended</code>.</td>
</tr>
<tr>
<td>document</td>
<td>Verified Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> can have this status. Dwolla requires additional documentation to identify the Customer in the <code class="prettyprint">document</code> status.  Read about <a href="#documents">Documents</a>.</td>
</tr>
<tr>
<td>verified</td>
<td>Verified Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> can have this status. The Customer is currently verified.</td>
</tr>
<tr>
<td>suspended</td>
<td>All Customer types can have a status of <code class="prettyprint">suspended</code>. The Customer is suspended and may neither send nor receive funds. Contact Dwolla support for more information.</td>
</tr>
<tr>
<td>deactivated</td>
<td>All Customer types can have a status of <code class="prettyprint">deactivated</code>. A deactivated Customer may neither send nor receive funds. A deactivated Customer can be <a href="#reactivate-a-customer">reactivated</a> which moves the Customer to the status they were in prior to being deactivated.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/9da3aa7c-2524-430b-a751-6dc722735fce"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"receive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/transfers"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"edit-form"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/9da3aa7c-2524-430b-a751-6dc722735fce"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json; profile=\"https://github.com/dwolla/hal-forms\""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"edit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/9da3aa7c-2524-430b-a751-6dc722735fce"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/9da3aa7c-2524-430b-a751-6dc722735fce/funding-sources"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding-source"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/9da3aa7c-2524-430b-a751-6dc722735fce/transfers"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"send"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/transfers"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9da3aa7c-2524-430b-a751-6dc722735fce"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"janedoe@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personal"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-17T18:58:47.630Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99-99 33rd St"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some City"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11101"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5554321234"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-customer'>Create a customer</h2>
<p>This section details how to create a new Customer. It is important to prompt your users to provide their full name as it appears on a US government issued identification card. This will help ensure a straight-through processing approach. If errors occur in name or date of birth, where you may be prompted for such information, additional manual steps are required, which may add processing time that impedes their experience or may even result in additional cost to you.</p>

<p><a href="/#request-parameters---receive-only-user"><strong>To create <code class="prettyprint">Receive-only Users</code></strong></a>, you&rsquo;ll provide the customer&rsquo;s full name and email address, <code class="prettyprint">type</code> with the value of <code class="prettyprint">receive-only</code>, and <code class="prettyprint">businessName</code> if applicable. Must be a US person.</p>

<p><a href="/#request-parameters---unverified-customer"><strong>To create <code class="prettyprint">Unverified Customers</code></strong></a>, you will only need to provide the customer&rsquo;s full name and email address, as well as a <code class="prettyprint">businessName</code> if applicable. Must be a US person.</p>

<p><a href="/#request-parameters---verified-strongpersonalstrong-customer"><strong>To create <code class="prettyprint">Verified Customers</code></strong></a>, Dwolla will require additional information to confirm the identity of the individual or business. Must be a US person. Verified Customers can include type <code class="prettyprint">business</code> or <code class="prettyprint">personal</code>. For <a href="/#request-parameters---verified-business-customer-businesstypellc-corporation-or-partnership">businesses</a>, Dwolla will need to verify information about both the business and the controller for that business. Dwolla does not identity verify the Account Admin. The controller may be a non-US person.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers</code></p>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
<td>Customer created.</td>
</tr>
<tr>
<td>400</td>
<td>BadRequest</td>
<td>The request body contains bad syntax or is incomplete.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Reference the <a href="#validation-errors">errors section</a> for list of possible _embedded validation errors.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to create customers.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-parameters---receive-only-user'>Request parameters - receive-only User</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s first name. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s last name. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Value of <code class="prettyprint">receive-only</code>.</td>
</tr>
<tr>
<td>businessName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s registered business name. (<strong>Optional</strong> if not a business entity)</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A unique string value attached to a customer which can be used for traceability between Dwolla and your application. <strong>Note:</strong> A correlationId is not a replacement for an <a href="#idempotency-key">idempotency-key</a>. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID. Uniqueness is enforced on correlationId across Customers.</td>
</tr>
</tbody></table>
<h5 id='request-and-response---receive-only-user'>Request and response - receive-only User</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "Jane",
  "lastName": "Merchant",
  "email": "jmerchant@nomail.net",
  "type": "receive-only",
  "businessName": "Jane Corp llc",
  "ipAddress": "99.99.99.99"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'receive-only'</span><span class="p">,</span>
  <span class="ss">:businessName</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp llc'</span><span class="p">,</span>
  <span class="ss">:ipAddress</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'receive-only'</span><span class="p">,</span>
  <span class="s1">'businessName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp llc'</span><span class="p">,</span>
  <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">]);</span>
<span class="nv">$customer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'Jane'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Merchant'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'receive-only'</span><span class="p">,</span>
  <span class="s">'businessName'</span><span class="p">:</span> <span class="s">'Jane Corp llc'</span><span class="p">,</span>
  <span class="s">'ipAddress'</span><span class="p">:</span> <span class="s">'99.99.99.99'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s1">'receive-only'</span><span class="p">,</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="s1">'Jane Corp llc'</span><span class="p">,</span>
  <span class="na">ipAddress</span><span class="p">:</span> <span class="s1">'99.99.99.99'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f'</span>
</code></pre></div></div><h3 id='request-parameters---unverified-customer'>Request parameters - unverified Customer</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s first name. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s last name. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>businessName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s registered business name. (<strong>Optional</strong> if not a business entity)</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A unique string value attached to a customer which can be used for traceability between Dwolla and your application. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID. Uniqueness is enforced on correlationId across Customers.</td>
</tr>
</tbody></table>
<h5 id='request-and-response---unverified-customer'>Request and response - unverified Customer</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "Jane",
  "lastName": "Merchant",
  "email": "jmerchant@nomail.net",
  "ipAddress": "99.99.99.99",
  "businessName": "Jane Merchant's Business"
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="ss">:ipAddress</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'99.99.99.99'</span>
<span class="p">]);</span>

<span class="nv">$customer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'Jane'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Merchant'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="s">'ipAddress'</span><span class="p">:</span> <span class="s">'99.99.99.99'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Jane'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Merchant'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'jmerchant@nomail.net'</span><span class="p">,</span>
  <span class="na">ipAddress</span><span class="p">:</span> <span class="s1">'99.99.99.99'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f'</span>
</code></pre></div></div><h3 id='request-parameters---verified-strongpersonalstrong-customer'>Request parameters - verified <strong>personal</strong> Customer</h3>
<p>For an in-depth look at personal verified Customers creation and status handling, refer to our <a href="https://developers.dwolla.com/resources/personal-verified-customer.html">developer resource article</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>An individual Customer&rsquo;s first name. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>An individual Customer&rsquo;s last name. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>The Verified Customer type. Set to <code class="prettyprint">personal</code> if creating a verified personal Customer.</td>
</tr>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>First line of the street address of the Customer&rsquo;s permanent residence. Must be less than or equal to 50 characters and contain no special characters. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the Customer&rsquo;s permanent residence. Must be less than or equal to 50 characters and contain no special characters. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of Customer&rsquo;s permanent residence.</td>
</tr>
<tr>
<td>state</td>
<td>yes</td>
<td>string</td>
<td>Two letter abbreviation of the state in which the Customer resides, e.g. <code class="prettyprint">CA</code>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Postal code of Customer&rsquo;s permanent residence. US five-digit ZIP or ZIP + 4 code. e.g. <code class="prettyprint">50314</code>.</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s date of birth in <code class="prettyprint">YYYY-MM-DD</code> format. Must be between 18 to 125 years of age.</td>
</tr>
<tr>
<td>ssn</td>
<td>yes</td>
<td>string</td>
<td>Last four or full 9 digits of the Customer&rsquo;s Social Security Number.</td>
</tr>
<tr>
<td>phone</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s 10 digit phone number.  No hyphens or other separators, e.g. <code class="prettyprint">3334447777</code>.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A unique string value attached to a customer which can be used for traceability between Dwolla and your application. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID. Uniqueness is enforced on correlationId across Customers.</td>
</tr>
</tbody></table>
<h5 id='request-and-response---verified-strongpersonalstrong-customer'>Request and response - verified <strong>personal</strong> Customer</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "johndoe@nomail.net",
  "ipAddress": "10.10.10.10",
  "type": "personal",
  "address1": "99-99 33rd St",
  "city": "Some City",
  "state": "NY",
  "postalCode": "11101",
  "dateOfBirth": "1970-01-01",
  "ssn": "1234"
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>

  <span class="c1"># For the first attempt, only the
</span>  <span class="c1"># last 4 digits of SSN required
</span>
  <span class="c1"># If the entire SSN is provided,
</span>  <span class="c1"># it will still be accepted
</span>  <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'1234'</span>
<span class="p">]);</span>

<span class="nv">$customer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="ss">:state</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="ss">:dateOfBirth</span> <span class="o">=&gt;</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>

  <span class="c1"># For the first attempt, only the</span>
  <span class="c1"># last 4 digits of SSN required</span>

  <span class="c1"># If the entire SSN is provided,</span>
  <span class="c1"># it will still be accepted</span>

  <span class="ss">:ssn</span> <span class="o">=&gt;</span> <span class="s1">'1234'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'John'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Doe'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'personal'</span><span class="p">,</span>
  <span class="s">'address1'</span><span class="p">:</span> <span class="s">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s">'city'</span><span class="p">:</span> <span class="s">'Some City'</span><span class="p">,</span>
  <span class="s">'state'</span><span class="p">:</span> <span class="s">'NY'</span><span class="p">,</span>
  <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'11101'</span><span class="p">,</span>
  <span class="s">'dateOfBirth'</span><span class="p">:</span> <span class="s">'1970-01-01'</span><span class="p">,</span>
  <span class="c"># For the first attempt, only the</span>
  <span class="c"># last 4 digits of SSN required</span>
  <span class="c"># If the entire SSN is provided,</span>
  <span class="c"># it will still be accepted</span>
  <span class="s">'ssn'</span><span class="p">:</span> <span class="s">'1234'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'jdoe@nomail.net'</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="na">address1</span><span class="p">:</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="na">city</span><span class="p">:</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="na">state</span><span class="p">:</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>
  <span class="c1">// For the first attempt, only the</span>
  <span class="c1">// last 4 digits of SSN required</span>
  <span class="c1">// If the entire SSN is provided,</span>
  <span class="c1">// it will still be accepted</span>
  <span class="na">ssn</span><span class="p">:</span> <span class="s1">'1234'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/customers/fc451a7a-ae30-4404-aB95-e3553fcd733f'</span>
</code></pre></div></div><h3 id='request-parameters---verified-strongbusinessstrong-customer-sole-proprietorship-only'>Request parameters - verified <strong>business</strong> Customer (sole proprietorship only)</h3>
<p>For an in-depth look at business verified Customers creation and status handling, refer to our <a href="https://developers.dwolla.com/resources/business-verified-customer.html">developer resource article</a>. Dwolla will verify the identity of both the Business Owner and the Business entity.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>The legal first name of the business owner. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>The legal last name of the business owner. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>email address of the business owner.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>ipAddress of registering user is recommended.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Value of: <code class="prettyprint">business</code></td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>yes</td>
<td>string</td>
<td>The date of birth of the business owner. Formatted in <code class="prettyprint">YYYY-MM-DD</code> format. Must be between 18 to 125 years of age.</td>
</tr>
<tr>
<td>ssn</td>
<td>yes</td>
<td>string</td>
<td>Last four or full 9 digits of the business owner&rsquo;s Social Security Number.</td>
</tr>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>Street number, street name of business’ physical address. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Apartment, floor, suite, bldg. # of business’ physical address Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of business’ physical address.</td>
</tr>
<tr>
<td>state</td>
<td>yes</td>
<td>string</td>
<td>Two-letter US state or territory abbreviation code of business’ physical address. For two-letter abbreviation reference, check out the <a href="https://pe.usps.com/text/pub28/28apb.htm">US Postal Service guide</a>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Business’ US five-digit ZIP or ZIP + 4 code.</td>
</tr>
<tr>
<td>businessName</td>
<td>yes</td>
<td>string</td>
<td>Registered business name.</td>
</tr>
<tr>
<td>doingBusinessAs</td>
<td>no</td>
<td>string</td>
<td>Preferred business name &ndash; also known as fictitious name, or assumed name.</td>
</tr>
<tr>
<td>businessType</td>
<td>yes</td>
<td>string</td>
<td>Business structure. Value of <code class="prettyprint">soleProprietorship</code>.</td>
</tr>
<tr>
<td>businessClassification</td>
<td>yes</td>
<td>string</td>
<td>The industry classification Id that corresponds to Customer’s business. Reference the <a href="#list-business-classifications">Business Classifications section</a> to learn how to generate this Id.</td>
</tr>
<tr>
<td>ein</td>
<td>no</td>
<td>string</td>
<td>Employer Identification Number. Optional for <code class="prettyprint">soleProprietorship</code> business Customers</td>
</tr>
<tr>
<td>website</td>
<td>no</td>
<td>string</td>
<td>Business’ website. e.g. https://www.domain.com</td>
</tr>
<tr>
<td>phone</td>
<td>no</td>
<td>string</td>
<td>Business&rsquo;s 10 digit phone number. No hyphens or other separators, e.g. 3334447777.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A unique string value attached to a customer which can be used for traceability between Dwolla and your application. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID. Uniqueness is enforced on correlationId across Customers.</td>
</tr>
</tbody></table>
<h5 id='request-and-response---verified-strongbusinessstrong-customer-sole-proprietorship-only'>Request and response - verified <strong>business</strong> Customer (sole proprietorship only)</h5><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNic+oWhDbQcVSKLRUpGjIdl/YyrHqrDDoRnQwE7Q

{
    "firstName": "Business",
    "lastName": "Owner",
    "email": "solePropBusiness@email.com",
    "ipAddress": "143.156.7.8",
    "type": "business",
    "dateOfBirth": "1980-01-31",
    "ssn": "6789",
    "address1": "99-99 33rd St",
    "city": "Some City",
    "state": "NY",
    "postalCode": "11101",
    "businessClassification": "9ed3f670-7d6f-11e3-b1ce-5404a6144203",
    "businessType": "soleProprietorship",
    "businessName":"Jane Corp",
    "ein":"00-0000000"
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$new_customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
    <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Business'</span><span class="p">,</span>
    <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Owner'</span><span class="p">,</span>
    <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'solePropBusiness@email.com'</span><span class="p">,</span>
    <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'143.156.7.8'</span><span class="p">,</span>
    <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'business'</span><span class="p">,</span>
    <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1980-01-31'</span><span class="p">,</span>
    <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'6789'</span><span class="p">,</span>
    <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
    <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
    <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
    <span class="s1">'businessClassification'</span> <span class="o">=&gt;</span> <span class="s1">'9ed3f670-7d6f-11e3-b1ce-5404a6144203'</span><span class="p">,</span>
    <span class="s1">'businessType'</span> <span class="o">=&gt;</span> <span class="s1">'soleProprietorship'</span><span class="p">,</span>
    <span class="s1">'businessName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp'</span><span class="p">,</span>
    <span class="s1">'ein'</span> <span class="o">=&gt;</span> <span class="s1">'00-0000000'</span><span class="p">]);</span>

<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'Business'</span><span class="p">,</span>
    <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Owner'</span><span class="p">,</span>
    <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'solePropBusiness@email.com'</span><span class="p">,</span>
    <span class="ss">:ipAddress</span> <span class="o">=&gt;</span> <span class="s1">'143.156.7.8'</span><span class="p">,</span>
    <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'business'</span><span class="p">,</span>
    <span class="ss">:dateOfBirth</span> <span class="o">=&gt;</span> <span class="s1">'1980-01-31'</span><span class="p">,</span>
    <span class="ss">:ssn</span> <span class="o">=&gt;</span> <span class="s1">'6789'</span><span class="p">,</span>
    <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
    <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
    <span class="ss">:state</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
    <span class="ss">:businessClassification</span> <span class="o">=&gt;</span> <span class="s1">'9ed3f670-7d6f-11e3-b1ce-5404a6144203'</span><span class="p">,</span>
    <span class="ss">:businessType</span> <span class="o">=&gt;</span> <span class="s1">'soleProprietorship'</span><span class="p">,</span>
    <span class="ss">:businessName</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp'</span><span class="p">,</span>
    <span class="ss">:ein</span> <span class="o">=&gt;</span> <span class="s1">'00-0000000'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'Business'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Owner'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'solePropBusiness@email.com'</span><span class="p">,</span>
  <span class="s">'ipAddress'</span><span class="p">:</span> <span class="s">'143.156.7.8'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'business'</span><span class="p">,</span>
  <span class="s">'dateOfBirth'</span><span class="p">:</span> <span class="s">'1980-01-31'</span><span class="p">,</span>
  <span class="s">'ssn'</span><span class="p">:</span> <span class="s">'6789'</span><span class="p">,</span>
  <span class="s">'address1'</span><span class="p">:</span> <span class="s">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s">'city'</span><span class="p">:</span> <span class="s">'Some City'</span><span class="p">,</span>
  <span class="s">'state'</span><span class="p">:</span> <span class="s">'NY'</span><span class="p">,</span>
  <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'11101'</span><span class="p">,</span>
  <span class="s">'businessClassification'</span><span class="p">:</span> <span class="s">'9ed3f670-7d6f-11e3-b1ce-5404a6144203'</span><span class="p">,</span>
  <span class="s">'businessType'</span><span class="p">:</span> <span class="s">'soleProprietorship'</span><span class="p">,</span>
  <span class="s">'businessName'</span><span class="p">:</span> <span class="s">'Jane Corp'</span><span class="p">,</span>
  <span class="s">'ein'</span><span class="p">:</span> <span class="s">'00-0000000'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Business'</span><span class="p">,</span>
    <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Owner'</span><span class="p">,</span>
    <span class="na">email</span><span class="p">:</span> <span class="s1">'solePropBusiness@email.com'</span><span class="p">,</span>
    <span class="na">ipAddress</span><span class="p">:</span> <span class="s1">'143.156.7.8'</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="s1">'business'</span><span class="p">,</span>
    <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s1">'1980-01-31'</span><span class="p">,</span>
    <span class="na">ssn</span><span class="p">:</span> <span class="s1">'6789'</span><span class="p">,</span>
    <span class="na">address1</span><span class="p">:</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="s1">'Some City'</span><span class="p">,</span>
    <span class="na">state</span><span class="p">:</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'11101'</span><span class="p">,</span>
    <span class="na">businessClassification</span><span class="p">:</span> <span class="s1">'9ed3f670-7d6f-11e3-b1ce-5404a6144203'</span><span class="p">,</span>
    <span class="na">businessType</span><span class="p">:</span> <span class="s1">'soleProprietorship'</span><span class="p">,</span>
    <span class="na">businessName</span><span class="p">:</span> <span class="s1">'Jane Corp'</span><span class="p">,</span>
    <span class="na">ein</span><span class="p">:</span> <span class="s1">'00-0000000'</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5'</span>
</code></pre></div></div><h3 id='request-parameters---verified-business-customer-businesstypellc-corporation-or-partnership'>Request parameters - verified business Customer (businessType=llc, corporation or partnership)</h3>
<p>For an in-depth look at business verified Customers creation and status handling, refer to our <a href="https://developers.dwolla.com/resources/business-verified-customer.html">developer resource article</a>.
A verified business Customer must input information on the controller and the Business entity for Dwolla. Dwolla will verify the identity of both the Controller and the Business Entity.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>The legal first name of the Account Admin or business owner signing up the business verified Customer. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>The legal last name of the Account Admin or individual signing up the business verified Customer. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>email address of individual creating and managing the Customer account.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>ipAddress of registering user is recommended.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Value of: <code class="prettyprint">business</code></td>
</tr>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>Street number, street name of business’ physical address. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Apartment, floor, suite, bldg. # of business’ physical address. Must be less than or equal to 50 characters and contain no special characters.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of business’ physical address.</td>
</tr>
<tr>
<td>state</td>
<td>yes</td>
<td>string</td>
<td>Two-letter US state or territory abbreviation code of business’ physical address. For two-letter abbreviation reference, check out the <a href="https://pe.usps.com/text/pub28/28apb.htm">US Postal Service guide</a>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Business’ US five-digit ZIP or ZIP + 4 code.</td>
</tr>
<tr>
<td>businessName</td>
<td>yes</td>
<td>string</td>
<td>Registered business name.</td>
</tr>
<tr>
<td>doingBusinessAs</td>
<td>no</td>
<td>string</td>
<td>Preferred business name – also known as fictitious name, or assumed name.</td>
</tr>
<tr>
<td>businessType</td>
<td>yes</td>
<td>string</td>
<td>Business structure. Possible values are <code class="prettyprint">corporation</code>, <code class="prettyprint">llc</code>, <code class="prettyprint">partnership</code>.</td>
</tr>
<tr>
<td>businessClassification</td>
<td>yes</td>
<td>string</td>
<td>The industry classification Id that corresponds to Customer’s business. Reference the <a href="#list-business-classifications">Business Classifications section</a> to learn how to generate this Id.</td>
</tr>
<tr>
<td>ein</td>
<td>yes</td>
<td>string</td>
<td>Employer Identification Number.</td>
</tr>
<tr>
<td>website</td>
<td>no</td>
<td>string</td>
<td>Business’ website. e.g. https://www.domain.com</td>
</tr>
<tr>
<td>phone</td>
<td>no</td>
<td>string</td>
<td>Business&rsquo;s 10 digit phone number.  No hyphens or other separators, e.g. <code class="prettyprint">3334447777</code>.</td>
</tr>
<tr>
<td>controller</td>
<td>conditional</td>
<td>object</td>
<td>A controller JSON object.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A unique string value attached to a customer which can be used for traceability between Dwolla and your application. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID. Uniqueness is enforced on correlationId across Customers.</td>
</tr>
</tbody></table>
<h5 id='controller-json-object'>Controller JSON object</h5>
<p>A controller is any natural individual who holds significant responsibilities to control, manage, or direct a company or other corporate entity (i.e. CEO, CFO, General Partner, President, etc). A company may have more than one controller, but only one controller’s information must be collected. A controller may be a non-US person.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>String</td>
<td>The legal first name of the controller.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>String</td>
<td>The legal last name of the controller.</td>
</tr>
<tr>
<td>title</td>
<td>yes</td>
<td>String</td>
<td>Job title of the business verified Customer’s controller.  IE - Chief Financial Officer</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>yes</td>
<td>String</td>
<td>The date of birth of the controller. Formatted in YYYY-MM-DD format. Must be between 18 to 125 years of age.</td>
</tr>
<tr>
<td>ssn</td>
<td>conditional</td>
<td>String</td>
<td>Last four or full 9 digits of controller’s Social Security Number. <strong>Required</strong> for US persons. If SSN is omitted, <a href="#controller-passport-json-object">passport</a> is required.</td>
</tr>
<tr>
<td>address</td>
<td>yes</td>
<td>object</td>
<td>An <a href="/#controller-address-json-object">address JSON object</a>. Full address of the controller&rsquo;s physical address.</td>
</tr>
<tr>
<td>passport</td>
<td>conditional</td>
<td>object</td>
<td>An <a href="/#controller-passport-json-object">optional passport JSON object</a>. <strong>Required</strong> for non-US persons. Includes Passport Identification Number and Country. If <a href="#passport-json-object">passport</a> is omitted, SSN is required.</td>
</tr>
</tbody></table>
<h5 id='controller-address-json-object'>Controller address JSON object</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>Street number, street name of controller’s physical address. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Apartment, floor, suite, bldg. # of controller’s physical address. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address3</td>
<td>no</td>
<td>string</td>
<td>Third line of the street address of the controller&rsquo;s physical address. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of controller’s physical address.</td>
</tr>
<tr>
<td>stateProvinceRegion</td>
<td>yes</td>
<td>string</td>
<td><strong>US persons</strong> - Two-letter US state abbreviation code of controller’s physical address. For two-letter US state abbreviation reference, check out the <a href="https://pe.usps.com/text/pub28/28apb.htm">US Postal Service guide</a>. <br> <strong>Non-US persons</strong> - Two-letter state, province, or region ISO abbreviation code of controller&rsquo;s physical address. For two-letter ISO abbreviation reference, check out the <a href="https://en.wikipedia.org/wiki/ISO_3166-1">ISO guide</a>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>conditional</td>
<td>string</td>
<td>Controller’s’ US five-digit ZIP or ZIP + 4 code. Optional if controller is a non-US person.</td>
</tr>
<tr>
<td>country</td>
<td>yes</td>
<td>string</td>
<td>Country of controller’s physical address. Two digit ISO code, e.g. <code class="prettyprint">US</code>.</td>
</tr>
</tbody></table>
<h5 id='controller-passport-json-object'>Controller passport JSON object</h5>
<p>A controller will only need to input passport information if they are non-US persons and do not have a Social Security Number.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>conditional</td>
<td>string</td>
<td>Required if controller is a non-US person and has no Social Security Number.</td>
</tr>
<tr>
<td>country</td>
<td>conditional</td>
<td>string</td>
<td>Country of issued passport.</td>
</tr>
</tbody></table>
<h3 id='verified-business-customer-businesstype-llc-corporation-or-partnership'>Verified Business Customer (businessType= llc, corporation or partnership)</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNic+oWhDbQcVSKLRUpGjIdl/YyrHqrDDoRnQwE7Q

{
    "firstName": "Account",
    "lastName": "Admin",
    "email": "accountAdmin@email.com",
    "ipAddress": "143.156.7.8",
    "type": "business",
    "address1": "99-99 33rd St",
    "city": "Some City",
    "state": "NY",
    "postalCode": "11101",
    "controller": {
        "firstName": "John",
        "lastName": "Controller",
        "title": "CEO",
        "ssn": "6789",
        "dateOfBirth": "1980-01-31",
        "address": {
            "address1": "1749 18th st",
            "address2": "apt 12",
            "city": "Des Moines",
            "stateProvinceRegion": "IA",
            "postalCode": "50266",
            "country": "US"
        }
    },
    "businessClassification": "9ed3f670-7d6f-11e3-b1ce-5404a6144203",
    "businessType": "llc",
    "businessName":"Jane Corp",
    "ein":"00-0000000"
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$new_customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'Account'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Admin'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'accountAdmin@email.com'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'business'</span><span class="p">,</span>
  <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="s1">'controller'</span> <span class="o">=&gt;</span>
  <span class="p">[</span>
      <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
      <span class="s1">'lastName'</span><span class="o">=&gt;</span> <span class="s1">'Controller'</span><span class="p">,</span>
      <span class="s1">'title'</span> <span class="o">=&gt;</span> <span class="s1">'CEO'</span><span class="p">,</span>
      <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1990-10-10'</span><span class="p">,</span>
      <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'1234'</span><span class="p">,</span>
      <span class="s1">'address'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
          <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'18749 18th st'</span><span class="p">,</span>
          <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'apt 12'</span><span class="p">,</span>
          <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
          <span class="s1">'stateProvinceRegion'</span> <span class="o">=&gt;</span> <span class="s1">'IA'</span><span class="p">,</span>
          <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'50265'</span><span class="p">,</span>
          <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span>
      <span class="p">],</span>
  <span class="p">],</span>
  <span class="s1">'phone'</span> <span class="o">=&gt;</span> <span class="s1">'5554321234'</span><span class="p">,</span>
  <span class="s1">'businessClassification'</span> <span class="o">=&gt;</span> <span class="s1">'9ed3f670-7d6f-11e3-b1ce-5404a6144203'</span><span class="p">,</span>
  <span class="s1">'businessType'</span> <span class="o">=&gt;</span> <span class="s1">'llc'</span><span class="p">,</span>
  <span class="s1">'businessName'</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp'</span><span class="p">,</span>
  <span class="s1">'ein'</span> <span class="o">=&gt;</span> <span class="s1">'00-0000000'</span><span class="p">]);</span>

<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby (Recommended)</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'Account'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Admin'</span><span class="p">,</span>
  <span class="ss">:email</span> <span class="o">=&gt;</span> <span class="s1">'accountAdmin@email.com'</span><span class="p">,</span>
  <span class="ss">:type</span> <span class="o">=&gt;</span> <span class="s1">'business'</span><span class="p">,</span>
  <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="ss">:state</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="ss">:controller</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
      <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Controller'</span><span class="p">,</span>
      <span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s1">'CEO'</span><span class="p">,</span>
      <span class="ss">:dateOfBirth</span> <span class="o">=&gt;</span> <span class="s1">'1980-01-31'</span><span class="p">,</span>
      <span class="ss">:ssn</span> <span class="o">=&gt;</span> <span class="s1">'1234'</span><span class="p">,</span>
      <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'1749 18th st'</span><span class="p">,</span>
        <span class="ss">:address2</span> <span class="o">=&gt;</span> <span class="s1">'apt 12'</span><span class="p">,</span>
        <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
        <span class="ss">:stateProvinceRegion</span> <span class="o">=&gt;</span> <span class="s1">'IA'</span><span class="p">,</span>
        <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'50266'</span><span class="p">,</span>
        <span class="ss">:country</span> <span class="o">=&gt;</span> <span class="s1">'US'</span><span class="p">,</span>
      <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:businessClassification</span> <span class="o">=&gt;</span> <span class="s1">'9ed38155-7d6f-11e3-83c3-5404a6144203'</span><span class="p">,</span>
  <span class="ss">:businessType</span> <span class="o">=&gt;</span> <span class="s1">'llc'</span><span class="p">,</span>
  <span class="ss">:businessName</span> <span class="o">=&gt;</span> <span class="s1">'Jane Corp'</span><span class="p">,</span>
  <span class="ss">:ein</span> <span class="o">=&gt;</span> <span class="s1">'12-3456789'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python (Recommended)</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'Account'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Admin'</span><span class="p">,</span>
  <span class="s">'email'</span><span class="p">:</span> <span class="s">'accountAdmin@email.com'</span><span class="p">,</span>
  <span class="s">'type'</span><span class="p">:</span> <span class="s">'business'</span><span class="p">,</span>
  <span class="s">'address1'</span><span class="p">:</span> <span class="s">'99-99 33rd St'</span><span class="p">,</span>
  <span class="s">'city'</span><span class="p">:</span> <span class="s">'Some City'</span><span class="p">,</span>
  <span class="s">'state'</span><span class="p">:</span> <span class="s">'NY'</span><span class="p">,</span>
  <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'11101'</span><span class="p">,</span>
  <span class="s">'controller'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'John'</span><span class="p">,</span>
      <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Controller'</span><span class="p">,</span>
      <span class="s">'title'</span><span class="p">:</span> <span class="s">'CEO'</span><span class="p">,</span>
      <span class="s">'dateOfBirth'</span><span class="p">:</span> <span class="s">'1980-01-31'</span><span class="p">,</span>
      <span class="s">'ssn'</span><span class="p">:</span> <span class="s">'1234'</span><span class="p">,</span>
      <span class="s">'address'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'address1'</span><span class="p">:</span> <span class="s">'1749 18th st'</span><span class="p">,</span>
        <span class="s">'address2'</span><span class="p">:</span> <span class="s">'apt12'</span><span class="p">,</span>
        <span class="s">'city'</span><span class="p">:</span> <span class="s">'Des Moines'</span><span class="p">,</span>
        <span class="s">'stateProvinceRegion'</span><span class="p">:</span> <span class="s">'IA'</span><span class="p">,</span>
        <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'50266'</span><span class="p">,</span>
        <span class="s">'country'</span><span class="p">:</span> <span class="s">'US'</span>
      <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'businessClassification'</span><span class="p">:</span> <span class="s">'9ed38155-7d6f-11e3-83c3-5404a6144203'</span><span class="p">,</span>
  <span class="s">'businessType'</span><span class="p">:</span> <span class="s">'llc'</span><span class="p">,</span>
  <span class="s">'businessName'</span><span class="p">:</span> <span class="s">'Jane Corp'</span><span class="p">,</span>
  <span class="s">'ein'</span><span class="p">:</span> <span class="s">'12-3456789'</span>
<span class="p">}</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'Account'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Admin'</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s1">'accountAdmin@email.com'</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s1">'business'</span><span class="p">,</span>
  <span class="na">address1</span><span class="p">:</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
  <span class="na">city</span><span class="p">:</span> <span class="s1">'Some City'</span><span class="p">,</span>
  <span class="na">state</span><span class="p">:</span> <span class="s1">'NY'</span><span class="p">,</span>
  <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'11101'</span><span class="p">,</span>
  <span class="na">controller</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
      <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Controller'</span><span class="p">,</span>
      <span class="na">title</span><span class="p">:</span> <span class="s1">'CEO'</span><span class="p">,</span>
      <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s1">'1980-01-31'</span><span class="p">,</span>
      <span class="na">ssn</span><span class="p">:</span> <span class="s1">'1234'</span>
      <span class="na">address</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">address1</span><span class="p">:</span> <span class="s1">'1749 18th st'</span><span class="p">,</span>
        <span class="na">address2</span><span class="p">:</span> <span class="s1">'apt 12'</span><span class="p">,</span>
        <span class="na">city</span><span class="p">:</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
        <span class="na">stateProvinceRegion</span><span class="p">:</span> <span class="s1">'IA'</span><span class="p">,</span>
        <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'50266'</span><span class="p">,</span>
        <span class="na">country</span><span class="p">:</span> <span class="s1">'US'</span><span class="p">,</span>
      <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">businessClassification</span><span class="p">:</span> <span class="s1">'9ed38155-7d6f-11e3-83c3-5404a6144203'</span><span class="p">,</span>
  <span class="na">businessType</span><span class="p">:</span> <span class="s1">'llc'</span><span class="p">,</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="s1">'Jane Corp'</span><span class="p">,</span>
  <span class="na">ein</span><span class="p">:</span> <span class="s1">'12-3456789'</span>
<span class="p">};</span>
<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/customers/62c3aa1b-3a1b-46d0-ae90-17304d60c3d5'</span>
</code></pre></div></div><h2 id='retrieve-a-customer'>Retrieve a customer</h2>
<p>This section shows you how to retrieve a Customer belonging to the authorized Dwolla Master Account. Each <code class="prettyprint">Customer</code> id is a part of its location resource. You can pass either an <code class="prettyprint">id</code> or the entire <code class="prettyprint">location</code> resource to make this request.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to get a customer by id.</td>
</tr>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8"
    }
  },
  "id": "07d59716-ef22-4fe6-98e8-f3190233dfb8",
  "firstName": "Jane",
  "lastName": "Doe",
  "email": "janedoe@nomail.com",
  "type": "unverified",
  "status": "unverified",
  "created": "2015-09-03T23:56:10.023Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">customer_url</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">firstName</span> <span class="c1"># =&gt; "Jane"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span><span class="p">;</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getCustomer</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">firstName</span><span class="p">;</span> <span class="c1"># =&gt; "Jane"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">customer_url</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'firstName'</span><span class="p">]</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">customerUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">firstName</span><span class="p">);</span> <span class="c1">// =&gt; 'Jane'</span>
</code></pre></div></div><h2 id='list-and-search-customers'>List and search customers</h2>
<p>This section outlines how to retrieve your list of created Customers. This endpoint contains optional query string parameters allowing you to filter by <code class="prettyprint">email</code> and <code class="prettyprint">status</code>, as well as search on key fields such as <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, and <code class="prettyprint">businessName</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers</code></p>
<h3 id='pagination'>Pagination</h3>
<p>By default, an embedded list of 25 customers are returned and are sorted by created timestamp. To page through the remaining list, you’ll specify a combination of <code class="prettyprint">limit</code> and <code class="prettyprint">offset</code> as query string parameters. Limit can have a max value of 200 customer objects. It is recommended to use the <code class="prettyprint">_links</code> object in the response which includes the following relational links for paging. Check out the <a href="#links">Links</a> section for more information.</p>

<ul>
<li><code class="prettyprint">next</code> includes the URL to list the next set of Customers as defined by Limit</li>
<li><code class="prettyprint">prev</code> includes the URL to list the previous set of Customers as defined by Limit</li>
<li><code class="prettyprint">first</code> includes the URL to list the first set of Customers as defined by Limit</li>
<li><code class="prettyprint">last</code> includes the URL to list the last set of Customers as defined by Limit</li>
<li><code class="prettyprint">self</code> link indicates the URL of the resource itself</li>
</ul>
<h5 id='example-http-request'>Example HTTP Request</h5>
<p><code class="prettyprint">GET https://api.dwolla.com/customers?limit=5&amp;offset=25</code></p>
<h3 id='searching-and-filtering-customers'>Searching and filtering Customers</h3>
<p>The <code class="prettyprint">search</code> query string parameter contains a fuzzy search query across <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, <code class="prettyprint">businessName</code>, and <code class="prettyprint">email</code> fields. Scoring is performed on the search term which looks for approximate spellings that match the entered search string and results are returned accordingly in an embedded customers array.  <strong>Note:</strong> For exact match on <code class="prettyprint">email</code> string value, the email filter should be used.</p>

<p>The <code class="prettyprint">email</code> query string parameter is a filter that returns an embedded customers array based on an exact match of the filter value. For example, if you would like to search for a Customer with the email address “jane@email.com”, you can append the additional parameter <code class="prettyprint">email</code> to the request URL as shown in the example HTTP request below. <strong>Note:</strong> The email filter string value must be URL-encoded.</p>

<p>The <code class="prettyprint">status</code> query string parameter can be used to list an embedded customers array based on the status field. For example, if you would like to list all Customers that are in <code class="prettyprint">document</code> status, you can append the additional parameter <code class="prettyprint">status</code> to the request URL with the value &ldquo;document&rdquo;. Check out all possible values listed in the table below.</p>
<h5 id='example-request-url-using-code-classprettyprintemailcode-filter'>Example Request URL using <code class="prettyprint">email</code> filter</h5>
<p><code class="prettyprint">GET https://api.dwolla.com/customers?email=jane%40email.com</code></p>
<h5 id='example-request-url-using-code-classprettyprintsearchcode'>Example Request URL using <code class="prettyprint">search</code></h5>
<p><code class="prettyprint">GET https://api.dwolla.com/customers?search=Jane</code></p>
<h5 id='example-request-url-using-code-classprettyprintstatuscode-filter'>Example Request URL using <code class="prettyprint">status</code> filter</h5>
<p><code class="prettyprint">GET https://api.dwolla.com/customers?status=document</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>search</td>
<td>no</td>
<td>string</td>
<td>Searches on <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, and <code class="prettyprint">email</code> fields. <strong>Note:</strong> Value must be URL encoded. (<code class="prettyprint">/customers?search=Doe</code>)</td>
</tr>
<tr>
<td>email</td>
<td>no</td>
<td>string</td>
<td>Filter by <code class="prettyprint">email</code> field. <strong>Note:</strong> Value must be URL encoded. (`<code class="prettyprint">/customers?email=jane.doe%40email.com</code>)</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter by Customer status or multiple Customer statuses. Possible values: <code class="prettyprint">unverified</code>, <code class="prettyprint">retry</code>, <code class="prettyprint">kba</code>, <code class="prettyprint">document</code>, <code class="prettyprint">verified</code>, <code class="prettyprint">suspended</code>, or <code class="prettyprint">deactivated</code>. (e.g. <code class="prettyprint">/customers?status=retry&amp;status=document</code>)</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "first": {
      "href": "https://api-sandbox.dwolla.com/customers?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/customers?limit=25&amp;offset=0"
    },
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "customers": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8"
          }
        },
        "id": "07d59716-ef22-4fe6-98e8-f3190233dfb8",
        "firstName": "Jane",
        "lastName": "Doe",
        "email": "janedoe@nomail.com",
        "type": "unverified",
        "status": "unverified",
        "created": "2015-09-03T23:56:10.023Z"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customers</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"customers"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
<span class="n">customers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">.</span><span class="nf">[</span><span class="s1">'customers'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">firstName</span> <span class="c1"># =&gt; "Jane"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customers</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="nv">$customers</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'customers'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">firstName</span><span class="p">;</span> <span class="c1"># =&gt; "Jane"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'customers'</span><span class="p">,</span> <span class="n">limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'customers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'firstName'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'customers'</span><span class="p">,</span> <span class="p">{</span> <span class="na">limit</span><span class="p">:</span> <span class="mi">10</span> <span class="p">})</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'customers'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">firstName</span><span class="p">);</span> <span class="c1">// =&gt; 'Jane'</span>
</code></pre></div></div><h2 id='update-a-customer'>Update a customer</h2>
<p>This endpoint can be used to facilitate the following use cases: Update Customer information, upgrade an <code class="prettyprint">unverified</code> Customer to a <code class="prettyprint">verified</code> Customer, suspend a Customer, deactivate a Customer, reactivate a Customer, and update a verified Customer&rsquo;s information to <code class="prettyprint">retry</code> verification.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}</code></p>
<h3 id='update-a-customer39s-information'>Update a Customer&rsquo;s information</h3>
<p>A limited set of information can be updated on an existing created Customer. <strong>Note:</strong> A Customer&rsquo;s information cannot be updated when in a <a href="#customer-statuses">status</a> of <code class="prettyprint">document</code> or <code class="prettyprint">suspended</code>.</p>
<h5 id='request-parameters---unverified-customer-and-receive-only-user'>Request parameters -  unverified Customer and receive-only User</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>businessName</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s registered business name. An empty string value will unset businessName.</td>
</tr>
</tbody></table>
<h5 id='request-parameters---verified-customer'>Request parameters -  verified Customer</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
<tr>
<td>address1</td>
<td>no</td>
<td>string</td>
<td>First line of the street address of the customer&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the customer&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>city</td>
<td>no</td>
<td>string</td>
<td>City of customer&rsquo;s permanent residence.</td>
</tr>
<tr>
<td>state</td>
<td>no</td>
<td>string</td>
<td>Two letter abbreviation of the state in which the customer resides.  e.g. <code class="prettyprint">NY</code>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>no</td>
<td>string</td>
<td>Postal code of customer&rsquo;s permanent residence. Should be a five digit postal code, e.g. <code class="prettyprint">50314</code>.</td>
</tr>
<tr>
<td>phone</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s 10 digit phone number.  No hyphens or other separators, e.g. <code class="prettyprint">3334447777</code>.</td>
</tr>
</tbody></table>
<h5 id='request-parameters---verified-customer-with-typebusiness'>Request parameters - verified Customer with type=business</h5>
<p>In addition to the table above, business verified Customers can update the following fields.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>doingBusinessAs</td>
<td>no</td>
<td>string</td>
<td>Name that is different from the officially registered name of Customer’s business.</td>
</tr>
<tr>
<td>website</td>
<td>no</td>
<td>string</td>
<td>https://www.domain.com</td>
</tr>
</tbody></table>
<h3 id='upgrade-an-unverified-customer-to-verified-customer'>Upgrade an unverified Customer to verified Customer</h3>
<p>An unverified Customer can be upgraded to a verified Customer by supplying the necessary information required to create a verified Customer. Reference <a href="#request-parameters---verified-customer">this table</a> for required information.</p>
<h3 id='suspend-a-customer'>Suspend a Customer</h3>
<p>Unverified and Verified Customers can be suspended by specifying a status of <code class="prettyprint">suspended</code> in your request. You&rsquo;ll need to contact Dwolla to unsuspend a Customer.</p>
<h5 id='request-parameters'>Request parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Value of <code class="prettyprint">suspended</code>.</td>
</tr>
</tbody></table>
<h3 id='deactivate-a-customer'>Deactivate a Customer</h3>
<p>Customers can be deactivated by specifying a status of <code class="prettyprint">deactivated</code> in your request. A Customer <strong>cannot</strong> be deactivated if the Customer has a <code class="prettyprint">suspended</code> verification status. Customers can be systematically deactivated by Dwolla if certain ACH return codes are triggered on bank transfer failures.</p>
<h5 id='request-parameters'>Request parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Value of <code class="prettyprint">deactivated</code>.</td>
</tr>
</tbody></table>
<h3 id='reactivate-a-customer'>Reactivate a Customer</h3>
<p>Customers can be reactivated by specifying a status of <code class="prettyprint">reactivated</code> in your request. Reactivated Customers will be moved to the status they were in prior to being deactivated.</p>
<h5 id='request-parameters'>Request parameters</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Value of <code class="prettyprint">reactivated</code>.</td>
</tr>
</tbody></table>
<h3 id='retry-verification'>Retry verification</h3>
<p>If the verified Customer has a status of <code class="prettyprint">retry</code>, some information may have been miskeyed. You have one more opportunity to correct any mistakes using this endpoint. This time, you’ll need to provide the Customer’s full SSN. If the additional attempt fails, the resulting status will be either <code class="prettyprint">document</code> or <code class="prettyprint">suspended</code>.</p>
<h3 id='customer-must-be-in-the-retry-state'>Customer must be in the retry state:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"deactivate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"edit-form"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json; profile=\"https://github.com/dwolla/hal-forms\""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"edit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"funding-sources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f/funding-sources"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding-source"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"retry-verification"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f/transfers"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53863b11-1758-47c8-821f-00e6a126f97f"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retry"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@nomail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personal"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"retry"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-06T20:11:13.430Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99-99 33rd St"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some City"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11101"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='request-and-response'>Request and response</h3>
<p>This example goes through retry verification for a <a href="https://developers.dwolla.com/resources/personal-verified-customer/handling-verification-statuses-personal.html#handling-status-retry">Personal Verified Customer</a>. For a Business Verified Customer in <code class="prettyprint">retry</code> status, all fields that were required in the initial Customer creation attempt will be required in the retry attempt, along with the full 9-digit SSN. To learn more about retry for business verified Customers and view further code examples, refer to our <a href="https://developers.dwolla.com/resources/business-verified-customer/handling-controller-and-customer-statuses.html#handling-retry-status">business verified Customer developer resource article</a>.</p>
<div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "John",
  "lastName": "Doe",
  "email": "jdoe@nomail.com",
  "ipAddress": "10.10.10.10",
  "type": "personal",
  "address1": "221 Corrected Address St.",
  "address2": "Apt 201",
  "city": "San Francisco",
  "state": "CA",
  "postalCode": "94104",
  "dateOfBirth": "1970-07-11",
  "ssn": "123-45-6789"
}

...

{
    "_links": {
        "deactivate": {
            "href": "https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        },
        "self": {
            "href": "https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        },
        "receive": {
            "href": "https://api-sandbox.dwolla.com/transfers",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "transfer"
        },
        "edit-form": {
            "href": "https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f",
            "type": "application/vnd.dwolla.v1.hal+json; profile=\"https://github.com/dwolla/hal-forms\"",
            "resource-type": "customer"
        },
        "edit": {
            "href": "https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        },
        "funding-sources": {
            "href": "https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f/funding-sources",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "funding-source"
        },
        "transfers": {
            "href": "https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f/transfers",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "transfer"
        },
        "send": {
            "href": "https://api-sandbox.dwolla.com/transfers",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "transfer"
        }
    },
    "id": "53863b11-1758-47c8-821f-00e6a126f97f",
    "firstName": "John",
    "lastName": "Doe",
    "email": "jdoe@nomail.com",
    "type": "personal",
    "status": "verified",
    "created": "2017-11-06T20:11:13.430Z",
    "address1": "221 Corrected Address St.",
    "address2": "Apt 201",
    "city": "San Francisco",
    "state": "CA",
    "postalCode": "94104"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f'</span><span class="p">;</span>
<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">updateCustomer</span><span class="p">(</span><span class="k">array</span> <span class="p">(</span>
  <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="s1">'lastName'</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="s1">'email'</span> <span class="o">=&gt;</span> <span class="s1">'jdoe@nomail.com'</span><span class="p">,</span>
  <span class="s1">'ipAddress'</span> <span class="o">=&gt;</span> <span class="s1">'10.10.10.10'</span><span class="p">,</span>
  <span class="s1">'type'</span> <span class="o">=&gt;</span> <span class="s1">'personal'</span><span class="p">,</span>
  <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'221 Corrected Address St.'</span><span class="p">,</span>
  <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'Apt 201'</span><span class="p">,</span>
  <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'San Francisco'</span><span class="p">,</span>
  <span class="s1">'state'</span> <span class="o">=&gt;</span> <span class="s1">'CA'</span><span class="p">,</span>
  <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'94104'</span><span class="p">,</span>
  <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1970-07-11'</span><span class="p">,</span>
  <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'123-45-6789'</span><span class="p">,</span>
<span class="p">),</span> <span class="nv">$customerUrl</span><span class="p">);</span>

<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "53863b11-1758-47c8-821f-00e6a126f97f"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"firstName"</span> <span class="o">=&gt;</span> <span class="s2">"John"</span><span class="p">,</span>
       <span class="s2">"lastName"</span> <span class="o">=&gt;</span> <span class="s2">"Doe"</span><span class="p">,</span>
          <span class="s2">"email"</span> <span class="o">=&gt;</span> <span class="s2">"jdoe@nomail.com"</span><span class="p">,</span>
      <span class="s2">"ipAddress"</span> <span class="o">=&gt;</span> <span class="s2">"10.10.10.10"</span><span class="p">,</span>
           <span class="s2">"type"</span> <span class="o">=&gt;</span> <span class="s2">"personal"</span><span class="p">,</span>
       <span class="s2">"address1"</span> <span class="o">=&gt;</span> <span class="s2">"221 Corrected Address St."</span><span class="p">,</span>
       <span class="s2">"address2"</span> <span class="o">=&gt;</span> <span class="s2">"Apt 201"</span><span class="p">,</span>
           <span class="s2">"city"</span> <span class="o">=&gt;</span> <span class="s2">"San Francisco"</span><span class="p">,</span>
          <span class="s2">"state"</span> <span class="o">=&gt;</span> <span class="s2">"CA"</span><span class="p">,</span>
     <span class="s2">"postalCode"</span> <span class="o">=&gt;</span> <span class="s2">"94104"</span><span class="p">,</span>
    <span class="s2">"dateOfBirth"</span> <span class="o">=&gt;</span> <span class="s2">"1970-07-11"</span><span class="p">,</span>
            <span class="s2">"ssn"</span> <span class="o">=&gt;</span> <span class="s2">"123-45-6789"</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "53863b11-1758-47c8-821f-00e6a126f97f"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"firstName"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span>
  <span class="s">"lastName"</span><span class="p">:</span> <span class="s">"Doe"</span><span class="p">,</span>
  <span class="s">"email"</span><span class="p">:</span> <span class="s">"jdoe@nomail.com"</span><span class="p">,</span>
  <span class="s">"ipAddress"</span><span class="p">:</span> <span class="s">"10.10.10.10"</span><span class="p">,</span>
  <span class="s">"type"</span><span class="p">:</span> <span class="s">"personal"</span><span class="p">,</span>
  <span class="s">"address1"</span><span class="p">:</span> <span class="s">"221 Corrected Address St."</span><span class="p">,</span>
  <span class="s">"address2"</span><span class="p">:</span> <span class="s">"Apt 201"</span><span class="p">,</span>
  <span class="s">"city"</span><span class="p">:</span> <span class="s">"San Francisco"</span><span class="p">,</span>
  <span class="s">"state"</span><span class="p">:</span> <span class="s">"CA"</span><span class="p">,</span>
  <span class="s">"postalCode"</span><span class="p">:</span> <span class="s">"94104"</span><span class="p">,</span>
  <span class="s">"dateOfBirth"</span><span class="p">:</span> <span class="s">"1970-07-11"</span><span class="p">,</span>
  <span class="s">"ssn"</span><span class="p">:</span> <span class="s">"123-45-6789"</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="nb">id</span> <span class="c"># =&gt; '53863b11-1758-47c8-821f-00e6a126f97f'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/53863b11-1758-47c8-821f-00e6a126f97f'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="na">email</span><span class="p">:</span> <span class="s2">"johndoe@dwolla.com"</span><span class="p">,</span>
  <span class="na">ipAddress</span><span class="p">:</span> <span class="s2">"10.10.10.10"</span><span class="p">,</span>
  <span class="na">type</span><span class="p">:</span> <span class="s2">"personal"</span><span class="p">,</span>
  <span class="na">address1</span><span class="p">:</span> <span class="s2">"221 Corrected Address St."</span><span class="p">,</span>
  <span class="na">address2</span><span class="p">:</span> <span class="s2">"Fl 8"</span><span class="p">,</span>
  <span class="na">city</span><span class="p">:</span> <span class="s2">"Ridgewood"</span><span class="p">,</span>
  <span class="na">state</span><span class="p">:</span> <span class="s2">"NY"</span><span class="p">,</span>
  <span class="na">postalCode</span><span class="p">:</span> <span class="s2">"11385"</span><span class="p">,</span>
  <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s2">"1990-07-11"</span><span class="p">,</span>
  <span class="na">ssn</span><span class="p">:</span> <span class="s2">"202-99-1516"</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">customerUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '53863b11-1758-47c8-821f-00e6a126f97f'</span>
</code></pre></div></div><h3 id='if-you-try-more-than-once-or-customer-is-not-in-retry-state'>If you try more than once, or Customer is not in retry state:</h3><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InvalidResourceState"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Resource cannot be modified."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='request-parameters---retry-verified-strongpersonalstrong-customer'>Request parameters - retry verified <strong>personal</strong> Customer</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s first name.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s last name.</td>
</tr>
<tr>
<td>email</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s email address.</td>
</tr>
<tr>
<td>ipAddress</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s IP address.</td>
</tr>
<tr>
<td>type</td>
<td>yes</td>
<td>string</td>
<td>Either <code class="prettyprint">personal</code> or <code class="prettyprint">business</code>. If business, see above for additional required information.</td>
</tr>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>First line of the street address of the Customer&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the Customer&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of Customer&rsquo;s permanent residence.</td>
</tr>
<tr>
<td>state</td>
<td>yes</td>
<td>string</td>
<td>Two letter abbreviation of the state in which the customer resides, e.g. <code class="prettyprint">CA</code>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Postal code of Customer&rsquo;s permanent residence. Should be a five digit postal code, e.g. <code class="prettyprint">50314</code>.</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s date of birth in <code class="prettyprint">YYYY-MM-DD</code> format. Must be between 18 to 125 years of age.</td>
</tr>
<tr>
<td>ssn</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s <strong>full</strong> Social Security Number.</td>
</tr>
<tr>
<td>phone</td>
<td>no</td>
<td>string</td>
<td>Customer&rsquo;s 10 digit phone number.  No hyphens or other separators, e.g. <code class="prettyprint">3334447777</code>.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Duplicate customer or validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to create customers.</td>
</tr>
</tbody></table>
<h2 id='list-business-classifications'>List business classifications</h2>
<p>Retrieve an <code class="prettyprint">_embedded</code> list of business classifications that contains an <code class="prettyprint">_embedded</code> list of industry classifications. The appropriate Id from the list of industry classifications must be passed in the <code class="prettyprint">businessClassification</code> parameter when <a href="#request-parameters---verified-strongbusinessstrong-customer-sole-proprietorship-only">creating a Business Verified Customer</a>. The industry classification is used to identify the Customer&rsquo;s business and is required by Dwolla when verifying a <code class="prettyprint">business</code> in order to better analyze the nature of a business.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/business-classifications</code></p>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/business-classifications
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {},
  "_embedded": {
    "business-classifications": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/business-classifications/9ed3f669-7d6f-11e3-b545-5404a6144203"
          }
        },
        "_embedded": {
          "industry-classifications": [
            {
              "id": "9ed3f671-7d6f-11e3-803c-5404a6144203",
              "name": "Gourmet foods"
            },
            {
              "id": "9ed3f66c-7d6f-11e3-86ae-5404a6144203",
              "name": "Distilleries"
            },
            {
              ...........
            }
          ]
        },
        "id": "9ed3f669-7d6f-11e3-b545-5404a6144203",
        "name": "Food retail and service"
      }
      ...........
    ]
  },
  "total": 27
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">business_classifications</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"business-classifications"</span>
<span class="n">business_classifications</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'business-classifications'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1"># =&gt; "Food retail and service"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$businessClassificationsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\BusinessclassificationsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$busClassifications</span> <span class="o">=</span> <span class="nv">$businessClassificationsApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">();</span>
<span class="nv">$busClassifications</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'business-classifications'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Food retail and service"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">business_classifications</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'business-classifications'</span><span class="p">)</span>
<span class="n">business_classifications</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'business-classifications'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Food retail and service'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'business-classifications'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'business-classifications'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; 'Food retail and service'</span>
</code></pre></div></div><h2 id='retrieve-a-business-classification'>Retrieve a business classification</h2>
<p>This section shows you how to retrieve an Id from a list of industry classifications to be passed in the <code class="prettyprint">businessClassification</code> parameter when <a href="#request-parameters---verified-strongbusinessstrong-customer-sole-proprietorship-only">creating a Business Verified Customer</a>.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/business-classifications/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Business classification unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203"
    }
  },
  "_embedded": {
    "industry-classifications": [
      {
        "id": "9ed3cf58-7d6f-11e3-81a4-5404a6144203",
        "name": "Toys and games"
      },
      {
        "id": "9ed3cf50-7d6f-11e3-8ae8-5404a6144203",
        "name": "Music"
      },
      {
        ...........
      }
    ]
  },
  "id": "9ed3a866-7d6f-11e3-a0ce-5404a6144203",
  "name": "Entertainment and media"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">business_classification_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203'</span>

<span class="n">business_classification</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">business_classification_url</span>
<span class="n">business_classification</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Entertainment and media"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$businessClassificationUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203'</span><span class="p">;</span>

<span class="nv">$businessClassificationsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\BusinessclassificationsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$busClassifications</span> <span class="o">=</span> <span class="nv">$businessClassificationsApi</span><span class="o">-&gt;</span><span class="na">getBusinessClassification</span><span class="p">(</span><span class="nv">$businessClassificationUrl</span><span class="p">);</span>
<span class="nv">$busClassifications</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Entertainment and media"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">business_classification_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203'</span>

<span class="n">busClassification</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">business_classification_url</span><span class="p">)</span>
<span class="n">busClassification</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">businessClassificationUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/business-classifications/9ed3a866-7d6f-11e3-a0ce-5404a6144203'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">businessClassificationUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; 'Entertainment and media'</span>
</code></pre></div></div>
<hr>

            <h1 id='knowledge-based-authentication-kba'>Knowledge-based Authentication (KBA)</h1>
<p>Knowledge-based authentication, commonly referred to as KBA, is a method of authentication which seeks to prove the identity of an individual. KBA requires the knowledge of private information of the individual to prove that the person providing the identity information is the owner of the identity. Questions are compiled from public and private data such as marketing data, credit reports or transaction history.</p>

<blockquote>
<p><strong>Note:</strong> KBA as a method of verifying an identity is only available to <a href="https://developers.dwolla.com/resources/account-types.html#verified-customer">Personal Verified Customers</a> at this time. </p>
</blockquote>
<h3 id='kba-links'>KBA Links</h3>
<table><thead>
<tr>
<th>Links</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>answer</td>
<td>Url of the correct KBA answer</td>
</tr>
</tbody></table>
<h2 id='initiate-kba-session'>Initiate KBA Session</h2>
<p>This section covers how to generate a new KBA identifier which is used to represent the session for the user created as a personal Verified Customer record.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/kba</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The ID of the Customer to verify via KBA.</td>
</tr>
</tbody></table>
<h3 id='example-request-and-response'>Example request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api.dwolla.com/customers/33aa88b1-97df-424a-9043-d5f85809858b/kba
Authorization: Bearer cRahPzURfaIrTKL18tmslWPqKdzkLeYJm0oB1hGJ1vMPArft1v
Content-Type: application/json
Accept: application/vnd.dwolla.v1.hal+json

...

HTTP/1.1 201 Created\
Location: https://api.dwolla.com/kba/33aa88b1-97df-424a-9043-d5f85809858b
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/ca22d192-48f1-4b72-b29d-681e9e20795d'</span>

<span class="n">kba</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/kba"</span>
<span class="n">kba</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s2">"https://api.dwolla.com/customers/ca22d192-48f1-4b72-b29d-681e9e20795d"</span>

<span class="nv">$kba</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">initiateKba</span><span class="p">(</span><span class="nv">$customer_url</span><span class="p">);</span>
<span class="nv">$kba</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/61a74e62-e27d-46f1-9fa6-a8e57226bb3e'</span>

<span class="n">kba</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/kba'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">kba</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; "https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/61a74e62-e27d-46f1-9fa6-a8e57226bb3e'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/kba`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>
</code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
<td>A KBA question for a Customer was created.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>Customer verification status is not valid for kba.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>The supplied credentials are not authorized for this resource. Not authorized to create KBA questions.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Customer not found. Check CustomerId.</td>
</tr>
</tbody></table>
<h2 id='retrieve-kba-questions'>Retrieve KBA Questions</h2>
<p>On KBA question creation, Dwolla will return a 201 HTTP statusCode and a link to the KBA session from which to retrieve questions.
This section covers how to retrieve KBA questions after you have created the KBA session.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/kba/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the KBA session to retrieve questions for.</td>
</tr>
</tbody></table>
<h3 id='example-request-and-response'>Example request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api.dwolla.com/kba/33aa88b1-97df-424a-9043-d5f85809858b
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer cRahPzURfaIrTewKL18tmslWPqKdzkLeYJm0oB1hGJ1vMPArft1v

...

{
    "_links": {
        "answer": {
            "href": "https://api-sandbox.dwolla.com/kba/33aa88b1-97df-424a-9043-d5f85809858b",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "kba"
        }
    },
    "id": "33aa88b1-97df-424a-9043-d5f85809858b",
    "questions": [
        {
            "id": "2355953375",
            "text": "In what county do you currently live?",
            "answers": [
                {
                    "id": "2687969295",
                    "text": "Pulaski"
                },
                {
                    "id": "2687969305",
                    "text": "St. Joseph"
                },
                {
                    "id": "2687969315",
                    "text": "Daviess"
                },
                {
                    "id": "2687969325",
                    "text": "Jackson"
                },
                {
                    "id": "2687969335",
                    "text": "None of the above"
                }
            ]
        },
        {
            "id": "2355953385",
            "text": "Which team nickname is associated with a college you attended?",
            "answers": [
                {
                    "id": "2687969345",
                    "text": "Colts"
                },
                {
                    "id": "2687969355",
                    "text": "Eagles"
                },
                {
                    "id": "2687969365",
                    "text": "Gator"
                },
                {
                    "id": "2687969375",
                    "text": "Sentinels"
                },
                {
                    "id": "2687969385",
                    "text": "None of the above"
                }
            ]
        },
        {
            "id": "2355953395",
            "text": "What kind of IA license plate has been on your 1996 Acura TL?",
            "answers": [
                {
                    "id": "2687969395",
                    "text": "Antique"
                },
                {
                    "id": "2687969405",
                    "text": "Disabled Veteran"
                },
                {
                    "id": "2687969415",
                    "text": "Educational Affiliation"
                },
                {
                    "id": "2687969425",
                    "text": "Military Honor"
                },
                {
                    "id": "2687969435",
                    "text": "I have never been associated with this vehicle"
                }
            ]
        }
    ]
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">kba_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>

<span class="n">kba_questions</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">kba_url</span>
<span class="n">kba_questions</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "70b0e9cc-020d-4de2-9a82-a2281afa4c31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$kbaApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\KbaApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nx">kba_url</span> <span class="o">=</span> <span class="s2">"https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31"</span><span class="p">;</span>

<span class="nv">$kbaQuestions</span> <span class="o">=</span> <span class="nv">$kbaApi</span><span class="o">-&gt;</span><span class="na">getKbaQuestions</span><span class="p">(</span><span class="nv">$kbaUrl</span><span class="p">);</span>
<span class="k">print</span> <span class="nv">$kbaQuestions</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "70b0e9cc-020d-4de2-9a82-a2281afa4c31"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">kba_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>

<span class="n">kba_questions</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">kba_url</span><span class="p">)</span>
<span class="n">kba_questions</span><span class="o">.</span><span class="nb">id</span> <span class="c"># =&gt; '70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">kbaUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">kbaUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>
</code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>Pending KBA questions exist.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>The kba session is no longer valid.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to retrieve KBA questions.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>KBA questions not found. Check KBA id.</td>
</tr>
</tbody></table>
<h2 id='verify-kba-questions'>Verify KBA Questions</h2>
<p>This section covers how to verify the KBA questions for Customer verification.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/kba/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the KBA session to verify questions for.</td>
</tr>
<tr>
<td>answers</td>
<td>yes</td>
<td>object</td>
<td>An array of four JSON objects that each consist of  two key-value pairs &ndash; <code class="prettyprint">questionId</code> and  <code class="prettyprint">answerId</code>.</td>
</tr>
</tbody></table>
<h4 id='answers-json-object'>answers JSON object</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required?</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>questionId</td>
<td>yes</td>
<td>string</td>
<td>The id of a question in a KBA session.</td>
</tr>
<tr>
<td>answerId</td>
<td>yes</td>
<td>string</td>
<td>The id of an answer to the corresponding question in a KBA session.</td>
</tr>
</tbody></table>
<h3 id='example-request-and-response'>Example request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api.dwolla.com/kba/33aa88b1-97df-424a-9043-d5f85809858b
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer cRahPzURfaIrTewKL18tmslWPqKdzkLeYJm0oB1hGJ1vMPArft1v

...

{
    "answers": [
        {
            "questionId": "2355953375",
            "answerId": "2687969335"
        },
        {
            "questionId": "2355953385",
            "answerId": "2687969385"
        },
        {
            "questionId": "2355953395",
            "answerId": "2687969435"
        },
        {
            "questionId": "2355953405",
            "answerId": "2687969485"
        }
    ]
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">kba_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="ss">:answers</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="ss">:questionId</span> <span class="o">=&gt;</span> <span class="s2">"2355953375"</span><span class="p">,</span>
            <span class="ss">:answerId</span> <span class="o">=&gt;</span> <span class="s2">"2687969335"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="ss">:questionId</span> <span class="o">=&gt;</span> <span class="s2">"2355953385"</span><span class="p">,</span>
            <span class="ss">:answerId</span> <span class="o">=&gt;</span> <span class="s2">"2687969385"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="ss">:questionId</span> <span class="o">=&gt;</span> <span class="s2">"2355953395"</span><span class="p">,</span>
            <span class="ss">:answerId</span> <span class="o">=&gt;</span> <span class="s2">"2687969435"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="ss">:questionId</span> <span class="o">=&gt;</span> <span class="s2">"2355953405"</span><span class="p">,</span>
            <span class="ss">:answerId</span> <span class="o">=&gt;</span> <span class="s2">"2687969485"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">kba_answers</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="n">kba_url</span><span class="p">,</span> <span class="n">request_body</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$kbaApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\KbaApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$kbaUrl</span> <span class="o">=</span> <span class="s2">"https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31"</span><span class="p">;</span>

<span class="nv">$kbaAnswers</span> <span class="o">=</span> <span class="nv">$kbaApi</span><span class="o">-&gt;</span><span class="na">answerKbaQuestions</span><span class="p">([</span>
    <span class="s2">"answers"</span> <span class="o">=&gt;</span> <span class="p">[</span>
         <span class="p">[</span>
             <span class="s2">"questionId"</span> <span class="o">=&gt;</span> <span class="s2">"2355953375"</span><span class="p">,</span>
             <span class="s2">"answerId"</span> <span class="o">=&gt;</span> <span class="s2">"2687969335"</span>
         <span class="p">],</span>
         <span class="p">[</span>
             <span class="s2">"questionId"</span> <span class="o">=&gt;</span> <span class="s2">"2355953385"</span><span class="p">,</span>
             <span class="s2">"answerId"</span> <span class="o">=&gt;</span> <span class="s2">"2687969385"</span>
         <span class="p">],</span>
         <span class="p">[</span>
             <span class="s2">"questionId"</span> <span class="o">=&gt;</span> <span class="s2">"2355953395"</span><span class="p">,</span>
             <span class="s2">"answerId"</span> <span class="o">=&gt;</span> <span class="s2">"2687969435"</span>
         <span class="p">],</span>
         <span class="p">[</span>
             <span class="s2">"questionId"</span> <span class="o">=&gt;</span> <span class="s2">"2355953405"</span><span class="p">,</span>
             <span class="s2">"answerId"</span> <span class="o">=&gt;</span> <span class="s2">"2687969485"</span>
         <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">],</span> <span class="nv">$kbaUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="n">kba_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'answers'</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s">'questionId'</span><span class="p">:</span> <span class="s">"2355953375"</span><span class="p">,</span>
            <span class="s">'answerId'</span><span class="p">:</span> <span class="s">"2687969335"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">'questionId'</span><span class="p">:</span> <span class="s">"2355953385"</span><span class="p">,</span>
            <span class="s">'answerId'</span><span class="p">:</span> <span class="s">"2687969385"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">'questionId'</span><span class="p">:</span> <span class="s">"2355953395"</span><span class="p">,</span>
            <span class="s">'answerId'</span><span class="p">:</span><span class="s">"2687969435"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">'questionId'</span><span class="p">:</span> <span class="s">"2355953405"</span><span class="p">,</span>
            <span class="s">'answerId'</span><span class="p">:</span> <span class="s">"2687969485"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">kba_answers</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span> <span class="p">(</span><span class="n">kba_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">kbaUrl</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/kba/70b0e9cc-020d-4de2-9a82-a2281afa4c31'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">answers</span> <span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="na">questionId</span><span class="p">:</span> <span class="s1">'2355953375'</span><span class="p">,</span>
            <span class="na">answerId</span><span class="p">:</span> <span class="s1">'2687969335'</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">questionId</span><span class="p">:</span> <span class="s1">'2355953385'</span><span class="p">,</span>
            <span class="na">answerId</span><span class="p">:</span> <span class="s1">'2687969385'</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">questionId</span><span class="p">:</span> <span class="s1">'2355953395'</span><span class="p">,</span>
            <span class="na">answerId</span><span class="p">:</span><span class="s1">'2687969435'</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">questionId</span><span class="p">:</span> <span class="s1">'2355953405'</span><span class="p">,</span>
            <span class="na">answerId</span><span class="p">:</span> <span class="s1">'2687969485'</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">kbaUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
</code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>KBA scoring is complete. Check verificationStatus to determine if the user passed or failed KBA verification.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>The kba session has expired.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>The kba session is no longer valid.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>KBA session not found.</td>
</tr>
</tbody></table>

<hr>

            <h1 id='beneficial-owners'>Beneficial owners</h1>
<p>Verified Customers of type <code class="prettyprint">business</code> are required to verify the identity of beneficial owners in addition to the controller of the business if they are one of the following business types:</p>

<ul>
<li>Corporation</li>
<li>LLC</li>
<li>Partnership</li>
</ul>

<p>For more information on how to add beneficial owners, or to learn more on whether certain business types are exempt, check out our <a href="https://developers.dwolla.com/resources/business-verified-customer/adding-beneficial-owners.html">beneficial owner developer resource article</a>.</p>
<h3 id='beneficial-owners-resource'>Beneficial owners resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The beneficial owner unique identifier.</td>
</tr>
<tr>
<td>firstName</td>
<td>The legal first name of the beneficial owner.</td>
</tr>
<tr>
<td>lastName</td>
<td>The legal last name of the beneficial owner.</td>
</tr>
<tr>
<td>address</td>
<td>The beneficial owner&rsquo;s physical address.</td>
</tr>
<tr>
<td>verificationStatus</td>
<td>Possible values of <code class="prettyprint">verified</code>, <code class="prettyprint">document</code>, or <code class="prettyprint">incomplete</code>.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/beneficial-owners/caa81a5f-ec1e-4559-8b32-d90655bfd03c"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beneficial-owner"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"caa81a5f-ec1e-4559-8b32-d90655bfd03c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"owner"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345 18th st"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apt 12"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"address3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Des Moines"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stateProvinceRegion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50265"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"verificationStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-beneficial-owner'>Create a beneficial owner</h2>
<p>This section details how to create a new beneficial owner. To create <code class="prettyprint">beneficial owners</code>, you need to collect the beneficial owner&rsquo;s full name, ssn, date of birth, and permanent address. Optionally, passport information must be included for non-US persons that do not have a US issued SSN. <code class="prettyprint">Beneficial owners</code> require additional information that will give Dwolla the ability to confirm the identity of the individual.</p>

<p>For more information on how to create a beneficial owner, refer to our <a href="https://developers.dwolla.com/resources/business-verified-customer/adding-beneficial-owners.html">developer resource article</a>.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/beneficial-owners</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>The legal first name of the beneficial owner.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>The legal last name of the beneficial owner.</td>
</tr>
<tr>
<td>ssn</td>
<td>conditional</td>
<td>string</td>
<td><strong>Full nine digits</strong> of beneficial owner’s social security number. <strong>Required</strong> for US persons. If ssn is omitted, <a href="#passport-json-object">passport</a> is required.</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>Yes</td>
<td>string</td>
<td>beneficial owner’s date of birth in <code class="prettyprint">YYYY-MM-DD</code> format. Must be between 18 to 125 years of age.</td>
</tr>
<tr>
<td>address</td>
<td>Yes</td>
<td>object</td>
<td>An <a href="/#address-json-object">address JSON object</a>. Full address of the beneficial owner&rsquo;s physical address.</td>
</tr>
<tr>
<td>passport</td>
<td>conditional</td>
<td>object</td>
<td>An optional <a href="/#passport-json-object">passport JSON object</a>. <strong>Required</strong> for non-US persons. Includes passport identification number and country. If <a href="#passport-json-object">passport</a> is omitted, ssn is required.</td>
</tr>
</tbody></table>
<h3 id='address-json-object'>Address JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>First line of the street address of the beneficial owner&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the beneficial owner&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address3</td>
<td>no</td>
<td>string</td>
<td>Third line of the street address of the beneficial owner&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of beneficial owner&rsquo;s permanent residence.</td>
</tr>
<tr>
<td>stateProvinceRegion</td>
<td>yes</td>
<td>string</td>
<td><strong>US persons</strong> - Two-letter US state abbreviation code of Beneficial Owner’s physical address. For two-letter US state abbreviation reference, check out the <a href="https://pe.usps.com/text/pub28/28apb.htm">US Postal Service guide</a>. <br> <strong>Non-US persons</strong> - Two-letter state, province, or region ISO abbreviation code of Beneficial Owner&rsquo;s physical address. For two-letter ISO abbreviation reference, check out the <a href="https://en.wikipedia.org/wiki/ISO_3166-1">ISO guide</a>.</td>
</tr>
<tr>
<td>country</td>
<td>yes</td>
<td>string</td>
<td>Country of beneficial owner&rsquo;s permanent residence. Two digit ISO code, e.g. <code class="prettyprint">US</code>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>conditional</td>
<td>string</td>
<td>Postal code of beneficial owner&rsquo;s permanent residence. Should be a five digit postal code, e.g. <code class="prettyprint">50314</code>. Optional if beneficial owner is a non-US person.</td>
</tr>
</tbody></table>
<h3 id='passport-json-object'>Passport JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>conditional</td>
<td>string</td>
<td>Required if beneficial owner is a non-US person and has no Social Security number.</td>
</tr>
<tr>
<td>country</td>
<td>conditional</td>
<td>string</td>
<td>Country of issued passport.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/81696e5d-a593-45a6-8863-3c20ad634de5/beneficial-owners
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "document",
  "lastName": "owner",
  "ssn": "123-46-7890",
  "dateOfBirth": "1960-11-30",
  "address": {
    "address1": "123 Main St.",
    "city": "New York",
    "stateProvinceRegion": "NY",
    "country": "US",
    "postalCode": "10005"
  }
}

HTTP/1.1 201 Created
Location: https://api.dwolla.com/beneficial-owners/FC451A7A-AE30-4404-AB95-E3553FCD733F
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$verified_customer</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/81696e5d-a593-45a6-8863-3c20ad634de5'</span><span class="p">;</span>

<span class="nv">$addOwner</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">addBeneficialOwner</span><span class="p">([</span>
      <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'document'</span><span class="p">,</span>
      <span class="s1">'lastName'</span><span class="o">=&gt;</span> <span class="s1">'owner'</span><span class="p">,</span>
      <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1990-11-11'</span><span class="p">,</span>
      <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'123-34-9876'</span><span class="p">,</span>
      <span class="s1">'address'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
          <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'18749 18th st'</span><span class="p">,</span>
          <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'apt 12'</span><span class="p">,</span>
          <span class="s1">'address3'</span> <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
          <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
          <span class="s1">'stateProvinceRegion'</span> <span class="o">=&gt;</span> <span class="s1">'IA'</span><span class="p">,</span>
          <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'50265'</span><span class="p">,</span>
          <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span>
      <span class="p">],</span>
  <span class="p">],</span> <span class="nv">$verified_customer</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/81696e5d-a593-45a6-8863-3c20ad634de5'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="ss">:ssn</span> <span class="o">=&gt;</span> <span class="s1">'123-46-7890'</span><span class="p">,</span>
  <span class="ss">:dateOfBirth</span> <span class="o">=&gt;</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
    <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Some City'</span><span class="p">,</span>
    <span class="ss">:stateProvinceRegion</span> <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="ss">:country</span> <span class="o">=&gt;</span> <span class="s1">'US'</span><span class="p">,</span>
    <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'11101'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">beneficial_owner</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/beneficial-owners"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">beneficial_owner</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/beneficial-owners/AB443D36-3757-44C1-A1B4-29727FB3111C"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'John'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'Doe'</span><span class="p">,</span>
  <span class="s">'dateOfBirth'</span><span class="p">:</span> <span class="s">'1970-01-01'</span><span class="p">,</span>
  <span class="s">'ssn'</span><span class="p">:</span> <span class="s">'123-46-7890'</span><span class="p">,</span>
  <span class="s">'address'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'address1'</span><span class="p">:</span> <span class="s">'99-99 33rd St'</span><span class="p">,</span>
    <span class="s">'city'</span><span class="p">:</span> <span class="s">'Some City'</span><span class="p">,</span>
    <span class="s">'stateProvinceRegion'</span><span class="p">:</span> <span class="s">'NY'</span><span class="p">,</span>
    <span class="s">'country'</span><span class="p">:</span> <span class="s">'US'</span><span class="p">,</span>
    <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'11101'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">beneficial_owner</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/beneficial-owners'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">beneficial_owner</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/beneficial-owners/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'John'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'Doe'</span><span class="p">,</span>
  <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s1">'1970-01-01'</span><span class="p">,</span>
  <span class="na">ssn</span><span class="p">:</span> <span class="s1">'123-56-7890'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">address1</span><span class="p">:</span> <span class="s1">'99-99 33rd St'</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="s1">'Some City'</span><span class="p">,</span>
    <span class="na">stateProvinceRegion</span><span class="p">:</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="na">country</span><span class="p">:</span> <span class="s1">'US'</span>
    <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'11101'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/beneficial-owners`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/beneficial-owners/FC451A7A-AE30-4404-AB95-E3553FCD733F'</span>
</code></pre></div></div><h2 id='retrieve-a-beneficial-owner'>Retrieve a beneficial owner</h2>
<p>This section contains information on how to retrieve a beneficial owner which belongs to a Customer.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/beneficial-owners/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Beneficial owner unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfB8
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY


</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfB8'</span>

<span class="n">beneficial_owner</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">beneficial_owner_url</span>
<span class="n">beneficial_owner</span><span class="p">.</span><span class="nf">firstName</span> <span class="c1"># =&gt; "Jane"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$beneficialOwnersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\BeneficialownersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfB8'</span><span class="p">;</span>
<span class="nv">$beneficialOwner</span> <span class="o">=</span> <span class="nv">$beneficialOwnersApi</span><span class="o">-&gt;</span><span class="na">getById</span><span class="p">(</span><span class="nv">$beneficialOwnerUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfB8'</span>

<span class="n">beneficial_owner</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">beneficial_owner_url</span><span class="p">)</span>
<span class="n">beneficial_owner</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'firstName'</span><span class="p">]</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">beneficialOwnerUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">firstName</span><span class="p">);</span> <span class="c1">// =&gt; 'Jane'</span>
</code></pre></div></div><h2 id='list-beneficial-owners'>List beneficial owners</h2>
<p>This section contains information on how to retrieve a list of beneficial owners that belong to a Customer.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/beneficial-owners</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/81696e5d-a593-45a6-8863-3c20ad634de5/beneficial-owners
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/customers/81696e5d-a593-45a6-8863-3c20ad634de5/beneficial-owners",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "beneficial-owner"
        }
    },
    "_embedded": {
        "beneficial-owners": [
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/beneficial-owners/55469604-40ab-44b6-962f-de2c0837ba98",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "beneficial-owner"
                    },
                    "verify-with-document": {
                        "href": "https://api-sandbox.dwolla.com/beneficial-owners/55469604-40ab-44b6-962f-de2c0837ba98/documents",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "document"
                    }
                },
                "id": "55469604-40ab-44b6-962f-de2c0837ba98",
                "firstName": "document",
                "lastName": "owner1",
                "address": {
                    "address1": "18749 18th st",
                    "address2": "apt 12",
                    "address3": "",
                    "city": "Des Moines",
                    "stateProvinceRegion": "IA",
                    "country": "US",
                    "postalCode": "50265"
                },
                "verificationStatus": "document"
            },
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/beneficial-owners/caa81a5f-ec1e-4559-8b32-d90655bfd03c",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "beneficial-owner"
                    }
                },
                "id": "caa81a5f-ec1e-4559-8b32-d90655bfd03c",
                "firstName": "Joe",
                "lastName": "owner2",
                "address": {
                    "address1": "18749 18th st",
                    "address2": "apt 12",
                    "address3": "",
                    "city": "Des Moines",
                    "stateProvinceRegion": "IA",
                    "country": "US",
                    "postalCode": "50265"
                },
                "verificationStatus": "verified"
            }
        ]
    },
    "total": 2
}

</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="n">beneficial_owners</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/beneficial-owners"</span>
<span class="n">beneficial_owners</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'beneficial-owners'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">id</span> <span class="c1"># =&gt; "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/81696e5d-a593-45a6-8863-3c20ad634de5'</span><span class="p">;</span>
<span class="nv">$beneficialOwnerList</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getBeneficialOwners</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="n">beneficial_owners</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/beneficial-owners'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">beneficial_owners</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span><span class="p">;</span>

<span class="nx">token</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/beneficial-owners`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'beneficial-owners'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>
</code></pre></div></div><h2 id='update-a-beneficial-owner'>Update a beneficial owner</h2>
<p>This endpoint can be used to update a beneficial owner&rsquo;s information to <code class="prettyprint">retry</code> verification. A beneficial owner&rsquo;s information can only be updated if their verification status is <code class="prettyprint">incomplete</code>.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/beneficial-owners/{id}</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>yes</td>
<td>string</td>
<td>The legal first name of the beneficial owner.</td>
</tr>
<tr>
<td>lastName</td>
<td>yes</td>
<td>string</td>
<td>The legal last name of the beneficial owner.</td>
</tr>
<tr>
<td>ssn</td>
<td>conditional</td>
<td>string</td>
<td><strong>Full nine digits</strong> of beneficial owner’s social security number. If ssn is omitted, <a href="#passport-json-object">passport</a> is required.</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>Yes</td>
<td>string</td>
<td>beneficial owner’s date of birth in <code class="prettyprint">YYYY-MM-DD</code> format. Must be between 18 to 125 years of age.</td>
</tr>
<tr>
<td>address</td>
<td>Yes</td>
<td>object</td>
<td>An <a href="/#address-json-object">address JSON object</a>. Full address of the beneficial owner&rsquo;s physical address.</td>
</tr>
<tr>
<td>passport</td>
<td>conditional</td>
<td>object</td>
<td>An optional <a href="/#passport-json-object">passport JSON object</a>. Required for non-US persons. Includes passport identification number and country.</td>
</tr>
</tbody></table>
<h3 id='address-json-object'>Address JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address1</td>
<td>yes</td>
<td>string</td>
<td>First line of the street address of the beneficial owner&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address2</td>
<td>no</td>
<td>string</td>
<td>Second line of the street address of the beneficial owner&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>address3</td>
<td>no</td>
<td>string</td>
<td>Third line of the street address of the beneficial owner&rsquo;s permanent residence. <strong>Note:</strong> PO Boxes are not allowed.</td>
</tr>
<tr>
<td>city</td>
<td>yes</td>
<td>string</td>
<td>City of beneficial owner&rsquo;s permanent residence.</td>
</tr>
<tr>
<td>stateProvinceRegion</td>
<td>yes</td>
<td>string</td>
<td>Two-letter US state or territory abbreviation code of beneficial owner’s physical address. For two-letter abbreviation reference, check out the <a href="https://pe.usps.com/text/pub28/28apb.htm">US Postal Service guide</a>.</td>
</tr>
<tr>
<td>country</td>
<td>yes</td>
<td>string</td>
<td>Country of beneficial owner&rsquo;s permanent residence. Two digit ISO code, e.g. <code class="prettyprint">US</code>.</td>
</tr>
<tr>
<td>postalCode</td>
<td>yes</td>
<td>string</td>
<td>Postal code of beneficial owner&rsquo;s permanent residence. Should be a five digit postal code, e.g. <code class="prettyprint">50314</code>.</td>
</tr>
</tbody></table>
<h3 id='passport-json-object'>Passport JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>number</td>
<td>conditional</td>
<td>string</td>
<td>Required if beneficial owner is a non-US person and has no Social Security number.</td>
</tr>
<tr>
<td>country</td>
<td>conditional</td>
<td>string</td>
<td>Country of issued passport.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Owner Updated.</td>
</tr>
<tr>
<td>400</td>
<td>Validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Owner cannot be updated.</td>
</tr>
<tr>
<td>404</td>
<td>Owner not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "firstName": "beneficial",
  "lastName": "owner",
  "ssn": "123-54-6789",
  "dateOfBirth": "1963-11-11",
  "address": {
    "address1": "123 Main St.",
    "address2": "Apt 123",
    "city": "Des Moines",
    "stateProvinceRegion": "IA",
    "country": "US",
    "postalCode": "50309"
  }
}

...

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "beneficial-owner"
        }
    },
    "id": "00cb67f2-768c-4ee3-ac81-73bc4faf9c2b",
    "firstName": "beneficial",
    "lastName": "owner",
    "address": {
        "address1": "123 Main St.",
        "address2": "Apt 123",
        "city": "Des Moines",
        "stateProvinceRegion": "IA",
        "country": "US",
        "postalCode": "50309"
    },
    "verificationStatus": "verified"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$beneficialOwnersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\BeneficialownersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span><span class="p">;</span>
<span class="nv">$updateBeneficialOwner</span> <span class="o">=</span> <span class="nv">$beneficialOwnersApi</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span>
      <span class="s1">'firstName'</span> <span class="o">=&gt;</span> <span class="s1">'beneficial'</span><span class="p">,</span>
      <span class="s1">'lastName'</span><span class="o">=&gt;</span> <span class="s1">'owner'</span><span class="p">,</span>
      <span class="s1">'dateOfBirth'</span> <span class="o">=&gt;</span> <span class="s1">'1963-11-11'</span><span class="p">,</span>
      <span class="s1">'ssn'</span> <span class="o">=&gt;</span> <span class="s1">'123-54-6789'</span><span class="p">,</span>
      <span class="s1">'address'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
          <span class="s1">'address1'</span> <span class="o">=&gt;</span> <span class="s1">'123 Main St.'</span><span class="p">,</span>
          <span class="s1">'address2'</span> <span class="o">=&gt;</span> <span class="s1">'Apt 123'</span><span class="p">,</span>
          <span class="s1">'city'</span> <span class="o">=&gt;</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
          <span class="s1">'stateProvinceRegion'</span> <span class="o">=&gt;</span> <span class="s1">'IA'</span><span class="p">,</span>
          <span class="s1">'postalCode'</span> <span class="o">=&gt;</span> <span class="s1">'50309'</span><span class="p">,</span>
          <span class="s1">'country'</span> <span class="o">=&gt;</span> <span class="s1">'US'</span>
      <span class="p">],</span>
  <span class="p">],</span> <span class="nv">$beneficialOwnerUrl</span><span class="p">);</span>

<span class="nv">$updateBeneficialOwner</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "00cb67f2-768c-4ee3-ac81-73bc4faf9c2b"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:firstName</span> <span class="o">=&gt;</span> <span class="s1">'beneficial'</span><span class="p">,</span>
  <span class="ss">:lastName</span> <span class="o">=&gt;</span> <span class="s1">'owner'</span><span class="p">,</span>
  <span class="ss">:ssn</span> <span class="o">=&gt;</span> <span class="s1">'123-54-6789'</span><span class="p">,</span>
  <span class="ss">:dateOfBirth</span> <span class="o">=&gt;</span> <span class="s1">'1963-11-11'</span><span class="p">,</span>
  <span class="ss">:address</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:address1</span> <span class="o">=&gt;</span> <span class="s1">'123 Main St'</span><span class="p">,</span>
    <span class="ss">:city</span> <span class="o">=&gt;</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
    <span class="ss">:stateProvinceRegion</span> <span class="o">=&gt;</span> <span class="s1">'IA'</span><span class="p">,</span>
    <span class="ss">:country</span> <span class="o">=&gt;</span> <span class="s1">'US'</span><span class="p">,</span>
    <span class="ss">:postalCode</span> <span class="o">=&gt;</span> <span class="s1">'50309'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">update_beneficial_owner</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="n">beneficial_owner_url</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">update_beneficial_owner</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "00cb67f2-768c-4ee3-ac81-73bc4faf9c2b"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'firstName'</span><span class="p">:</span> <span class="s">'beneficial'</span><span class="p">,</span>
  <span class="s">'lastName'</span><span class="p">:</span> <span class="s">'owner'</span><span class="p">,</span>
  <span class="s">'dateOfBirth'</span><span class="p">:</span> <span class="s">'1963-11-11'</span><span class="p">,</span>
  <span class="s">'ssn'</span><span class="p">:</span> <span class="s">'123-54-6789'</span><span class="p">,</span>
  <span class="s">'address'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'address1'</span><span class="p">:</span> <span class="s">'123 Main St'</span><span class="p">,</span>
    <span class="s">'city'</span><span class="p">:</span> <span class="s">'Des Moines'</span><span class="p">,</span>
    <span class="s">'stateProvinceRegion'</span><span class="p">:</span> <span class="s">'IA'</span><span class="p">,</span>
    <span class="s">'country'</span><span class="p">:</span> <span class="s">'US'</span><span class="p">,</span>
    <span class="s">'postalCode'</span><span class="p">:</span> <span class="s">'50309'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">update_beneficial_owner</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">beneficial_owner_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">update_beneficial_owner</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span> <span class="c"># =&gt; '00cb67f2-768c-4ee3-ac81-73bc4faf9c2b'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/07d59716-ef22-4fe6-98e8-f3190233dfb8'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">firstName</span><span class="p">:</span> <span class="s1">'beneficial'</span><span class="p">,</span>
  <span class="na">lastName</span><span class="p">:</span> <span class="s1">'owner'</span><span class="p">,</span>
  <span class="na">dateOfBirth</span><span class="p">:</span> <span class="s1">'1963-11-11'</span><span class="p">,</span>
  <span class="na">ssn</span><span class="p">:</span> <span class="s1">'123-54-6789'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">address1</span><span class="p">:</span> <span class="s1">'123 Main St'</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="s1">'Des Moines'</span><span class="p">,</span>
    <span class="na">stateProvinceRegion</span><span class="p">:</span> <span class="s1">'IA'</span><span class="p">,</span>
    <span class="na">country</span><span class="p">:</span> <span class="s1">'US'</span>
    <span class="na">postalCode</span><span class="p">:</span> <span class="s1">'50309'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">beneficialOwnerUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '00cb67f2-768c-4ee3-ac81-73bc4faf9c2b'</span>
</code></pre></div></div><h2 id='remove-a-beneficial-owner'>Remove a beneficial owner</h2>
<p>Delete a beneficial owner. A removed beneficial owner cannot be retrieved after being removed.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">DELETE https://api.dwolla.com/beneficial-owners/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of beneficial owner to delete.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Beneficial owner not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">DELETE https://api-sandbox.dwolla.com/beneficial-owners/692486f8-29f6-4516-a6a5-c69fd2ce854c
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/beneficial-owners/0f394602-d714-4d77-9d58-3a3e8394bcdd",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "beneficial-owner"
        }
    },
    "id": "0f394602-d714-4d77-9d58-3a3e8394bcdd",
    "firstName": "B",
    "lastName": "Owner",
    "address": {
        "address1": "123 Main St.",
        "city": "New York",
        "stateProvinceRegion": "NY",
        "country": "US",
        "postalCode": "10005"
    },
    "verificationStatus": "verified"
}

...

HTTP 200 OK
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">delete</span> <span class="n">beneficial_owner_url</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nx">appToken</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">beneficialOwnerUrl</span><span class="p">);</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/beneficial-owners/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">beneficial_owner_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$beneficialOwnersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\BeneficialownersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$beneficialOwner</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>
<span class="nv">$deletedBeneficialOwner</span> <span class="o">=</span> <span class="nv">$beneficialOwnersApi</span><span class="o">-&gt;</span><span class="na">deleteById</span><span class="p">(</span><span class="nv">$beneficialOwner</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='retrieve-beneficial-ownership-status'>Retrieve beneficial ownership status</h2>
<p>This section contains information on how to retrieve a Customer&rsquo;s beneficial ownership status.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/beneficial-ownership</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ownership certification status found.</td>
</tr>
<tr>
<td>403</td>
<td>Not authorized to get certification status.</td>
</tr>
<tr>
<td>404</td>
<td>Ownership certification status not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc/beneficial-ownership",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "beneficial-ownership"
        }
    },
    "status": "uncertified"
}

</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>

<span class="n">beneficial_ownership</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/beneficial-ownership"</span>
<span class="n">beneficial_ownership</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "uncertified"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$newCustomer</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span><span class="p">;</span>
<span class="nv">$customerOwnershipStatus</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getOwnershipStatus</span><span class="p">(</span><span class="nv">$newCustomer</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>

<span class="n">beneficial_ownership</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/beneficial-ownership'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">beneficial_ownership</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'uncertified'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customer_url</span><span class="p">}</span><span class="sr">/beneficial-ownership`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; "uncertified"</span>
</code></pre></div></div><h2 id='certify-beneficial-ownership'>Certify beneficial ownership</h2>
<p>This section contains information on how to certify beneficial ownership for a business Verified Customer.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/beneficial-ownership</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Beneficial ownership status updated.</td>
</tr>
<tr>
<td>400</td>
<td>Validation error.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden from updating beneficial ownership status for this customer.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc/beneficial-ownership
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "status": "certified"
}

...

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/customers/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc/beneficial-ownership",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "beneficial-ownership"
        }
    },
    "status": "certified"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:status</span> <span class="o">=&gt;</span> <span class="s2">"certified"</span>
<span class="p">}</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/beneficial-ownership"</span><span class="p">,</span> <span class="n">request_body</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="s1">'certified'</span>
<span class="p">};</span>

<span class="nx">appToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/beneficial-ownership`, requestBody</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"status"</span><span class="p">:</span> <span class="s">"certified"</span>
<span class="p">}</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/beneficial-ownership'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$customerId</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>
<span class="nv">$certifyCustomer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">changeOwnershipStatus</span><span class="p">([</span><span class="s1">'status'</span> <span class="o">=&gt;</span> <span class="s1">'certified'</span> <span class="p">],</span> <span class="nv">$customerId</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div>
<hr>

            <h1 id='documents'>Documents</h1>
<p>Verified Customers of type <code class="prettyprint">personal</code> or <code class="prettyprint">business</code> and of status <code class="prettyprint">document</code> require color photos of identifying documents to be uploaded for manual review in order to be verified. Currently, SDK support for document upload only exists for Ruby, Node.js, and Python. To upload a document using other languages, you must use an external HTTP library.</p>

<p>For more information on handling the Customer verification status of <code class="prettyprint">document</code>, reference our <a href="https://developers.dwolla.com/resources/customer-verification/handling-verification-statuses.html">Customer verification</a> resource article.</p>
<h3 id='document-resource'>Document resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Document unique identifier</td>
</tr>
<tr>
<td>type</td>
<td>Either <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, <code class="prettyprint">idCard</code>, or <code class="prettyprint">other</code>. Must be a color scan of US Government issued identification. <br> Refer to the <a href="#acceptable-documents">acceptable documents</a> section for more information on what each type is used for.</td>
</tr>
<tr>
<td>status</td>
<td>Either <code class="prettyprint">pending</code> or <code class="prettyprint">reviewed</code>.  When a document has been manually reviewed by Dwolla, its status will be <code class="prettyprint">reviewed</code>.  A reviewed document does not necessarily indicate that the customer has completed the identity verification process.</td>
</tr>
<tr>
<td>created</td>
<td>ISO 8601 Timestamp of document upload time and date.</td>
</tr>
<tr>
<td>failureReason</td>
<td>The reason an uploaded document was rejected. Can be: <code class="prettyprint">ScanNotReadable</code>, <code class="prettyprint">ScanNotUploaded</code>, <code class="prettyprint">ScanIdExpired</code>, <code class="prettyprint">ScanIdTypeNotSupported</code>, <code class="prettyprint">ScanDobMismatch</code>, <code class="prettyprint">ScanNameMismatch</code> or <code class="prettyprint">ScanFailedOther</code>.</td>
</tr>
<tr>
<td>allFailureReasons</td>
<td>An array of <code class="prettyprint">reason</code>s and <code class="prettyprint">description</code>s for when an uploaded document is rejected for multiple reasons.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"reviewed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"passport"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-29T21:42:16.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"failureReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ScanDobMismatch"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"allFailureReasons"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ScanDobMismatch"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Date of Birth mismatch"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nt">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ScanIdExpired"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID is expired"</span><span class="w">
      </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-document-for-a-customer'>Create a document for a customer</h2>
<p>Create a document for a Customer pending verification by uploading a color scan or photo of government issued identification (see below for acceptable document types). This requires a multipart form-data POST request. The uploaded file must be a color image, in a <code class="prettyprint">.jpg</code>, <code class="prettyprint">.jpeg</code>, or <code class="prettyprint">.png</code> format, and less than 10MB in size. Additionally, Business Documents can also be uploaded in a <code class="prettyprint">.pdf</code> format.</p>
<h3 id='acceptable-documents'>Acceptable documents</h3>
<table><thead>
<tr>
<th>Customer type</th>
<th>Acceptable documents</th>
</tr>
</thead><tbody>
<tr>
<td>Personal Verified Customer</td>
<td><code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, or <code class="prettyprint">idCard</code>. Must be a color scan of US Government issued identification.</td>
</tr>
<tr>
<td>Business Verified Customer</td>
<td>Controller documents - <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, or <code class="prettyprint">idCard</code>. Must be a color scan of US Government issued identification. <br> Business documents - <code class="prettyprint">other</code>. Refer to our guide on <a href="https://developers.dwolla.com/resources/business-verified-customer/handling-controller-and-customer-statuses.html#document-types">Handling Document status for Business Verified Customers</a> for acceptable documents.<br> Beneficial Owner documents - <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, or <code class="prettyprint">idCard</code>. Refer to our guide on <a href="https://developers.dwolla.com/resources/business-verified-customer/adding-beneficial-owners.html#handling-document-status">Handling Document status for Beneficial Owners</a> for acceptable documents.</td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/documents</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Form Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>documentType</td>
<td>Acceptable values of: <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, <code class="prettyprint">idCard</code>, or <code class="prettyprint">other</code>. Refer to the <a href="#acceptable-documents">acceptable documents</a> section for more information on how these document types apply to each Customer type.</td>
</tr>
<tr>
<td>file</td>
<td>File contents.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
<td>A document resource was created.</td>
</tr>
<tr>
<td>400</td>
<td>maximumNumberOfResources</td>
<td>Max of four files upload allowed. Please wait for Dwolla to manually check the documents.</td>
</tr>
<tr>
<td>400</td>
<td>invalidFileType</td>
<td>File types supported: <br> Personal IDs - <code class="prettyprint">.jpg</code>, <code class="prettyprint">.jpeg</code> or <code class="prettyprint">.png</code>. <br> Business Documents - <code class="prettyprint">.jpg</code>, <code class="prettyprint">.jpeg</code>, <code class="prettyprint">.png</code>, or <code class="prettyprint">.pdf</code>.</td>
</tr>
<tr>
<td>400</td>
<td>DuplicateResource</td>
<td>Document already exists. Follow the link to find the existing document for the Customer.</td>
</tr>
<tr>
<td>403</td>
<td>invalidResourceState</td>
<td>Resource cannot be modified. Document creation not allowed for already <code class="prettyprint">verified</code> Customers or non-<code class="prettyprint">verified</code> Customer types.</td>
</tr>
<tr>
<td>403</td>
<td>notAuthorized</td>
<td>Not authorized to create documents.</td>
</tr>
<tr>
<td>404</td>
<td>notFound</td>
<td>Customer not found. Check CustomerId.</td>
</tr>
<tr>
<td>413</td>
<td>fileTooLarge</td>
<td>Document requests are limited to 10 MiB.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">curl -X POST
\ -H "Authorization: Bearer tJlyMNW6e3QVbzHjeJ9JvAPsRglFjwnba4NdfCzsYJm7XbckcR"
\ -H "Accept: application/vnd.dwolla.v1.hal+json"
\ -H "Cache-Control: no-cache"
\ -H "Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"
\ -F "documentType=passport"
\ -F "file=@foo.png"
\ 'https://api-sandbox.dwolla.com/customers/1de32eC7-ff0b-4c0c-9f09-19629e6788ce/documents'

...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/1de32eC7-ff0b-4c0c-9f09-19629e6788ce'</span>

<span class="n">file</span> <span class="o">=</span> <span class="no">Faraday</span><span class="o">::</span><span class="no">UploadIO</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/documents"</span><span class="p">,</span> <span class="ss">file: </span><span class="n">file</span><span class="p">,</span> <span class="ss">documentType: </span><span class="s1">'license'</span>
<span class="n">document</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/1de32eC7-ff0b-4c0c-9f09-19629e6788ce'</span>

<span class="n">document</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/documents'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'mclovin.jpg'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">),</span> <span class="n">documentType</span> <span class="o">=</span> <span class="s">'license'</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 * No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/1de32eC7-ff0b-4c0c-9f09-19629e6788ce'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
<span class="nx">requestBody</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'file'</span><span class="p">,</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">),</span> <span class="p">{</span>
  <span class="na">filename</span><span class="p">:</span> <span class="s1">'mclovin.jpg'</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="s1">'image/jpeg'</span><span class="p">,</span>
  <span class="na">knownLength</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">statSync</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">).</span><span class="nx">size</span>
<span class="p">});</span>
<span class="nx">requestBody</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'documentType'</span><span class="p">,</span> <span class="s1">'license'</span><span class="p">);</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/documents`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; "https://api-sandbox.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16"</span>
</code></pre></div></div><h2 id='list-documents-for-a-customer'>List documents for a customer</h2>
<p>This section contains information on how to retrieve a list of documents that belong to a Customer.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/documents</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2/documents
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLfwKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2/documents"
    }
  },
  "_embedded": {
    "documents": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"
          }
        },
        "id": "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc",
        "status": "pending",
        "type": "passport",
        "created": "2015-09-29T21:42:16.000Z"
      },
      {
        "_links": {
            "self": {
                "href": "https://api-sandbox.dwolla.com/documents/20988444-c7e1-40cf-ab1a-a20da878e568",
                "type": "application/vnd.dwolla.v1.hal+json",
                "resource-type": "document"
            }
        },
        "id": "20988444-c7e1-40cf-ab1a-a20da878e568",
        "status": "reviewed",
        "type": "license",
        "created": "2019-05-30T22:01:40.000Z",
        "failureReason": "ScanDobMismatch",
        "allFailureReasons": [
            {
                "reason": "ScanDobMismatch",
                "description": "Date of Birth mismatch"
            },
            {
                "reason": "ScanIdExpired",
                "description": "ID is expired"
            }
        ]
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="n">documents</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/documents"</span>
<span class="n">documents</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'documents'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">id</span> <span class="c1"># =&gt; "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span><span class="p">;</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$customer</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getCustomerDocuments</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$customer</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 2
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="n">documents</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/documents'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">documents</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span><span class="p">;</span>

<span class="nx">token</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/documents`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'documents'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>
</code></pre></div></div><h2 id='create-a-document-for-a-beneficial-owner'>Create a document for a beneficial owner</h2>
<p>Create a document for a beneficial owner pending verification by uploading a photo of the document.  This requires a multipart form-data POST request.  The file must be either a <code class="prettyprint">.jpg</code>, <code class="prettyprint">.jpeg</code>, or <code class="prettyprint">.png</code>, up to 10MB in size.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/beneficial-owners/{id}/documents</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Form Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>documentType</td>
<td>One of <code class="prettyprint">passport</code>, <code class="prettyprint">license</code>, <code class="prettyprint">idCard</code>, or <code class="prettyprint">other</code></td>
</tr>
<tr>
<td>file</td>
<td>File contents.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">curl -X POST
\ -H "Authorization: Bearer tJlyMNW6e3QVbzHjeJ9JvAPsRglFjwnba4NdfCzsYJm7XbckcR"
\ -H "Accept: application/vnd.dwolla.v1.hal+json"
\ -H "Cache-Control: no-cache"
\ -H "Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"
\ -F "documentType=passport"
\ -F "file=@foo.png"
\ 'https://api-sandbox.dwolla.com/beneficial-owners/1de32ec7-ff0b-4c0c-9f09-19629e6788ce/documents'

...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE'</span>

<span class="n">file</span> <span class="o">=</span> <span class="no">Faraday</span><span class="o">::</span><span class="no">UploadIO</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">,</span> <span class="s1">'image/jpeg'</span><span class="p">)</span>
<span class="n">document</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">beneficial_owner_url</span><span class="si">}</span><span class="s2">/documents"</span><span class="p">,</span> <span class="ss">file: </span><span class="n">file</span><span class="p">,</span> <span class="ss">documentType: </span><span class="s1">'license'</span>
<span class="n">document</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/beneficial-owners/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE'</span>

<span class="n">document</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/documents'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="nb">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'mclovin.jpg'</span><span class="p">,</span> <span class="s">'rb'</span><span class="p">),</span> <span class="n">documentType</span> <span class="o">=</span> <span class="s">'license'</span><span class="p">)</span>
<span class="n">document</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 * No example for this language yet.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/1DE32EC7-FF0B-4C0C-9F09-19629E6788CE'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
<span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'file'</span><span class="p">,</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">createReadStream</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">),</span> <span class="p">{</span>
  <span class="na">filename</span><span class="p">:</span> <span class="s1">'mclovin.jpg'</span><span class="p">,</span>
  <span class="na">contentType</span><span class="p">:</span> <span class="s1">'image/jpeg'</span><span class="p">,</span>
  <span class="na">knownLength</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">statSync</span><span class="p">(</span><span class="s1">'mclovin.jpg'</span><span class="p">).</span><span class="nx">size</span>
<span class="p">});</span>
<span class="nx">body</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'documentType'</span><span class="p">,</span> <span class="s1">'license'</span><span class="p">);</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">beneficialOwnerUrl</span><span class="p">}</span><span class="sr">/documents`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; "https://api-sandbox.dwolla.com/documents/fb919e0b-ffbe-4268-b1e2-947b44328a16"</span>
</code></pre></div></div><h2 id='list-documents-for-a-beneficial-owner'>List documents for a beneficial owner</h2>
<p>This section contains information on how to retrieve a list of documents that belong to a beneficial owner.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/beneficial-owners/{id}/documents</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Beneficial owner unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/beneficial-owners/176878b8-ecdb-469b-a82b-43ba5e8704b2/documents
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/beneficial-owners/176878b8-ecdb-469b-a82b-43ba5e8704b2/documents"
    }
  },
  "_embedded": {
    "documents": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"
          }
        },
        "id": "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc",
        "status": "pending",
        "type": "passport",
        "created": "2015-09-29T21:42:16.000Z"
      },
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/documents/11fe0bab-39bd-42ee-bb39-275afcc050d0"
          }
        },
        "id": "11fe0bab-39bd-42ee-bb39-275afcc050d0",
        "status": "reviewed",
        "type": "passport",
        "created": "2015-09-29T21:45:37.000Z",
        "failureReason": "ScanDobMismatch",
        "allFailureReasons": [
            {
                "reason": "ScanDobMismatch",
                "description": "Date of Birth mismatch"
            },
            {
                "reason": "ScanIdExpired",
                "description": "ID is expired"
            }
        ]
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="n">documents</span> <span class="o">=</span> <span class="n">token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">beneficial_owner_url</span><span class="si">}</span><span class="s2">/documents"</span>
<span class="n">documents</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'documents'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">id</span> <span class="c1"># =&gt; "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$beneficialOwnersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\BeneficialownersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$beneficialOwner</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/55469604-40ab-44b6-962f-de2c0837ba98'</span><span class="p">;</span>
<span class="nv">$listDocsBeneficialOwner</span> <span class="o">=</span> <span class="nv">$beneficialOwnersApi</span><span class="o">-&gt;</span><span class="na">getBeneficialOwnerDocuments</span><span class="p">(</span><span class="nv">$beneficialOwner</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">beneficial_owner_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/beneficial-owners/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span>

<span class="n">documents</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/documents'</span> <span class="o">%</span> <span class="n">beneficial_owner_url</span><span class="p">)</span>
<span class="n">documents</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">beneficialOwnerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/beneficial-owners/176878b8-ecdb-469b-a82b-43ba5e8704b2'</span><span class="p">;</span>

<span class="nx">token</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">beneficialOwnerUrl</span><span class="p">}</span><span class="sr">/documents`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'documents'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>
</code></pre></div></div><h2 id='retrieve-a-document'>Retrieve a document</h2>
<p>This section contains information on how to retrieve a document by its id.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/documents/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Document unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc"
    }
  },
  "id": "56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc",
  "status": "reviewed",
  "type": "passport",
  "created": "2015-09-29T21:42:16.000Z",
  "failureReason": "ScanDobMismatch",
  "allFailureReasons": [
      {
          "reason": "ScanDobMismatch",
          "description": "Date of Birth mismatch"
      },
      {
          "reason": "ScanIdExpired",
          "description": "ID is expired"
      }
  ]
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">document_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>

<span class="n">document</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">document_url</span>
<span class="n">document</span><span class="p">.</span><span class="nf">type</span> <span class="c1"># =&gt; "passport"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$documentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span><span class="p">;</span>

<span class="nv">$documentsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\DocumentsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$document</span> <span class="o">=</span> <span class="nv">$documentsApi</span><span class="o">-&gt;</span><span class="na">getDocument</span><span class="p">(</span><span class="nv">$documentUrl</span><span class="p">);</span>
<span class="nv">$document</span><span class="o">-&gt;</span><span class="na">type</span><span class="p">;</span> <span class="c1"># =&gt; "passport"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">document_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span>

<span class="n">documents</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">document_url</span><span class="p">)</span>
<span class="n">documents</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'type'</span><span class="p">]</span> <span class="c"># =&gt; 'passport'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">documentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/documents/56502f7a-fa59-4a2f-8579-0f8bc9d7b9cc'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">document_url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span> <span class="c1">// =&gt; "passport"</span>
</code></pre></div></div>
<hr>

            <h1 id='funding-sources'>Funding sources</h1>
<p>Add and retrieve ACH bank account information via funding sources. Funding sources can be created for both the <a href="#create-a-funding-source-for-an-account">Dwolla Master Account</a> and <a href="#create-a-funding-source-for-a-customer">Customer</a> resources.</p>
<h3 id='funding-source-types'>Funding source types</h3>
<p>The two funding source types available with a Dwolla integration include a <code class="prettyprint">bank</code>, and the Dwolla <code class="prettyprint">balance</code>. Type <code class="prettyprint">bank</code> represents any bank account attached as a funding source to Account and Customer resources. Type <code class="prettyprint">balance</code> represents the Dwolla Balance made available to Account and Verified Customer resources.</p>
<h5 id='balance-funding-source'>Balance funding source</h5>
<p>The <a href="https://developers.dwolla.com/resources/balance-funding-source.html">Dwolla Balance</a> can be utilized as a digital &ldquo;wallet&rdquo;, storing USD funds for the Customer or Account with Dwolla’s financial institution partners. Additionally, the Dwolla Balance can be pre-loaded with funds for quicker outgoing ACH transfers to destination funding sources. To get a more in-depth overview of the Dwolla Balance, including functionality and other benefits, check out our <a href="https://developers.dwolla.com/resources/balance-funding-source.html">developer resource article</a> or view our <a href="https://www.dwolla.com/resources/balance-webinar/">webinar</a>.</p>
<h5 id='bank-funding-source'>Bank funding source</h5>
<p>Funding sources of type <code class="prettyprint">bank</code> include an additional attribute, <code class="prettyprint">bankAccountType</code>, denoting the type of the bank account being attached. The bank account types currently supported by Dwolla include <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>, <code class="prettyprint">general-ledger</code> and <code class="prettyprint">loan</code>.</p>

<ul>
<li><p><code class="prettyprint">checking</code>, <code class="prettyprint">savings</code> - Checking and savings accounts can be attached to any Customer type. These account types are enabled for all Accounts and Customers, by default.</p></li>
<li><p><code class="prettyprint">general-ledger</code> - General ledger accounts can only be attached to exempt Business Verified Customers. <strong>Note</strong>: Enabling this account type requires additional Dwolla approvals before getting started. Please contact <a href="https://www.dwolla.com/contact?b=apidocs">Sales</a> or your account manager for more information on enabling this account type.</p></li>
<li><p><code class="prettyprint">loan</code> - Loan accounts can only be attached to Verified Customers. These funding-sources can only be credited, meaning funds can only be sent to these accounts. <strong>Note</strong>: Enabling this account type requires additional Dwolla approvals before getting started. Please contact <a href="https://www.dwolla.com/contact?b=apidocs">Sales</a> or your account manager for more information on enabling this account type.</p></li>
</ul>
<h3 id='funding-source-links'>Funding source links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the funding source resource.</td>
</tr>
<tr>
<td>customer</td>
<td>GET this link to <a href="#retrieve-a-customer">retrieve details</a> of the Customer.</td>
</tr>
<tr>
<td>remove</td>
<td>POST to this link to <a href="#remove-a-funding-source">remove the funding source</a> from the Customer.</td>
</tr>
<tr>
<td>balance</td>
<td>(Verified Customer only) GET this link to <a href="#retrieve-a-funding-source-balance">retrieve the amount available in the balance</a> of the Customer&rsquo;s Balance funding source.</td>
</tr>
<tr>
<td>transfer-from-balance</td>
<td>(Verified Customer only) if this link exists, the Customer can transfer funds from their balance.</td>
</tr>
<tr>
<td>transfer-to-balance</td>
<td>(Verified Customer only) if this link exists, funds can be transferred to the Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>transfer-send</td>
<td>If this link exists, the Customer can send funds to another Customer.</td>
</tr>
<tr>
<td>transfer-receive</td>
<td>The Customer can receive funds from another Customer.</td>
</tr>
<tr>
<td>initiate-micro-deposits</td>
<td>POST to this link to <a href="#initiate-micro-deposits">initiate micro-deposits</a> on an unverified funding source.</td>
</tr>
<tr>
<td>verify-micro-deposits</td>
<td>Micro-deposits have completed to this funding source and are eligible for verification. POST to this link with the <a href="#verify-micro-deposits">verify micro-deposit amounts</a> and complete bank funding source verification.</td>
</tr>
<tr>
<td>failed-verification-micro-deposits</td>
<td>Micro-deposits attempts have failed due to too many failed attempts. <a href="https://developers.dwolla.com/resources/funding-source-verification/micro-deposit-verification.html">Remove the bank and re-add to attempt verification again.</a></td>
</tr>
</tbody></table>
<h3 id='funding-source-resource'>Funding source resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The funding source unique identifier.</td>
</tr>
<tr>
<td>status</td>
<td>Possible values are <code class="prettyprint">unverified</code> or <code class="prettyprint">verified</code>. Determines if the funding source has completed verification.</td>
</tr>
<tr>
<td>type</td>
<td>Type of funding source. Possible values are <code class="prettyprint">bank</code> or <code class="prettyprint">balance</code>.</td>
</tr>
<tr>
<td>bankAccountType</td>
<td>An attribute for <code class="prettyprint">bank</code> funding sources that determines the type of account. Possible values are <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>, <code class="prettyprint">general-ledger</code> or <code class="prettyprint">loan</code>.</td>
</tr>
<tr>
<td>name</td>
<td>Arbitrary nickname for the funding source.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp for when the funding source was created.</td>
</tr>
<tr>
<td>balance</td>
<td>An optional object that includes <code class="prettyprint">value</code> and <code class="prettyprint">currency</code> parameters. <code class="prettyprint">value</code> is a string value for the amount available and <code class="prettyprint">currency</code> is a string value currency code. Only returned for a Dwolla API Customer account balance.</td>
</tr>
<tr>
<td>removed</td>
<td>Determines if the funding source has been <a href="#remove-a-funding-source">removed</a>. A boolean <code class="prettyprint">true</code> if the funding source was removed or <code class="prettyprint">false</code> if the funding source is not removed.</td>
</tr>
<tr>
<td>channels</td>
<td>List of processing channels.  ACH is the default processing channel for bank transfers. Possible values are <code class="prettyprint">ach</code> or <code class="prettyprint">wire</code>.</td>
</tr>
<tr>
<td>bankName</td>
<td>The financial institution name.</td>
</tr>
<tr>
<td>iavAccountHolders</td>
<td>An optional object that includes optional <code class="prettyprint">selected</code> and <code class="prettyprint">other</code> parameters. <code class="prettyprint">selected</code>, a string with the account holder name(s) on file with the financial institution for the IAV selected account. <code class="prettyprint">other</code>, a list of strings with name(s) of other accounts on file. Only returned for a Customer that added a bank using Dwolla IAV, and if names are returned for the selected bank account.</td>
</tr>
<tr>
<td>fingerprint</td>
<td>Fingerprint is an optional unique identifying string value returned for funding sources of type <code class="prettyprint">bank</code>. This attribute can be used to check across all Dwolla API Customers if two bank accounts share the same account number and routing number. Removing a funding source does not remove the <code class="prettyprint">fingerprint</code>.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/funding-sources/fc84223a-609f-42c9-866e-2c98f17ab4fb"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding-source"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"customer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/customers/241ec287-8d7a-4b69-911e-ffbea98d75ce"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"customer"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc84223a-609f-42c9-866e-2c98f17ab4fb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bank"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bankAccountType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checking"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your Account #1 - CHECKING"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-16T20:06:34.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"removed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"channels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"ach"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"bankName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SANDBOX TEST BANK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"iavAccountHolders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"selected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"account holder"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"other"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"GeneriCompany LLC"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4cf31392f678cb26c62b75096e1a09d4465a801798b3d5c3729de44a4f54c794"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='create-a-funding-source-for-a-customer'>Create a funding source for a customer</h2>
<p>There are two methods available for adding a bank or credit union account to a Customer. You can either collect the Customer&rsquo;s bank account information and pass it to Dwolla via the <a href="#create-a-funding-source-for-a-customer">new Customer funding source</a> endpoint, or you can send the Customer through the the <a href="https://developers.dwolla.com/resources/dwolla-js.html">Instant Account Verification</a> (IAV) flow which will add and verify a bank account within seconds.</p>

<p>Before a Dwolla account or Dwolla API Customer is eligible to transfer money from their bank or credit union account they need to verify ownership of the account, either via Instant Account Verification (IAV) or micro-deposits. For more information on bank account verification, reference this <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article.</p>

<p>Customers can have a maximum of 2 active funding sources. </p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>no</td>
<td>object</td>
<td>A <code>_links</code> JSON object containing an <a href="#create-an-on-demand-transfer-authorization"><code class="prettyprint">on-demand-authorization</code></a> link relation. See example raw request and response below.</td>
</tr>
<tr>
<td>routingNumber</td>
<td>yes</td>
<td>string</td>
<td>A bank routing number that identifies a bank or credit union in the U.S. <strong>Note:</strong> Validation of the routing number includes: a checksum, the first two digits of the routing number must fall within the range &ldquo;01&rdquo; through &ldquo;12&rdquo;, or &ldquo;21&rdquo; through &ldquo;32&rdquo;, and the string value must consist of nine digits.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>yes</td>
<td>string</td>
<td>The bank account number. <strong>Note:</strong> The account number is validated to check if it is a numeric string of 4-17 digits.</td>
</tr>
<tr>
<td>bankAccountType</td>
<td>yes</td>
<td>string</td>
<td>Type of bank account: <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>, <code class="prettyprint">general-ledger</code> or <code class="prettyprint">loan</code>.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source. Must be 50 characters or less.</td>
</tr>
<tr>
<td>plaidToken</td>
<td>no</td>
<td>string</td>
<td>A processor token obtained from Plaid for <code class="prettyprint">adding and verifying</code> a bank. Reference our <a href="https://developers.dwolla.com/resources/dwolla-plaid-integration.html">Plaid Link Developer Resource Article</a> to learn more about this integration.</td>
</tr>
<tr>
<td>channels</td>
<td>no</td>
<td>array</td>
<td>An array containing a list of processing channels.  ACH is the default processing channel for bank transfers. Acceptable value for channels is: &ldquo;wire&rdquo;. e.g. <code class="prettyprint">“channels”: [ “wire” ]</code>. A funding source (Bank Account) added using the wire channel only supports a funds transfer going to the bank account from a balance. As a result, wire as a destination funding source can only be added where the Customer account type is a Verified Customer. <strong>Note:</strong> <code class="prettyprint">channels</code> is a premium feature that must be enabled on your account and is only available to select <a href="https://www.dwolla.com/platform">Dwolla</a> customers.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Can be: Duplicate funding source or validation error. Authorization already associated to a funding source.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to create funding source.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
  "routingNumber": "222222226",
  "accountNumber": "123456789",
  "bankAccountType": "checking",
  "name": "Jane Doe’s Checking"
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fundingApi</span><span class="o">-&gt;</span><span class="na">createCustomerFundingSource</span><span class="p">([</span>
  <span class="s2">"routingNumber"</span> <span class="o">=&gt;</span> <span class="s2">"222222226"</span><span class="p">,</span>
  <span class="s2">"accountNumber"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span><span class="p">,</span>
  <span class="s2">"bankAccountType"</span> <span class="o">=&gt;</span> <span class="s2">"checking"</span><span class="p">,</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Jane Doe’s Checking"</span>
<span class="p">],</span> <span class="s2">"https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span><span class="p">);</span>
<span class="nv">$fundingSource</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">routingNumber: </span><span class="s1">'222222226'</span><span class="p">,</span>
  <span class="ss">accountNumber: </span><span class="s1">'123456789'</span><span class="p">,</span>
  <span class="ss">bankAccountType: </span><span class="s1">'checking'</span><span class="p">,</span>
  <span class="ss">name: </span><span class="s1">'Jane Doe’s Checking'</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/funding-sources"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'routingNumber'</span><span class="p">:</span> <span class="s">'222222226'</span><span class="p">,</span>
  <span class="s">'accountNumber'</span><span class="p">:</span> <span class="s">'123456789'</span><span class="p">,</span>
  <span class="s">'bankAccountType'</span><span class="p">:</span> <span class="s">'checking'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Jane Doe’s Checking'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'routingNumber'</span><span class="p">:</span> <span class="s1">'222222226'</span><span class="p">,</span>
  <span class="s1">'accountNumber'</span><span class="p">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
  <span class="s1">'bankAccountType'</span><span class="p">:</span> <span class="s1">'checking'</span><span class="p">,</span>
  <span class="s1">'name'</span><span class="p">:</span> <span class="s1">'Jane Doe’s Checking'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/funding-sources`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><h3 id='request-and-response---using-a-hrefcreate-an-on-demand-transfer-authorizationon-demand-authorizationa'>Request and response - using <a href="#create-an-on-demand-transfer-authorization">on-demand authorization</a></h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/funding-sources
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
  "_links": {
    "on-demand-authorization": {
      "href": "https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"
    }
  },
  "routingNumber": "222222226",
  "accountNumber": "123456789",
  "type": "checking",
  "name": "Jane Doe - Checking"
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fundingApi</span><span class="o">-&gt;</span><span class="na">createCustomerFundingSource</span><span class="p">([</span>
  <span class="s2">"_links"</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">"on-demand-authorization"</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s2">"href"</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s2">"routingNumber"</span> <span class="o">=&gt;</span> <span class="s2">"222222226"</span><span class="p">,</span>
  <span class="s2">"accountNumber"</span> <span class="o">=&gt;</span> <span class="s2">"123456789"</span><span class="p">,</span>
  <span class="s2">"bankAccountType"</span> <span class="o">=&gt;</span> <span class="s2">"checking"</span><span class="p">,</span>
  <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Jane Doe’s Checking"</span>
<span class="p">],</span> <span class="s2">"https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span><span class="p">);</span>
<span class="nv">$fundingSource</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">_links: </span><span class="p">{</span>
    <span class="s1">'on-demand-authorization'</span><span class="p">:</span> <span class="p">{</span>
      <span class="ss">href: </span><span class="s2">"https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">routingNumber: </span><span class="s1">'222222226'</span><span class="p">,</span>
  <span class="ss">accountNumber: </span><span class="s1">'123456789'</span><span class="p">,</span>
  <span class="ss">bankAccountType: </span><span class="s1">'checking'</span><span class="p">,</span>
  <span class="ss">name: </span><span class="s1">'Jane Doe’s Checking'</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/funding-sources"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'on-demand-authorization'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'routingNumber'</span><span class="p">:</span> <span class="s">'222222226'</span><span class="p">,</span>
  <span class="s">'accountNumber'</span><span class="p">:</span> <span class="s">'123456789'</span><span class="p">,</span>
  <span class="s">'bankAccountType'</span><span class="p">:</span> <span class="s">'checking'</span><span class="p">,</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Jane Doe’s Checking'</span>
<span class="p">}</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">customer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'on-demand-authorization'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s1">'href'</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s1">'routingNumber'</span><span class="err">:</span> <span class="s1">'222222226'</span><span class="p">,</span>
  <span class="s1">'accountNumber'</span><span class="err">:</span> <span class="s1">'123456789'</span><span class="p">,</span>
  <span class="s1">'bankAccountType'</span><span class="err">:</span> <span class="s1">'checking'</span><span class="p">,</span>
  <span class="s1">'name'</span><span class="err">:</span> <span class="s1">'Jane Doe’s Checking'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/funding-sources`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/funding-sources/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><h2 id='create-a-funding-sources-token-for-dwolla-js'>Create a funding sources token for dwolla.js</h2>
<p>Dwolla.js is a client-side library that allows you <code class="prettyprint">add</code> a funding source for your Customer without having any sensitive data hit your server. This section details how to create a token that will be sent to the client and used to authenticate the HTTP request asking Dwolla to <code class="prettyprint">add</code> a new funding source.</p>

<p>Refer to our <a href="https://developers.dwolla.com/resources/dwolla-js/add-a-bank-account.html">Dwolla.js developer resource article</a> to learn more on how to utilize this single-use funding-sources-token to <code class="prettyprint">add</code> funding source for a Customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/funding-sources-token</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/funding-sources-token
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

HTTP/1.1 200 OK

{
 "_links": {
   "self": {
     "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/funding-sources-token"
   }
 },
 "token": "4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span>

<span class="n">fs_token</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/funding-sources-token"</span>
<span class="n">fs_token</span><span class="p">.</span><span class="nf">token</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span><span class="p">;</span>

<span class="nx">appToken</span>
 <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/funding-sources-token`</span><span class="err">)
</span> <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span> <span class="c1">// =&gt; 'lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'http://api.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources-token'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsToken</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">createFundingSourcesTokenForCustomer</span><span class="p">(</span><span class="s2">"https://api-sandbox.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6"</span><span class="p">);</span>
<span class="nv">$fsToken</span><span class="o">-&gt;</span><span class="na">token</span><span class="p">;</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='create-an-iav-token-for-dwolla-js'>Create an IAV token for dwolla.js</h2>
<p>Dwolla.js is a client-side library that allows you <code class="prettyprint">add and verify</code> a funding source for your Customer without having any sensitive data hit your server. This section details how to create a token that will be sent to the client and used to authenticate the HTTP request asking Dwolla to <code class="prettyprint">add and verify</code> a new funding source.</p>

<p>Refer to our <a href="https://developers.dwolla.com/resources/dwolla-js/instant-account-verification.html">Dwolla.js developer resource article</a> to learn more on how to utilize this single-use iav-token to <code class="prettyprint">add and verify</code> a funding source for a Customer.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/iav-token</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/99bfb139-eadd-4cdf-b346-7504f0c16c60/iav-token
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

HTTP/1.1 200 OK

{
 "_links": {
   "self": {
     "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/iav-token"
   }
 },
 "token": "4adF858jPeQ9RnojMHdqSD2KwsvmhO7Ti7cI5woOiBGCpH5krY"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span>

<span class="n">customer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/iav-token"</span>
<span class="n">customer</span><span class="p">.</span><span class="nf">token</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node</span>
<span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span><span class="p">;</span>

<span class="nx">appToken</span>
 <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/iav-token`</span><span class="err">)
</span> <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">token</span><span class="p">);</span> <span class="c1">// =&gt; 'lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'http://api.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/iav-token'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$iavToken</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getCustomerIavToken</span><span class="p">(</span><span class="s2">"https://api-sandbox.dwolla.com/customers/06b51d56-7a6c-4535-a0cc-2c0106f56ba6"</span><span class="p">);</span>
<span class="nv">$iavToken</span><span class="o">-&gt;</span><span class="na">token</span><span class="p">;</span> <span class="c1"># =&gt; "lr0Ax1zwIpeXXt8sJDiVXjPbwEeGO6QKFWBIaKvnFG0Sm2j7vL"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='retrieve-a-funding-source'>Retrieve a funding source</h2>
<p>This section covers how to retrieve a funding source by id.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/funding-sources/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to retrieve.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Funding source not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "funding-source"
        },
        "customer": {
            "href": "https://api-sandbox.dwolla.com/customers/4594a375-ca4c-4220-a36a-fa7ce556449d",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        },
        "initiate-micro-deposits": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31/micro-deposits",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "micro-deposits"
        }
    },
    "id": "49dbaa24-1580-4b1c-8b58-24e26656fa31",
    "status": "unverified",
    "type": "bank",
    "bankAccountType": "checking",
    "name": "Test checking account",
    "created": "2017-09-26T14:14:08.000Z",
    "removed": false,
    "channels": [
        "ach"
    ],
    "bankName": "SANDBOX TEST BANK",
    "fingerprint": "5012989b55af15400e8102f95d2ec5e7ce3aef45c01613280d80a236dd8d6c3a"
}

</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31'</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">funding_source_url</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Test checking account"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="nv">$fundingSource</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Test checking account"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31'</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Test checking account'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">fundingSourceUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; "Test checking account"</span>
</code></pre></div></div><h2 id='list-funding-sources-for-a-customer'>List funding sources for a customer</h2>
<p>Retrieve a list of funding sources that belong to a Customer. By default, all funding sources are returned unless the <code class="prettyprint">removed</code> query string parameter is set to <code class="prettyprint">false</code> in the request.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/funding-sources</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer&rsquo;s unique identifier.</td>
</tr>
<tr>
<td>removed</td>
<td>no</td>
<td>string</td>
<td>Filter removed funding sources. Defaults to <code class="prettyprint">true</code>. Set to <code class="prettyprint">false</code> to filter out removed funding sources from list (i.e. - /customers/{id}/funding-sources?removed=false).</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to list funding sources.</td>
</tr>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/funding-sources
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733/funding-sources"
    },
    "customer": {
      "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733"
    }
  },
  "_embedded": {
    "funding-sources": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/ab9cd5de-9435-47af-96fb-8d2fa5db51e8"
          },
          "customer": {
            "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733"
          },
          "with-available-balance": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/ab9cd5de-9435-47af-96fb-8d2fa5db51e8"
          }
        },
        "id": "ab9cd5de-9435-47af-96fb-8d2fa5db51e8",
        "status": "verified",
        "type": "balance",
        "name": "Balance",
        "created": "2015-10-02T21:00:28.153Z",
        "removed": false,
        "channels": []
      },
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/98c209d3-02d6-4bee-bc0f-61e18acf0e33"
          },
          "customer": {
            "href": "https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733"
          }
        },
        "id": "98c209d3-02d6-4bee-bc0f-61e18acf0e33",
        "status": "verified",
        "type": "bank",
        "bankAccountType": "checking",
        "name": "Jane Doe’s Checking",
        "created": "2015-10-02T22:03:45.537Z",
        "removed": false,
        "channels": [
            "ach"
        ],
        "fingerprint": "4cf31392f678cb26c62b75096e1a09d4465a801798b3d5c3729de44a4f54c794"
      }
    ]
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span>

<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/funding-sources"</span>
<span class="n">funding_sources</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">name</span> <span class="c1"># =&gt; "Jane Doe’s Checking"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSources</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">getCustomerFundingSources</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$fundingSources</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'funding-sources'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="c1"># =&gt; "Jane Doe’s Checking"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span>

<span class="n">funding_sources</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/funding-sources'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">funding_sources</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Jane Doe’s Checking'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/funding-sources`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'funding-sources'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; 'Jane Doe’s Checking'</span>
</code></pre></div></div><h2 id='update-a-funding-source'>Update a funding source</h2>
<p>This section covers how to update a <code class="prettyprint">bank</code> funding source. The <code class="prettyprint">accountNumber</code>, <code class="prettyprint">routingNumber</code> and <code class="prettyprint">bankAccountType</code> are all optional attributes that can be updated on a funding source when it has an <code class="prettyprint">unverified</code> status. You can choose to update only name, name and routingNumber, name and accountNumber, name and type or all four attributes. Any attribute that isn&rsquo;t updated remains the same as it was prior to update, including the funding source id. The <code class="prettyprint">name</code> attribute can be updated when a funding source has either an <code class="prettyprint">unverified</code> or <code class="prettyprint">verified</code> status.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to update.</td>
</tr>
<tr>
<td>name</td>
<td>yes</td>
<td>string</td>
<td>Arbitrary nickname for the funding source. Must be 50 characters or less.</td>
</tr>
<tr>
<td>bankAccountType</td>
<td>no</td>
<td>string</td>
<td>Type of bank account: <code class="prettyprint">checking</code>, <code class="prettyprint">savings</code>, <code class="prettyprint">general-ledger</code> or <code class="prettyprint">loan</code>.</td>
</tr>
<tr>
<td>routingNumber</td>
<td>no</td>
<td>string</td>
<td>The bank account&rsquo;s routing number.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>no</td>
<td>string</td>
<td>The bank account number.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP Status and Error Codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Funding source not found.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Only funding sources of type=&ldquo;bank&rdquo; can be updated.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Invalid bank name.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>A removed bank cannot be updated.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "name": "Test Checking - 1234"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"Test Checking - 1234"</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">name</span> <span class="c1"># =&gt; "Test Checking - 1234"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'name'</span><span class="p">:</span> <span class="s">'Test Checking - 1234'</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="c"># =&gt; 'Test Checking - 1234'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">name</span><span class="p">:</span> <span class="s2">"Test Checking - 1234"</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">fundingSourceUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// =&gt; "Test Checking - 1234"</span>
</code></pre></div></div><h2 id='initiate-micro-deposits'>Initiate micro-deposits</h2>
<p>This section covers how to initiate micro-deposits for bank verification. Reference the <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article for more information on the micro-deposit method of bank account verification.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}/micro-deposits</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to initiate micro-deposits to.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
<td>Micro-deposits initiated, will take 1-2 days to settle to destination bank.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Funding source not found</td>
</tr>
</tbody></table>
<h4 id='request-and-response'>Request and response</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
Authorization: Bearer 8tJjM7iTjujLthkbVPMUcHLqMNw4uv5kG712g9j1RRBHplGpwo
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">/micro-deposits"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>

<span class="nx">appToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">fundingSourceUrl</span><span class="p">}</span><span class="sr">/micro-deposits`</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/micro-deposits'</span> <span class="o">%</span> <span class="n">funding_source_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">microDeposits</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='verify-micro-deposits'>Verify micro-deposits</h2>
<p>This section covers how to verify micro-deposits for bank verification. Reference the <a href="https://developers.dwolla.com/resources/funding-source-verification.html">funding source verification</a> resource article for more information on the micro-deposit method of bank account verification. <strong>Note:</strong> Micro-deposits do not expire. Micro-deposits can be verified anytime in the future after they have a <code class="prettyprint">processed</code> status in the Dwolla system. </p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}/micro-deposits</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to verify micro-deposits on.</td>
</tr>
<tr>
<td>amount1</td>
<td>yes</td>
<td>string</td>
<td>An amount JSON object of first micro-deposit. Contains <code class="prettyprint">value</code> and <code class="prettyprint">currency</code>.</td>
</tr>
<tr>
<td>amount2</td>
<td>yes</td>
<td>string</td>
<td>An amount JSON object of second micro-deposit. Contains <code class="prettyprint">value</code> and <code class="prettyprint">currency</code>.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>OK</td>
<td>Micro-deposits successfully verified.</td>
</tr>
<tr>
<td>202</td>
<td>TryAgainLater</td>
<td>Micro-deposits have not have not settled to destination bank. A Customer can verify these amounts after micro-deposits have processed to their bank.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>InvalidAmount, &ldquo;Wrong amount(s).&rdquo;</td>
</tr>
<tr>
<td>400</td>
<td>MaxNumberOfResources</td>
<td>Micro-deposits already initiated for this funding source.</td>
</tr>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>&ldquo;Too many attempts.&rdquo;, &ldquo;Bank already verified.&rdquo;</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Micro-deposits not initiated,Funding source not found</td>
</tr>
<tr>
<td>500</td>
<td>Unknown</td>
<td>&ldquo;Verify micro-deposits returned an unknown error.&rdquo;</td>
</tr>
</tbody></table>
<h4 id='request-and-response'>Request and response</h4><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909/micro-deposits
Authorization: Bearer 8tJjM7iTjujLthkbVPMUcHLqMNw4uv5kG712g9j1RRBHplGpwo
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json

{
    "amount1": {
        "value": "0.03",
        "currency": "USD"
    },
    "amount2": {
        "value": "0.09",
        "currency": "USD"
    }
}

HTTP 200 OK
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:amount1</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"0.03"</span><span class="p">,</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span>
  <span class="p">},</span>
  <span class="ss">:amount2</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"0.09"</span><span class="p">,</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">/micro-deposits"</span><span class="p">,</span> <span class="n">request_body</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">amount1</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'0.03'</span><span class="p">,</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span>
  <span class="p">},</span>
  <span class="na">amount2</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'0.09'</span><span class="p">,</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">fundingSourceUrl</span><span class="p">}</span><span class="sr">/micro-deposits`, requestBody</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'amount1'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'value'</span><span class="p">:</span> <span class="s">'0.03'</span><span class="p">,</span>
        <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span>
    <span class="p">},</span>
    <span class="s">'amount2'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'value'</span><span class="p">:</span> <span class="s">'0.09'</span><span class="p">,</span>
        <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/micro-deposits'</span> <span class="o">%</span> <span class="n">funding_source_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/e52006c3-7560-4ff1-99d5-b0f3a6f4f909'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">microDeposits</span><span class="p">([</span>
  <span class="s1">'amount1'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'0.03'</span><span class="p">,</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span>
  <span class="p">],</span>
  <span class="s1">'amount2'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'0.09'</span><span class="p">,</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span>
  <span class="p">]],</span>
  <span class="nv">$fundingSourceUrl</span>
<span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='retrieve-a-funding-source-balance'>Retrieve a funding source balance</h2>
<p>This section covers how to retrieve the total and available amount for a <a href="https://developers.dwolla.com/resources/balance-funding-source.html">Dwolla balance</a> funding source. The funding source type <code class="prettyprint">balance</code> exists for <a href="https://developers.dwolla.com/resources/account-types.html#verified-customer">Verified Customer</a> accounts and represents a balance held in the Dwolla network.</p>
<h4 id='total-and-available-balance'>Total and Available Balance</h4>
<p>There are two different amounts returned in the API response when retrieving a balance which correspond to a <code class="prettyprint">total</code> and <code class="prettyprint">available</code> balance. <strong>Note:</strong> Unless your application utilizes <a href="https://docs.dwolla.com/#labels">Labels</a> functionality, the amounts that are returned in both the <code class="prettyprint">balance</code> and <code class="prettyprint">total</code> objects will be the same. Available balance can be accessed via the <code class="prettyprint">balance</code> attribute, whereas total balance can be accessed via the <code class="prettyprint">total</code> attribute within the Balance object. Both <code class="prettyprint">balance</code> and <code class="prettyprint">total</code> are JSON objects that contain key value pairs for <code class="prettyprint">value</code> and <code class="prettyprint">currency</code>.</p>
<h5 id='available-balance'>Available Balance</h5>
<p>The amount of funds readily available in a Verified Customer Record’s balance that can be sent, withdrawn, or <a href="https://docs.dwolla.com/#labels">labeled</a>.</p>
<h5 id='total-balance'>Total Balance</h5>
<p>Represents the Verified Customer Record’s total balance held in the Dwolla network. This includes both <a href="https://docs.dwolla.com/#labels">labeled</a> funds and the Available Balance, i.e. both labeled and unlabeled funds.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/funding-sources/{id}/balance</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to retrieve a balance for.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Funding source not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418/balance
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418/balance",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "balance"
    },
    "funding-source": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "funding-source"
    }
  },
  "balance": {
    "value": "4616.87",
    "currency": "USD"
  },
  "total": {
      "value": "4616.87",
      "currency": "USD"
  },
  "lastUpdated": "2017-04-18T15:20:25.880Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418'</span>

<span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">/balance"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">getBalance</span><span class="p">(</span><span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418'</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/balance'</span> <span class="o">%</span> <span class="n">funding_source_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/c2eb3f03-1b0e-4d18-a4a2-e552cc111418'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">fundingSourceUrl</span><span class="p">}</span><span class="sr">/balance`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">balance</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
</code></pre></div></div><h2 id='retrieve-micro-deposits-details'>Retrieve micro-deposits details</h2>
<p>This section shows how to retrieve the status of micro-deposits and check if micro-deposits are eligible for verification. If the status of micro-deposits is <code class="prettyprint">failed</code>, a <code class="prettyprint">failure</code> object will be returned in the response body which includes the ACH return code and description.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/funding-sources/{id}/micro-deposits</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>no</td>
<td>string</td>
<td>id of funding source to check status of validation deposits.</td>
</tr>
</tbody></table>
<h3 id='micro-deposits-object'>Micro-deposits object</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>A _links <a href="#links">JSON object</a></td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
<tr>
<td>status</td>
<td>Possible values: <code class="prettyprint">pending</code>, <code class="prettyprint">processed</code>, or <code class="prettyprint">failed</code>. <code class="prettyprint">pending</code> represents micro-deposits initiated and are en route to their destination. <code class="prettyprint">processed</code> represents micro-deposits have reached the destination account and are awaiting verification. <code class="prettyprint">failed</code> represents micro-deposits failed to clear successfully to the destination.</td>
</tr>
<tr>
<td>failure</td>
<td>Determines if micro-deposits fail to complete to a bank. Failure is an object that contains a <code class="prettyprint">code</code> and <code class="prettyprint">description</code>, which represents the ACH return code and description of the return.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>Ok</td>
<td>Pending micro-deposits exist.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>The requested resource was not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/funding-sources/dfe59fdd-7467-44cf-a339-2020dab5e98a/micro-deposits
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/dfe59fdd-7467-44cf-a339-2020dab5e98a/micro-deposits",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "micro-deposits"
    },
    "verify-micro-deposits": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/dfe59fdd-7467-44cf-a339-2020dab5e98a/micro-deposits",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "micro-deposits"
    }
  },
  "created": "2016-12-30T20:56:53.000Z",
  "status": "failed",
  "failure": {
    "code": "R03",
    "description": "No Account/Unable to Locate Account"
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">/micro-deposits"</span>
<span class="n">funding_source</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "failed"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fundingSource</span> <span class="o">=</span> <span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">verifyMicroDepositsExist</span><span class="p">(</span><span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="nv">$fundingSource</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "failed"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/micro-deposits'</span> <span class="o">%</span> <span class="n">funding_source_url</span><span class="p">)</span>
<span class="n">funding_source</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'failed'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">fundingSourceUrl</span><span class="p">}</span><span class="sr">/micro-deposits`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; "failed"</span>
</code></pre></div></div><h2 id='remove-a-funding-source'>Remove a funding source</h2>
<p>Remove a funding source by id. A removed funding source is soft deleted and can still be accessed when retrieved. When a funding source with an <code class="prettyprint">unverified</code> status is removed, an attempt to re-add it within 48 hours of the initial created date will re-activate the removed funding source and maintain the same <code class="prettyprint">id</code>.</p>
<ol class = "alerts"><li class="alert icon-alert-alert"><p>We recommend not removing funding sources until all transfers have been <code>processed</code>. Removing a funding source prior to a transfer processing may result in funds being processed to a <code>balance</code> funding source rather than the intended bank funding source.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/funding-sources/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of funding source to delete.</td>
</tr>
<tr>
<td>removed</td>
<td>yes</td>
<td>string</td>
<td>Specify a value of <code class="prettyprint">true</code> to remove the associated funding source.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Funding source not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
{
    "removed": true
}

...

HTTP 200 OK
{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c",
      "type": "funding-source"
    }
  },
  "id": "692486f8-29f6-4516-a6a5-c69fd2ce854c",
  "status": "verified",
  "type": "bank",
  "bankAccountType": "checking",
  "name": "Test bank account",
  "created": "2016-06-08T21:37:30.000Z",
  "removed": true,
  "fingerprint": "4cf31392f678cb26c62b75096e1a09d4465a801798b3d5c3729de44a4f54c794"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:removed</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="p">}</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">funding_source_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="nv">$fsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\FundingsourcesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$fsApi</span><span class="o">-&gt;</span><span class="na">softDelete</span><span class="p">([</span><span class="s1">'removed'</span> <span class="o">=&gt;</span> <span class="kc">true</span> <span class="p">],</span> <span class="nv">$fundingSourceUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">funding_source_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'removed'</span><span class="p">:</span> <span class="bp">True</span>
<span class="p">}</span>

<span class="n">funding_source</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">funding_source_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">fundingSourceUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">removed</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">appToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">fundingSourceUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">);</span>
</code></pre></div></div>
<hr>

            <h1 id='transfers'>Transfers</h1>
<p>A transfer represents money being transferred from a <code class="prettyprint">source</code> to a <code class="prettyprint">destination</code>. Transfers are available for the <code class="prettyprint">Customer</code> and <code class="prettyprint">Account</code> resources.</p>
<h3 id='transfer-links'>Transfer Links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the transfer.</td>
</tr>
<tr>
<td>source</td>
<td>GET this link to <a href="#retrieve-a-customer">retrieve the Customer</a> that was the <code class="prettyprint">source</code> of the transfer.</td>
</tr>
<tr>
<td>destination</td>
<td>GET this link to <a href="#retrieve-a-customer">retrieve the Customer</a> that was the <code class="prettyprint">destination</code> of the transfer.</td>
</tr>
<tr>
<td>source-funding-source</td>
<td>GET this link to <a href="#retrieve-a-funding-source">retrieve the funding source</a> that was the <code class="prettyprint">source</code> of the transfer.</td>
</tr>
<tr>
<td>destination-funding-source</td>
<td>GET this link to <a href="#retrieve-a-funding-source">retrieve the funding source</a> that was the <code class="prettyprint">destination</code> of the transfer.</td>
</tr>
<tr>
<td>cancel</td>
<td>POST to this link to <a href="#cancel-a-transfer">cancel the transfer</a> (A bank transfer is cancellable up until 4pm CT on that same business day if the transfer was initiated prior to 4pm CT. If a transfer was initiated after 4pm CT, it can be cancelled before 4pm CT on the following business day.)</td>
</tr>
<tr>
<td>fees</td>
<td>GET this link to <a href="#list-fees-for-a-transfer">retrieve the facilitator fees</a> associated with the transfer.</td>
</tr>
</tbody></table>
<h3 id='transfer-resource'>Transfer resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Transfer unique identifier.</td>
</tr>
<tr>
<td>status</td>
<td>Either <code class="prettyprint">processed</code>, <code class="prettyprint">pending</code>, <code class="prettyprint">cancelled</code>, or <code class="prettyprint">failed</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>An amount JSON object. See below.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp.</td>
</tr>
<tr>
<td>metadata</td>
<td>A metadata JSON object</td>
</tr>
<tr>
<td>clearing</td>
<td>A clearing JSON object.</td>
</tr>
<tr>
<td>achDetails</td>
<td>An achDetails JSON object. See below.</td>
</tr>
<tr>
<td>correlationId</td>
<td>A string value attached to a transfer resource which can be used for traceability between Dwolla and your application.</td>
</tr>
<tr>
<td>individualAchId</td>
<td>A unique string value matching the value on bank line related to the transfer. Appears when the debit entry clears out of the bank. The individual identifier for that ACH entry.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"clearing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"next-available"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"achDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"addenda"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"traceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
            </span><span class="p">},</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"addenda"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"string"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"traceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
  </span><span class="nt">"correlationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"individualAchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='source-and-destination-types'>Source and destination types</h3><h5 id='source-types'>Source types</h5>
<table><thead>
<tr>
<th>Source Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>A bank or balance funding source.</td>
</tr>
</tbody></table>
<h5 id='destination-types'>Destination types</h5>
<table><thead>
<tr>
<th>Destination Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>Destination of an Account or verified Customer&rsquo;s own bank or balance funding source. <strong>OR</strong> A Customer&rsquo;s bank funding source.</td>
</tr>
</tbody></table>
<h3 id='amount-json-object'>amount JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>yes</td>
<td>string</td>
<td>Amount of money. If the entered amount has more than two decimal places, Dwolla will automatically round it to the nearest even integer using <a href="http://wiki.c2.com/?BankersRounding">Banker&rsquo;s Rounding</a>. <br> Maximum limit: Default transaction limits based on <a href="https://developers.dwolla.com/resources/account-types.html">Customer type</a> or custom transaction limits as defined in the services agreement with Dwolla. <br> Minimum limit: $0.01.</td>
</tr>
<tr>
<td>currency</td>
<td>yes</td>
<td>string</td>
<td>Possible values: <code class="prettyprint">USD</code></td>
</tr>
</tbody></table>
<h3 id='facilitator-fee-json-object'>Facilitator fee JSON object</h3>
<p>The facilitator fee is a feature allowing for a flat rate amount to be removed from a payment as a fee, and sent to the creator of the Dwolla application. The fee does not affect the original payment amount, and exists as a separate <a href="#transfer-resource">Transfer resource</a> with a unique transfer ID. Within a transfer request you can specify an optional <code class="prettyprint">fees</code> request parameter, which is an array of <a href="#facilitator-fee-json-object">fee objects</a> that can represent many unique fee transfers.</p>

<p>For more information on collecting fees on payments, reference the <a href="https://developers.dwolla.com/resources/facilitator-fee.html">facilitator fee</a> resource article.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Contains a <code class="prettyprint">charge-to</code> JSON object with a link to the associated source or destination <code class="prettyprint">Customer</code> resource.</td>
</tr>
<tr>
<td>amount</td>
<td>Amount of fee to charge. An amount JSON object. <a href="#amount-json-object">See above</a></td>
</tr>
</tbody></table>
<h4 id='facilitator-fee-example'>Facilitator fee example:</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">"fees": [
  {
    "_links": {
      "charge-to": {
        "href": "https://api-sandbox.dwolla.com/customers/d795f696-2cac-4662-8f16-95f1db9bddd8"
      }
    },
    "amount": {
      "value": "4.00",
      "currency": "USD"
    }
  }
]
</code></pre></div></div><h3 id='clearing-json-object'>clearing JSON object</h3>
<p>The <code class="prettyprint">clearing</code> object is used in tandem with our expedited transfer feature.
Source specifies the clearing time for the source funding source involved in the transfer, and can be used to downgrade the clearing time from the default of Next-day ACH. Destination specifies the clearing time for the destination funding source involved in the transfer, and can be used to upgrade the clearing time from the default of Standard ACH to Same-day ACH.</p>

<blockquote>
<p><strong>Note:</strong> The clearing request parameter is a premium feature available for <a href="https://www.dwolla.com/platform">Dwolla</a> customers. Enabling Next-day ACH and Same-day ACH requires additional Dwolla approvals before getting started. Please contact <a href="https://www.dwolla.com/contact?b=apidocs">Sales</a> or your account manager for more information on enabling this account setting.</p>
</blockquote>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>source</td>
<td>no</td>
<td>string</td>
<td>Represents a clearing object for <code class="prettyprint">standard</code> debits into the Dwolla network. Used to downgrade the clearing time from the default of Next-day ACH. <br> Possible values: <code class="prettyprint">standard</code></td>
</tr>
<tr>
<td>destination</td>
<td>no</td>
<td>string</td>
<td>Represents a clearing object for <code class="prettyprint">same-day</code> credits out of the Dwolla network to a bank funding source. <br> Possible values: <code class="prettyprint">next-available</code></td>
</tr>
</tbody></table>
<h4 id='clearing-example'>Clearing example:</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">"clearing": {
  "source": "standard",
  "destination": "next-available"
}
</code></pre></div></div><h3 id='achdetails-and-addenda-object'>achDetails and addenda object</h3>
<p><strong>Note: This feature is only supported for business Customer records.</strong> <br> The addendum record is used to provide additional information to the payment recipient about the payment. This value will be passed in on a transfer request and can be exposed on a Customer’s bank statement. Addenda records provide a unique opportunity to supply your customers with more information about their transactions. Allowing businesses to include additional details about the transaction—such as invoice numbers—provides their end users with more information about the transaction in the comfort of their own banking application.</p>
<h5 id='achdetails-object'>achDetails object</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>source</td>
<td>no</td>
<td>object</td>
<td>Represents information that is sent to a source/originating bank account along with a transfer. Include information within this JSON object for customizing details on ACH debit transfers. Can include an <a href="#addenda-object">addenda JSON object</a>.</td>
</tr>
<tr>
<td>destination</td>
<td>no</td>
<td>object</td>
<td>Represents information that is sent to a destination/receiving bank account along with a transfer. Include information within this JSON object for customizing details on ACH credit transfers. Can include an <a href="#addenda-object">addenda JSON object</a>.</td>
</tr>
</tbody></table>
<h5 id='addenda-object'>addenda object</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addenda</td>
<td>no</td>
<td>object</td>
<td>An addenda object contains a <code class="prettyprint">values</code> key where its value is an array containing a <strong>single</strong> string addenda value. Addenda record information is used for the purpose of transmitting transfer-related information from a business. <br> Addenda value must be less than or equal to 80 characters and can include spaces. <br> Acceptable characters are: a-Z, 0-9, and special characters <code class="prettyprint">- _ . ~ ! * &#39; ( ) ; : @ &amp; = + $ , / ? % # [ ]</code>. <br> <em>Transfers must be sent to/from a business entity&rsquo;s bank to guarantee addenda delivery.</em></td>
</tr>
</tbody></table>
<h4 id='achdetails-with-addenda-example'>achDetails with addenda example:</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">"achDetails": {
  "source": {
    "addenda": {
      "values": ["ABC123_AddendaValue"]
    }
  },
  "destination": {
    "addenda": {
      "values": ["ZYX987_AddendaValue"]
    }
  }
}
</code></pre></div></div><h2 id='initiate-a-transfer'>Initiate a transfer</h2>
<p>This section covers how to initiate a transfer from either a Dwolla <a href="#accounts">Account</a> or Dwolla API <a href="#customers">Customer</a> resource.</p>
<h3 id='prevent-duplicate-transfers-with-idempotency-key'>Prevent duplicate transfers with idempotency key</h3>
<p>To prevent an operation from being performed more than once, Dwolla supports passing in an <code class="prettyprint">Idempotency-Key</code> header with a unique key as the value. Multiple <code class="prettyprint">POSTs</code> with the same idempotency key won&rsquo;t result in multiple resources being created.</p>

<p>For example, if a request to initiate a transfer fails due to a network connection issue, you can reattempt the request with the same idempotency key to ensure that only a single transfer is created.</p>

<p>Refer to our <a href="#idempotency-key">idempotency key</a> section to learn more.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/transfers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>yes</td>
<td>object</td>
<td>A _links JSON object describing the desired <code class="prettyprint">source</code> and <code class="prettyprint">destination</code> of a transfer. <a href="#source-and-destination-types">Reference the Source and Destination object to learn more</a> about possible values for <code class="prettyprint">source</code> and <code class="prettyprint">destination</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>object</td>
<td>An amount JSON object. <a href="#amount-json-object">Reference the amount JSON object to learn more</a>.</td>
</tr>
<tr>
<td>metadata</td>
<td>no</td>
<td>object</td>
<td>A metadata JSON object with a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
<tr>
<td>fees</td>
<td>no</td>
<td>array</td>
<td>An array of fee JSON objects that contain unique fee transfers. <a href="#facilitator-fee-json-object">Reference the facilitator fee JSON object to learn more</a>.</td>
</tr>
<tr>
<td>clearing</td>
<td>no</td>
<td>object</td>
<td>A clearing JSON object that contains <code class="prettyprint">source</code> and <code class="prettyprint">destination</code> keys to slow down or expedite a transfer. <a href="#clearing-json-object">Reference the clearing JSON object to learn more</a>.</td>
</tr>
<tr>
<td>achDetails</td>
<td>no</td>
<td>object</td>
<td>An ACH details JSON object which represents additional information sent along with a transfer to an originating or receiving financial institution. Details within this object can be used to reference a transaction that has settled with a financial institution. <a href="#achdetails-object">Reference the achDetails JSON object to learn more</a></td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A string value attached to a customer which can be used for traceability between Dwolla and your application. <strong>Note:</strong> A correlationId is not a replacement for an <a href="#idempotency-key">idempotency-key</a>. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Error Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created.</td>
<td>A transfer was created.</td>
</tr>
<tr>
<td>400</td>
<td>Funding source not found.</td>
<td>Double check the funding source Id, and make sure you are using the correct funding source Id.</td>
</tr>
<tr>
<td>400</td>
<td>Invalid funding source.</td>
<td>The <code class="prettyprint">source</code> funding source must be verified in order to send funds. Make sure your <code class="prettyprint">source</code> funding source is <code class="prettyprint">verified</code>.</td>
</tr>
<tr>
<td>400</td>
<td>Metadata not supported for this type of transfer.</td>
<td>Metadata is unable to be passed in on transfers with a Balance Funding Source.</td>
</tr>
<tr>
<td>400</td>
<td>Sender // Receiver Restricted.</td>
<td>The <code class="prettyprint">source</code> or <code class="prettyprint">destination</code> Customer is either <code class="prettyprint">deactivated</code> or <code class="prettyprint">suspended</code> and not eligible for transfers.</td>
</tr>
<tr>
<td>400</td>
<td>Invalid amount</td>
<td>The supplied amount is greater than your transaction limit. For more information on transaction limits for various Customer types, check out our <a href="https://developers.dwolla.com/resources/account-types.html">Customer Types article</a>.</td>
</tr>
<tr>
<td>400</td>
<td>Invalid amount</td>
<td>The supplied amount must be a positive number.</td>
</tr>
<tr>
<td>401</td>
<td>Invalid access token</td>
<td>Access token not valid. Generate a new one and try again.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to create a transfer.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Invalid Funds Flow: this operation requires the funds flow (<code class="prettyprint">facilitate</code>/<code class="prettyprint">receive</code>/<code class="prettyprint">send</code>) to be enabled.</td>
</tr>
<tr>
<td>429</td>
<td>TooManyRequests</td>
<td>Concurrent transfers with the given funding source are not supported. Please wait a short period of time before re-attempting the request. <br /> <strong>Note:</strong> We don’t support concurrent transfers sourced from a Dwolla balance.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3>
<p>The reference example below shows what a request looks like when sending a transfer.
Please note this example is using <a href="https://developers.dwolla.com/resources/same-day-ach.html">same-day</a> clearing to a Dwolla API Customer&rsquo;s bank account, part of Dwolla&rsquo;s API.</p>
<div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/transfers
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
Idempotency-Key: 19051a62-3403-11e6-ac61-9e71128cae77

{
   "_links": {
       "source": {
           "href": "https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
       },
       "destination": {
           "href": "https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C"
       }
   },
   "amount": {
       "currency": "USD",
       "value": "10.00"
   },
   "metadata": {
       "paymentId": "12345678",
       "note": "payment for completed work Dec. 1"
   },
   "fees": [
       {
          "_links":{
             "charge-to":{
                "href":"https://api-sandbox.dwolla.com/customers/c2bdcc87-91cd-41dd-9b06-5e31d4d3bbe4"
             }
          },
          "amount":{
             "value":"2.00",
             "currency":"USD"
          }
       }
   ],
   "clearing": {
       "destination": "next-available"
   },
    "achDetails": {
        "source": {
            "addenda": {
                "values": ["ABC123_AddendaValue"]
            }
        },
        "destination": {
            "addenda": {
                "values": ["ZYX987_AddendaValue"]
            }
        }
     },
 "correlationId": "8a2cdc8d-629d-4a24-98ac-40b735229fe2"
}

...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span>
    <span class="p">},</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"1.00"</span>
  <span class="p">},</span>
  <span class="ss">:metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:paymentId</span> <span class="o">=&gt;</span> <span class="s2">"12345678"</span><span class="p">,</span>
    <span class="ss">:note</span> <span class="o">=&gt;</span> <span class="s2">"payment for completed work Dec. 1"</span>
  <span class="p">},</span>
  <span class="ss">:clearing</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="s2">"next-available"</span>
  <span class="p">},</span>
  <span class="ss">:achDetails</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:addenda</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:values</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"ABC123_AddendaValues"</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:addenda</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:values</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"ZYX987_AddendaValues"</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:correlationId</span> <span class="o">=&gt;</span> <span class="s2">"8a2cdc8d-629d-4a24-98ac-40b735229fe2"</span>
<span class="p">}</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"transfers"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfer</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'_links'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'1.00'</span>
  <span class="p">],</span>
  <span class="s1">'metadata'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'paymentId'</span> <span class="o">=&gt;</span> <span class="s1">'12345678'</span><span class="p">,</span>
    <span class="s1">'note'</span> <span class="o">=&gt;</span> <span class="s1">'payment for completed work Dec. 1'</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="s1">'clearing'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="s1">'next-available'</span>
  <span class="p">],</span>
  <span class="s1">'correlationId'</span> <span class="o">=&gt;</span> <span class="s1">'8a2cdc8d-629d-4a24-98ac-40b735229fe2'</span>
<span class="p">]);</span>
<span class="nv">$transfer</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'source'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">},</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'value'</span><span class="p">:</span> <span class="s">'1.00'</span>
  <span class="p">},</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'paymentId'</span><span class="p">:</span> <span class="s">'12345678'</span><span class="p">,</span>
    <span class="s">'note'</span><span class="p">:</span> <span class="s">'payment for completed work Dec. 1'</span>
  <span class="p">},</span>
  <span class="s">'clearing'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="s">'next-available'</span>
  <span class="p">},</span>
  <span class="s">'achDetails'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'source'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'addenda'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'values'</span><span class="p">:</span> <span class="p">[</span><span class="s">'ABC123_AddendaValues'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="s">'destination'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'addenda'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'values'</span><span class="p">:</span> <span class="p">[</span><span class="s">'ZYX987_AddendaValues'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'correlationId'</span><span class="p">:</span> <span class="s">'8a2cdc8d-629d-4a24-98ac-40b735229fe2'</span>
<span class="p">}</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'transfers'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">transfer</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">},</span>
    <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'1.00'</span>
  <span class="p">},</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">paymentId</span><span class="p">:</span> <span class="s1">'12345678'</span><span class="p">,</span>
    <span class="na">note</span><span class="p">:</span> <span class="s1">'payment for completed work Dec. 1'</span>
  <span class="p">},</span>  
  <span class="na">clearing</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">destination</span><span class="p">:</span> <span class="s1">'next-available'</span>
  <span class="p">},</span>
  <span class="na">addenda</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">addenda</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">values</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">addenda</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">values</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ZYX987_AddendaValue'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">correlationId</span><span class="p">:</span> <span class="s1">'8a2cdc8d-629d-4a24-98ac-40b735229fe2'</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'transfers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/transfers/74c9129b-d14a-e511-80da-0aa34a9b2388'</span>
</code></pre></div></div><h2 id='retrieve-a-transfer'>Retrieve a transfer</h2>
<p>This section covers how to retrieve a transfer belonging to an Account or Customer by its id.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/transfers/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the transfer to be retrieved.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Transfer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "cancel": {
      "href": "https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "self": {
      "href": "https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "source": {
      "href": "https://api-sandbox.dwolla.com/accounts/62e88a41-f5d0-4a79-90b3-188cf11a3966",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "account"
    },
    "source-funding-source": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/12a0eaf9-9561-468d-bdeb-186b536aa2ed",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "funding-source"
    },
    "funding-transfer": {
      "href": "https://api-sandbox.dwolla.com/transfers/14c6bcce-46f7-e811-8112-e8dd3bececa8",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "destination": {
      "href": "https://api-sandbox.dwolla.com/customers/d295106b-ca20-41ad-9774-286e34fd3c2d",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "customer"
    },
    "destination-funding-source": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/500f8e0e-dfd5-431b-83e0-cd6632e63fcb",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "funding-source"
    }
  },
  "id": "15c6bcce-46f7-e811-8112-e8dd3bececa8",
  "status": "pending",
  "amount": {
    "value": "42.00",
    "currency": "USD"
  },
  "created": "2018-12-03T22:00:22.970Z",
  "clearing": {
    "source": "standard"
  }
},
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8'</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">transfer_url</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "pending"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8'</span><span class="p">;</span>

<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfer</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">byId</span><span class="p">(</span><span class="nv">$transferUrl</span><span class="p">);</span>
<span class="nv">$transfer</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "pending"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8'</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">account_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">transfer_url</span><span class="p">)</span>
<span class="n">transfer</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'pending'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/15c6bcce-46f7-e811-8112-e8dd3bececa8'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">transferUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; 'pending'</span>
</code></pre></div></div><h2 id='list-and-search-transfers-for-a-customer'>List and search transfers for a customer</h2>
<p>This section details how to retrieve a Customer&rsquo;s list of transfers. Transaction search is supported by passing in optional querystring parameters such as: <code class="prettyprint">search</code> which represents a term to search on, <code class="prettyprint">correlationId</code>, <code class="prettyprint">startAmount</code>, <code class="prettyprint">endAmount</code>, <code class="prettyprint">startDate</code>, <code class="prettyprint">endDate</code>, and <code class="prettyprint">status</code>.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/transfers</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier to get transfers for.</td>
</tr>
<tr>
<td>search</td>
<td>no</td>
<td>string</td>
<td>A string to be matched with <code class="prettyprint">firstName</code>, <code class="prettyprint">lastName</code>, <code class="prettyprint">email</code>, <code class="prettyprint">businessName</code>, Customer Id, and Account Id. (<code class="prettyprint">/transfers?search=Doe</code>)</td>
</tr>
<tr>
<td>startAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or greater than <code class="prettyprint">startAmount</code>. Can optionally be used with <code class="prettyprint">endAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>endAmount</td>
<td>no</td>
<td>string</td>
<td>Only include transactions with an amount equal to or less than <code class="prettyprint">endAmount</code>. Can optionally be used with <code class="prettyprint">startAmount</code> to specify an amount range.</td>
</tr>
<tr>
<td>startDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created after this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">endDate</code> to specify a date range.</td>
</tr>
<tr>
<td>endDate</td>
<td>no</td>
<td>string</td>
<td>Only include transactions created before this date. ISO-8601 format: <code class="prettyprint">YYYY-MM-DD</code>. Can optionally be used with <code class="prettyprint">startDate</code> to specify a date range.</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter results on transaction status. Possible values: <code class="prettyprint">pending</code>, <code class="prettyprint">processed</code>, <code class="prettyprint">failed</code>, or <code class="prettyprint">cancelled</code>.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A string value to search on if a <code class="prettyprint">correlationId</code> was specified on a transfer or mass payment item.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>Number of search results to skip. Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Not authorized to list transfers.</td>
</tr>
<tr>
<td>404</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295/transfers
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295/transfers"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295/transfers?&amp;limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295/transfers?&amp;limit=25&amp;offset=0"
    }  
  },
  "_embedded": {
    "transfers": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/transfers/61cbc6db-19f4-e811-8112-e8dd3bececa8"
          },
          "source": {
            "href": "https://api-sandbox.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d"
          },
          "source-funding-source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/73ce02cb-8857-4f01-83fc-b6640b24f9f7"
          },
          "destination": {
            "href": "https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295"
          },
          "destination-funding-source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/ac6d4c2a-fda8-49f6-805d-468066dd474c"
          },
        },
        "id": "461cbc6db-19f4-e811-8112-e8dd3bececa8",
        "status": "pending",
        "amount": {
          "value": "225.00",
          "currency": "USD"
        },
        "created": "2018-11-29 21:00:59 UTC",
        "metadata": {
          "foo": "bar",
          "baz": "foo"
        }
      },
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/transfers/76e5541d-18f4-e811-8112-e8dd3bececa8"
          },
          "source": {
            "href": "https://api-sandbox.dwolla.com/customers/0e309d41-a5df-4105-97da-2c6739e71a67"
          },
          "source-funding-source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/73ce02cb-8857-4f01-83fc-b6640b24f9f7"
          },
          "destination": {
            "href": "https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295"
          },
          "destination-funding-source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/ac6d4c2a-fda8-49f6-805d-468066dd474c"
          }
        },
        "id": "76e5541d-18f4-e811-8112-e8dd3bececa8",
        "status": "pending",
        "amount": {
          "value": "225.00",
          "currency": "USD"
        },
        "created": "2015-10-02T19:40:41.437Z",
        "metadata": {
          "foo": "bar",
          "baz": "foo"
        }
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'http://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295'</span>

<span class="n">transfers</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/transfers"</span>
<span class="n">transfers</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "pending"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'http://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295'</span><span class="p">;</span>

<span class="nv">$TransfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transfers</span> <span class="o">=</span> <span class="nv">$TransfersApi</span><span class="o">-&gt;</span><span class="na">getCustomerTransfers</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$transfers</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'transfers'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "pending"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'http://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295'</span>

<span class="n">transfers</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/transfers'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">transfers</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'pending'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'http://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/transfers`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'transfers'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; "pending"</span>
</code></pre></div></div><h2 id='list-fees-for-a-transfer'>List fees for a transfer</h2>
<p>This section outlines how to retrieve fees charged on a created transfer. Fees are visible to the <code class="prettyprint">Customer</code> or <code class="prettyprint">Account</code> that is charged the fee, as well as the Dwolla <code class="prettyprint">Account</code> that is involved in receiving the fee.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/transfers/{id}/fees</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the transfer to retrieve fees for.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Transfer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388/fees
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "transactions": [
    {
      "_links": {
        "self": {
          "href": "https://api-sandbox.dwolla.com/transfers/416a2857-c887-4cca-bd02-8c3f75c4bb0e"
        },
        "source": {
          "href": "https://api-sandbox.dwolla.com/customers/ac6d4c2a-fda8-49f6-805d-468066dd474c"
        },
        "destination": {
          "href": "https://api-sandbox.dwolla.com/accounts/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        },
        "created-from-transfer": {
          "href": "https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388"
        }
      },
      "id": "416a2857-c887-4cca-bd02-8c3f75c4bb0e",
      "status": "pending",
      "amount": {
        "value": "2.00",
        "currency": "usd"
      },
      "created": "2016-02-22T20:46:38.777Z"
    },
    {
      "_links": {
        "self": {
          "href": "https://api-sandbox.dwolla.com/transfers/e58ae1f1-7007-47d3-a308-7e9aa6266d53"
        },
        "source": {
          "href": "https://api-sandbox.dwolla.com/customers/ac6d4c2a-fda8-49f6-805d-468066dd474c"
        },
        "destination": {
          "href": "https://api-sandbox.dwolla.com/accounts/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        },
        "created-from-transfer": {
          "href": "https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388"
        }
      },
      "id": "e58ae1f1-7007-47d3-a308-7e9aa6266d53",
      "status": "pending",
      "amount": {
        "value": "1.00",
        "currency": "usd"
      },
      "created": "2016-02-22T20:46:38.860Z"
    }
  ],
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="n">fees</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">transfer_url</span><span class="si">}</span><span class="s2">/fees"</span>
<span class="n">fees</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span><span class="p">;</span>

<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transferFees</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">getFeesBySource</span><span class="p">(</span><span class="nv">$transferUrl</span><span class="p">);</span>
<span class="nv">$transferFees</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; "2"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="n">fees</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/fees'</span> <span class="o">%</span> <span class="n">transfer_url</span><span class="p">)</span>
<span class="n">fees</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">transferUrl</span><span class="p">}</span><span class="sr">/fees`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c1">// =&gt; 2</span>
</code></pre></div></div><h2 id='retrieve-a-transfer-failure-reason'>Retrieve a transfer failure reason</h2>
<p>When a bank transfer fails for an Account or Customer, Dwolla returns a <code class="prettyprint">failure</code> link when <a href="#retrieve-a-transfer">retrieving the transfer by its Id</a>. This failure link is used to retrieve the ACH return code and description. For reference, the list of possible failure codes and descriptions are shown in the <a href="https://developers.dwolla.com/resources/bank-transfer-workflow/transfer-failures.html">Transfer failures</a> resource article.</p>

<p><strong>Note:</strong> If a transfer fails to/from a bank account then the <code class="prettyprint">bank</code> will automatically be removed from the Dwolla system for all ACH return codes except <code class="prettyprint">R01</code>, <code class="prettyprint">R09</code> and <code class="prettyprint">R20</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/transfers/{id}/failure</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Transfer unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and Response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388/failure
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "self": {
            "href": "https://api.dwolla.com/transfers/8997ebed-69be-e611-80ea-0aa34a9b2388/failure",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "failure"
        },
        "failed-funding-source": {
            "href": "https://api.dwolla.com/funding-sources/285ea6f4-c45d-4e15-ad33-21f51461f437",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "funding-source"
        },
        "customer": {
            "href": "https://api.dwolla.com/customers/be2d2322-fdee-4361-8722-4289f5601604",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        }
    },
    "code": "R03",
    "description": "No Account/Unable to Locate Account",
    "explanation": "The account number does not correspond to the individual identified in the entry or a valid account."
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="n">failure</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">transfer_url</span><span class="si">}</span><span class="s2">/failure"</span>
<span class="n">failure</span><span class="p">.</span><span class="nf">code</span> <span class="c1"># =&gt; "R01"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span><span class="p">;</span>

<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transferFailure</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">failureById</span><span class="p">(</span><span class="nv">$transferUrl</span><span class="p">);</span>
<span class="nv">$transferFailure</span><span class="o">-&gt;</span><span class="na">code</span><span class="p">;</span> <span class="c1"># =&gt; "R01"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span>

<span class="n">failure</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/failure'</span> <span class="o">%</span> <span class="n">transfer_url</span><span class="p">)</span>
<span class="n">failure</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'code'</span><span class="p">]</span> <span class="c"># =&gt; 'R01'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/83eb4b5e-a5d9-e511-80de-0aa34a9b2388'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">transferUrl</span><span class="p">}</span><span class="sr">/failure`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">code</span><span class="p">);</span> <span class="c1">// =&gt; 'R01'</span>
</code></pre></div></div><h2 id='cancel-a-transfer'>Cancel a transfer</h2>
<p>When a bank transfer is eligible for cancellation, Dwolla returns a <code class="prettyprint">cancel</code> link  when <a href="#retrieve-a-transfer">getting the transfer by Id</a>. This cancel link is used to trigger the cancellation, preventing the bank transfer from processing further. A bank transfer is cancellable up until 4pm CT on that same business day if the transfer was initiated prior to 4pm CT. If a transfer was initiated after 4pm CT, it can be cancelled before 4pm CT on the following business day. <strong>Note:</strong> This is not a hard cut off. Occasionally, the export out of the Dwolla Network may be delayed or could take some time to process. This may cause transfers created close to after 4pm CT to be exported the same business day. It is recommended to rely on the <code class="prettyprint">cancel</code> link returned on the transfer resource to determine if a transfer is cancellable rather than relying on the export timing. </p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/transfers/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Possible value: <code class="prettyprint">cancelled</code>.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and Response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "status": "cancelled"
}

...

{
  "_links": {
    "cancel": {
      "href": "https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "self": {
      "href": "https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "source": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "account"
    },
    "source-funding-source": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/73ce02cb-8857-4f01-83fc-b6640b24f9f7",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "funding-source"
    },
    "funding-transfer": {
      "href": "https://api-sandbox.dwolla.com/transfers/3c48c13a-0fc6-e511-80de-0aa34a9b2388",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "transfer"
    },
    "destination": {
      "href": "https://api-sandbox.dwolla.com/customers/33e56307-6754-41cb-81e2-23a7f1072295",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "customer"
    },
    "destination-funding-source": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/ac6d4c2a-fda8-49f6-805d-468066dd474c",
      "type": "application/vnd.dwolla.v1.hal+json",
      "resource-type": "funding-source"
    }
  },
  "id": "3d48c13a-0fc6-e511-80de-0aa34a9b2388",
  "status": "cancelled",
  "amount": {
    "value": "22.00",
    "currency": "USD"
  },
  "created": "2016-01-28T22:34:02.663Z",
  "metadata": {
    "foo": "bar",
    "baz": "boo"
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"status"</span> <span class="o">=&gt;</span> <span class="s2">"cancelled"</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">transfer_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">transfer</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "cancelled"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$transfersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\TransfersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388'</span><span class="p">;</span>
<span class="nv">$transfer</span> <span class="o">=</span> <span class="nv">$transfersApi</span><span class="o">-&gt;</span><span class="na">update</span><span class="p">([</span>
  <span class="s1">'status'</span> <span class="o">=&gt;</span> <span class="s1">'cancelled'</span><span class="p">,</span>
<span class="p">],</span> <span class="nv">$transferUrl</span><span class="p">);</span>

<span class="nv">$transfer</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "cancelled"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">transfer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'status'</span><span class="p">:</span> <span class="s">'cancelled'</span>
<span class="p">}</span>

<span class="n">transfer</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">transfer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">transfer</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'cancelled'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">transferUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/transfers/3d48c13a-0fc6-e511-80de-0aa34a9b2388'</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="s2">"cancelled"</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'transfers'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; "cancelled"</span>
</code></pre></div></div><h2 id='create-an-on-demand-transfer-authorization'>Create an on-demand transfer authorization</h2>
<p>This section outlines how to create an on-demand bank transfer authorization for your Customer. On-demand authorization allows Customers to authorize Dwolla to transfer variable amounts from their bank account using ACH at a later point in time for products or services delivered. This on-demand authorization is supplied along with the Customer&rsquo;s bank details when creating a <a href="#create-a-funding-source-for-a-customer">new Customer funding source</a>.</p>

<p>When on-demand authorization is enabled for your application the Customer is presented with text on a “add bank account” screen in your user interface(UI) giving authorization to Dwolla for future variable payments. <strong>Note:</strong> On-demand payments come as part of our Dwolla API and requires additional approval before getting started. Please <a href="https://www.dwolla.com/contact?b=apidocs">contact Sales</a> or your account manager for more information on enabling.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/on-demand-authorizations</code></p>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>The supplied credentials are not authorized for this resource.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/on-demand-authorizations
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"
    }
  },
  "bodyText": "I agree that future payments to Company ABC inc. will be processed by the Dwolla payment system from the selected account above. In order to cancel this authorization, I will change my payment settings within my Company ABC inc. account.",
  "buttonText": "Agree &amp; Continue"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">on_demand_authorization</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"on-demand-authorizations"</span>
<span class="n">on_demand_authorization</span><span class="p">.</span><span class="nf">buttonText</span> <span class="c1"># =&gt; "Agree &amp; Continue"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$onDemandApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\OndemandauthorizationsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$onDemandAuth</span> <span class="o">=</span> <span class="nv">$onDemandApi</span><span class="o">-&gt;</span><span class="na">createAuthorization</span><span class="p">();</span>
<span class="nv">$onDemandAuth</span><span class="o">-&gt;</span><span class="na">_links</span><span class="p">[</span><span class="s2">"self"</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">href</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/on-demand-authorizations/30e7c028-0bdf-e511-80de-0aa34a9b2388"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">on_demand_authorization</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'on-demand-authorizations'</span><span class="p">)</span>
<span class="n">on_demand_authorization</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'buttonText'</span><span class="p">]</span> <span class="c"># =&gt; 'Agree &amp; Continue'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'on-demand-authorizations'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">buttonText</span><span class="p">);</span> <span class="c1">// =&gt; "Agree &amp; Continue"</span>
</code></pre></div></div>
<hr>

            <h1 id='mass-payments'>Mass payments</h1>
<p>Dwolla mass payments allows you to easily send up to 5,000 payments in one API request. The payments are funded from a single user&rsquo;s specified funding source and processed asynchronously upon submission.</p>
<ol class = "alerts"><li class="alert icon-alert-alert"><p>Dwolla Mass Payments are meant for batches of multiple payments. If you are initiating a single payment to a singular Customer, we recommend using our <a href="/#initiate-a-transfer">/transfers endpoint</a>.</p>
</li></ol>
<p>Your mass payment will initially be pending and then processed.  As the service processes your mass payment, each <code class="prettyprint">item</code> is processed one after the other, at a rate between 0.5 sec. - 1 sec. / item.  Therefore, you can expect a 1000-item mass payment to be completed between 8-16 minutes.</p>

<p>A mass payment offers a significant advantage over repeatedly calling the <a href="#transfers">Transfers</a> endpoint for each individual transaction. A key benefit is that a bank-funded mass payment only incurs a single ACH debit from the bank account to fund the entire batch of payments.  The alternative approach will incur an ACH debit from the bank funding source for each individual payment.  Those who used this approach have reported incurring fees from their financial institutions for excessive ACH transactions.</p>
<h3 id='mass-payments-resource'>Mass payments resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Mass payment unique identifier.</td>
</tr>
<tr>
<td>status</td>
<td>Either <code class="prettyprint">deferred</code>: A created mass payment that can be processed at a later time. <code class="prettyprint">pending</code>: A mass payment that is pending and awaiting processing. A mass payment has a pending status for a brief period of time and cannot be cancelled. <code class="prettyprint">processing</code>:  A mass payment that is processing. <code class="prettyprint">complete</code>: A mass payment successfully completed processing.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp.</td>
</tr>
<tr>
<td>metadata</td>
<td>A metadata JSON object.</td>
</tr>
<tr>
<td>clearing</td>
<td>A clearing JSON object.</td>
</tr>
<tr>
<td>total</td>
<td>The sum amount of all items in the mass payment.</td>
</tr>
<tr>
<td>totalFees</td>
<td>The sum amount of all fees charged for the mass payment.</td>
</tr>
<tr>
<td>correlationId</td>
<td>A string value attached to a mass payment resource which can be used for traceability between Dwolla and your application.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/mass-payments/da835c07-1e12-4212-8b93-a7e0013dfd98"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mass-payment"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"funding-source"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api-sandbox.dwolla.com/mass-payments/da835c07-1e12-4212-8b93-a7e0013dfd98/items"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/vnd.dwolla.v1.hal+json"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"resource-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mass-payment-item"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"da835c07-1e12-4212-8b93-a7e0013dfd98"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-31T19:18:02.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"batch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batch1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.02"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"totalFees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"correlationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d028beed-8152-481d-9427-21b6c4d99644"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h2 id='initiate-a-mass-payment'>Initiate a mass payment</h2>
<p>This section covers how to initiate a mass payment from your Dwolla Master <a href="#accounts">Account</a> or Verified <a href="#customers">Customer</a> resource. A mass payment contains a list of <code class="prettyprint">items</code> representing individual payments. Optionally, mass payments can contain <code class="prettyprint">metadata</code> and a <code class="prettyprint">correlationId</code> on the mass payment itself as well as items contained in the mass payment, which can be used to pass along additional information with the mass payment and item respectively. If a <code class="prettyprint">correlationId</code> is included on a mass payment item it will be passed along to the transfer created from the item and can be searched on.</p>
<h3 id='prevent-duplicate-mass-payment-with-idempotency-key'>Prevent duplicate mass payment with idempotency key</h3>
<p>To prevent an operation from being performed more than once, Dwolla supports passing in an <code class="prettyprint">Idempotency-Key</code> header with a unique key as the value. Multiple <code class="prettyprint">POSTs</code> with the same idempotency key won&rsquo;t result in multiple resources being created.</p>

<p>For example, if a request to initiate a mass payment fails due to a network connection issue, you can reattempt the request with the same idempotency key to ensure that only a single mass payment is created.</p>

<p>Refer to our <a href="#idempotency-key">idempotency key</a> section to learn more.</p>
<h3 id='deferred-mass-payment'>Deferred mass payment</h3>
<p>A mass payment can be created with a status of <code class="prettyprint">deferred</code>, which allows you to create the mass payment and defer processing to a later time. To trigger processing on a deferred mass payment, you&rsquo;ll <a href="#update-a-mass-payment">update the mass payment</a> with a status of <code class="prettyprint">pending</code>. A deferred mass payment can be cancelled by updating the mass payment with a status of <code class="prettyprint">cancelled</code>.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/mass-payments</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>yes</td>
<td>object</td>
<td>A _links JSON object describing the desired <code class="prettyprint">source</code> of a mass payment. <a href="#source-and-destination-values">Reference the Source and Destination object to learn more about </a> possible values for <code class="prettyprint">source</code> and <code class="prettyprint">destination</code>.</td>
</tr>
<tr>
<td>items</td>
<td>yes</td>
<td>array</td>
<td>an array of item JSON objects that contain unique payments. <a href="#mass-payment-item">See below</a></td>
</tr>
<tr>
<td>metadata</td>
<td>no</td>
<td>object</td>
<td>A metadata JSON object with a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Acceptable value is: <code class="prettyprint">deferred</code>.</td>
</tr>
<tr>
<td>clearing</td>
<td>no</td>
<td>object</td>
<td>A clearing JSON object describing the desired <code class="prettyprint">source</code> processing time. Utilize this parameter for bank sourced mass payments that you wish to configure the proccessing time for the ACH debit from Next-day ACH to standard ACH. <a href="#clearing-json-object-mass-payment">Reference the clearing JSON object to learn more</a>.</td>
</tr>
<tr>
<td>achDetails</td>
<td>no</td>
<td>object</td>
<td>An ACH details JSON object which represents additional information sent along with a transfer created from a mass payment item to an originating or receiving financial institution. Details within this object can be used to reference a transaction that has settled with a financial institution. <a href="#achdetails-and-addenda-object">See below</a></td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A string value attached to a customer which can be used for traceability between Dwolla and your application. <strong>Note:</strong> A correlationId is not a replacement for an <a href="#idempotency-key">idempotency key</a>. <br> Must be less than 255 characters and contain no spaces. <br> Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>. <br> <strong>Note:</strong> Sensitive Personal Identifying Information (PII) should not be used in this field and it is recommended to use a random value for correlationId, like a UUID.</td>
</tr>
</tbody></table>
<h3 id='source-and-destination-values'>Source and destination values</h3><h5 id='source-types'>Source types</h5>
<table><thead>
<tr>
<th><strong>Source</strong> Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>A bank or balance funding source of an <a href="#accounts">Account</a> or verified <a href="#customers">Customer</a>.</td>
</tr>
</tbody></table>
<h5 id='destination-types'>Destination types</h5>
<table><thead>
<tr>
<th><strong>Destination</strong> Type</th>
<th>URI</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Funding source</td>
<td><code class="prettyprint">https://api.dwolla.com/funding-sources/{id}</code></td>
<td>Destination of a Verified Customer&rsquo;s own <code class="prettyprint">bank</code> or <code class="prettyprint">balance</code> funding source, an Unverified Customer&rsquo;s <code class="prettyprint">bank</code> funding source, or a Receive-only User&rsquo;s <code class="prettyprint">bank</code> funding source.</td>
</tr>
</tbody></table>
<h3 id='mass-payment-item'>Mass payment item</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>A _links JSON object describing the desired <code class="prettyprint">destination</code> of a mass payment. <a href="#source-and-destination-values">See above</a> for possible values for <code class="prettyprint">destination</code>.</td>
</tr>
<tr>
<td>amount</td>
<td>An amount JSON object containing <code class="prettyprint">currency</code> and <code class="prettyprint">value</code> keys.</td>
</tr>
<tr>
<td>metadata</td>
<td>A metadata JSON object with a maximum of 10 key-value pairs (each key and value must be less than 255 characters).</td>
</tr>
<tr>
<td>correlationId</td>
<td>A string value attached to a mass payment item which can be used for traceability between Dwolla and your application. The correlationId will be passed along to a transfer that is created from an item and can be searched on. Must be less than 255 characters and contain no spaces. Acceptable characters are: <code class="prettyprint">a-Z</code>, <code class="prettyprint">0-9</code>, <code class="prettyprint">-</code>, <code class="prettyprint">.</code>, and <code class="prettyprint">_</code>.</td>
</tr>
<tr>
<td>achDetails</td>
<td>An <a href="#achdetails-object">ACH details JSON object</a> which represents additional information sent along with a transfer created from a mass payment item to an originating or receiving financial institution. Details within this object can be used to reference a transaction that has settled with a financial institution.</td>
</tr>
</tbody></table>
<h3 id='amount-json-object'>amount JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>yes</td>
<td>string</td>
<td>Amount of money</td>
</tr>
<tr>
<td>currency</td>
<td>yes</td>
<td>string</td>
<td>Possible values: <code class="prettyprint">USD</code></td>
</tr>
</tbody></table>
<h3 id='clearing-json-object-mass-payment'>clearing JSON object (mass payment)</h3>
<p>The <code class="prettyprint">clearing</code> object is used in tandem with our expedited transfers feature.
Source specifies the processing time for the source bank funding source involved in the transfer, and can be used to downgrade the processing time from the default of Next-day ACH on the debit portion of the mass payment into the Dwolla Network. Destination specifies the processing time for the destination funding source involved in the transfer, and can be used to upgrade the processing time from the default of Standard ACH to Same-day ACH on each mass payment item. </p>

<blockquote>
<p><strong>Note:</strong> The clearing request parameter is a premium feature available for <a href="https://www.dwolla.com/platform">Dwolla</a> customers. Enabling Next-day ACH and Same-day ACH requires additional Dwolla approvals before getting started. Please contact <a href="https://www.dwolla.com/contact?b=apidocs">Sales</a> or your account manager for more information on enabling this account setting.</p>
</blockquote>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>source</td>
<td>no</td>
<td>string</td>
<td>Represents a clearing object for <code class="prettyprint">standard</code> debits into the Dwolla network. Used to downgrade the processing time from the default of Next-day ACH. <br> Possible values: <code class="prettyprint">standard</code> <br> <strong>Note:</strong> Cannot be used on individual <a href="#mass-payment-item">mass payment items</a> as items represent a destination for the funds transfer. See <a href="#request-and-response-mass-payment-from-account-to-customers">example masspayment request</a>.</td>
</tr>
<tr>
<td>destination</td>
<td>no</td>
<td>string</td>
<td>Represents a clearing object for <code class="prettyprint">same-day</code> credits out of the Dwolla network to a bank funding source. <br> Possible values: <code class="prettyprint">next-available</code> <br> <strong>Note:</strong> Can only be used on individual <a href="#mass-payment-item">mass payment items</a>. See <a href="#request-and-response-mass-payment-from-account-to-customers">example masspayment request</a></td>
</tr>
</tbody></table>
<h4 id='clearing-example'>Clearing example:</h4><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">"clearing": {
  "destination": "next-available"
}
</code></pre></div></div><h3 id='achdetails-and-addenda-object'>achDetails and addenda object</h3>
<p>The addendum record is used to provide additional information to the payment recipient about the payment. This value will be passed in on a transfer request and can be exposed on a customer’s bank statement. Addenda records provide a unique opportunity to supply your customers with more information about their transactions. Allowing businesses to include additional details about the transaction—such as invoice numbers—provides their end users with more information about the transaction in the comfort of their own banking application.</p>
<h5 id='achdetails-object'>achDetails object</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>source</td>
<td>no</td>
<td>object</td>
<td>Represents information that is sent to a source/originating bank account along with a transfer. Include information within this JSON object for customizing details on ACH debit transfers. Can include an <a href="#addenda-object">addenda JSON object</a>.</td>
</tr>
<tr>
<td>destination</td>
<td>no</td>
<td>object</td>
<td>Represents information that is sent to a destination/receiving bank account along with a transfer from a mass payment item. Include information within this JSON object for customizing details on ACH credit transfers. Can include an <a href="#addenda-object">addenda JSON object</a>.</td>
</tr>
</tbody></table>
<h5 id='addenda-object'>addenda object</h5>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addenda</td>
<td>no</td>
<td>object</td>
<td>An addenda object contains a <code class="prettyprint">values</code> key which is an array of comma separated string addenda values. Addenda record information is used for the purpose of transmitting transfer-related information. Values must be less than or equal to 80 characters and can include spaces. Acceptable characters are: a-Z, 0-9, and special characters <code class="prettyprint">- _ . ~! * &#39; ( ) ; : @ &amp; = + $ , / ? % # [ ]</code>. <em>Will not show up on bank statements from balance-sourced transfers</em>.</td>
</tr>
</tbody></table>
<h5 id='source-mass-payment-achdetails-with-addenda-example'>Source mass payment achDetails with addenda example:</h5><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">"achDetails": {
  "source": {
    "addenda": {
      "values": ["ABC123_AddendaValue"]
    }
  }
},
</code></pre></div></div><h5 id='destination-mass-payment-item-with-achdetails-and-addenda-example'>Destination mass payment item with achDetails and addenda example</h5><div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide">"achDetails": {
  "destination": {
    "addenda": {
      "values": ["ZYX987_AddendaValue"]
    }
  }
}
</code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>Created</td>
<td>A mass payment resource was created</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Can be: Items exceeded maximum count of 5000, Invalid amount, Invalid metadata, Invalid job item correlation ID, or Invalid funding source.</td>
</tr>
<tr>
<td>401</td>
<td>NotAuthorized</td>
<td>OAuth token does not have Send scope.</td>
</tr>
</tbody></table>
<h3 id='request-and-response-mass-payment-from-account-to-customers'>Request and response (mass payment from Account to Customers)</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/mass-payments
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
Idempotency-Key: 19051a62-3403-11e6-ac61-9e71128cae77

{
    "_links": {
        "source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
        }
    },
    "achDetails": {
      "source": {
        "addenda": {
          "values": ["ABC123_AddendaValue"]
        }
      }
    },
    "clearing": {
      "source": "standard"
    },
    "items": [
      {
        "_links": {
            "destination": {
                "href": "https://api-sandbox.dwolla.com/funding-sources/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db"
            }
        },
        "amount": {
            "currency": "USD",
            "value": "1.00"
        },
        "clearing": {
          "destination": "next-available"
        },
        "metadata": {
            "payment1": "payment1"
        },
        "achDetails": {
          "destination": {
            "addenda": {
              "values": ["ZYX987_AddendaValue"]
            }
          }
        },
        "correlationId": "ad6ca82d-59f7-45f0-a8d2-94c2cd4e8841"
      },
      {
        "_links": {
            "destination": {
                "href": "https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd"
            }
        },
        "amount": {
            "currency": "USD",
            "value": "5.00"
        },
        "clearing": {
          "destination": "next-available"
        },
        "metadata": {
            "payment2": "payment2"
        },
        "achDetails": {
          "destination": {
            "addenda": {
              "values": ["ZYX987_AddendaValue"]
              }
            }
        }
      }
    ],
    "metadata": {
        "batch1": "batch1"
    },
    "correlationId": "6d127333-69e9-4c2b-8cae-df850228e130"
}

...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/mass-payments/d093bcd1-d0c1-41c2-bcb5-a5cc011be0b7
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:achDetails</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:addenda</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:values</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"ABC123_AddendaValue"</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:clearing</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:source</span> <span class="o">=&gt;</span> <span class="s2">"standard"</span>
  <span class="p">},</span>
  <span class="ss">:items</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db"</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
        <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"1.00"</span>
      <span class="p">},</span>
      <span class="ss">:clearing</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="s2">"next-available"</span>
      <span class="p">},</span>
      <span class="ss">:metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:payment1</span> <span class="o">=&gt;</span> <span class="s2">"payment1"</span>
      <span class="p">},</span>
      <span class="ss">:correlationId</span> <span class="o">=&gt;</span> <span class="s2">"ad6ca82d-59f7-45f0-a8d2-94c2cd4e8841"</span><span class="p">,</span>
      <span class="ss">:achDetails</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="ss">:addenda</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="ss">:values</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"ABC123_AddendaValue"</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd"</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
        <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"5.00"</span>
      <span class="p">},</span>
      <span class="ss">:clearing</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="s2">"next-available"</span>
      <span class="p">},</span>
      <span class="ss">:metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:payment2</span> <span class="o">=&gt;</span> <span class="s2">"payment2"</span>
      <span class="p">},</span>
      <span class="ss">:achDetails</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="ss">:destination</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="ss">:addenda</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="ss">:values</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"ABC123_AddendaValue"</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="ss">:metadata</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:batch1</span> <span class="o">=&gt;</span> <span class="s2">"batch1"</span>
  <span class="p">},</span>
  <span class="ss">:correlationId</span> <span class="o">=&gt;</span> <span class="s2">"6d127333-69e9-4c2b-8cae-df850228e130"</span>
<span class="p">}</span>

<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"mass-payments"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">mass_payment</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/mass-payments/cf1e9e00-09cf-43da-b8b5-a43b3f6192d4"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$massPaymentsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\MasspaymentsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$massPayment</span> <span class="o">=</span> <span class="nv">$massPaymentsApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">([</span>
  <span class="s1">'_links'</span> <span class="o">=&gt;</span>
  <span class="p">[</span>
    <span class="s1">'source'</span> <span class="o">=&gt;</span>
    <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span><span class="p">,</span>
    <span class="p">],</span>
  <span class="p">],</span>
  <span class="s1">'achDetails'</span> <span class="o">=&gt;</span>
  <span class="p">[</span>
    <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'addenda'</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s1">'values'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
      <span class="p">]</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s1">'clearing'</span> <span class="o">=&gt;</span>
  <span class="p">[</span>
    <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'standard'</span>
  <span class="p">],</span>
  <span class="s1">'items'</span> <span class="o">=&gt;</span>
  <span class="p">[</span>
    <span class="p">[</span>
      <span class="s1">'_links'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'destination'</span> <span class="o">=&gt;</span>
        <span class="p">[</span>
          <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db'</span><span class="p">,</span>
        <span class="p">],</span>
      <span class="p">],</span>
      <span class="s1">'amount'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
        <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'1.00'</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s1">'clearing'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="s1">'next-available'</span>
      <span class="p">],</span>
      <span class="s1">'metadata'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'payment1'</span> <span class="o">=&gt;</span> <span class="s1">'payment1'</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s1">'correlationId'</span> <span class="o">=&gt;</span> <span class="s1">'ad6ca82d-59f7-45f0-a8d2-94c2cd4e8841'</span><span class="p">,</span>
      <span class="s1">'achDetails'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="p">[</span>
          <span class="s1">'addenda'</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">'values'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="p">[</span>
      <span class="s1">'_links'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'destination'</span> <span class="o">=&gt;</span>
        <span class="p">[</span>
          <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd'</span><span class="p">,</span>
        <span class="p">],</span>
      <span class="p">],</span>
      <span class="s1">'amount'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
        <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'5.00'</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s1">'clearing'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'destination'</span> <span class="o">=&gt;</span> <span class="s1">'next-available'</span>
      <span class="p">],</span>
      <span class="s1">'metadata'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'payment2'</span> <span class="o">=&gt;</span> <span class="s1">'payment2'</span><span class="p">,</span>
      <span class="p">],</span>
      <span class="s1">'achDetails'</span> <span class="o">=&gt;</span>
      <span class="p">[</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="p">[</span>
          <span class="s1">'addenda'</span> <span class="o">=&gt;</span> <span class="p">[</span>
            <span class="s1">'values'</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
          <span class="p">]</span>
        <span class="p">]</span>
      <span class="p">]</span>
    <span class="p">],</span>
  <span class="p">],</span>
  <span class="s1">'metadata'</span> <span class="o">=&gt;</span>
  <span class="p">[</span>
    <span class="s1">'batch1'</span> <span class="o">=&gt;</span> <span class="s1">'batch1'</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="s1">'correlationId'</span> <span class="o">=&gt;</span> <span class="s1">'6d127333-69e9-4c2b-8cae-df850228e130'</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nv">$massPayment</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/mass-payments/cf1e9e00-09cf-43da-b8b5-a43b3f6192d4"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'source'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'achDetails'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'addenda'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'values'</span><span class="p">:</span> <span class="p">[</span><span class="s">'ABC123_AddendaValue'</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'clearing'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'source'</span><span class="p">:</span> <span class="s">'standard'</span>
  <span class="p">},</span>
  <span class="s">'items'</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'destination'</span><span class="p">:</span> <span class="p">{</span>
          <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db'</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
        <span class="s">'value'</span><span class="p">:</span> <span class="s">'1.00'</span>
      <span class="p">},</span>
      <span class="s">'clearing'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'destination'</span><span class="p">:</span> <span class="s">'next-available'</span>
      <span class="p">},</span>
      <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'payment1'</span><span class="p">:</span> <span class="s">'payment1'</span>
      <span class="p">},</span>
      <span class="s">'correlationId'</span><span class="p">:</span> <span class="s">'ad6ca82d-59f7-45f0-a8d2-94c2cd4e8841'</span><span class="p">,</span>
      <span class="s">'achDetails'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'addenda'</span><span class="p">:</span> <span class="p">{</span>
          <span class="s">'values'</span><span class="p">:</span> <span class="p">[</span><span class="s">'ABC123_AddendaValue'</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'destination'</span><span class="p">:</span> <span class="p">{</span>
          <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd'</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
        <span class="s">'value'</span><span class="p">:</span> <span class="s">'5.00'</span>
      <span class="p">},</span>
      <span class="s">'clearing'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'destination'</span><span class="p">:</span> <span class="s">'next-available'</span>
      <span class="p">},</span>
      <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'payment2'</span><span class="p">:</span> <span class="s">'payment2'</span>
      <span class="p">},</span>
      <span class="s">'achDetails'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'addenda'</span><span class="p">:</span> <span class="p">{</span>
          <span class="s">'values'</span><span class="p">:</span> <span class="p">[</span><span class="s">'ABC123_AddendaValue'</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s">'metadata'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'batch1'</span><span class="p">:</span> <span class="s">'batch1'</span>
  <span class="p">},</span>
  <span class="s">'correlationId'</span><span class="p">:</span> <span class="s">'6d127333-69e9-4c2b-8cae-df850228e130'</span>
<span class="p">}</span>

<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'mass-payments'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">mass_payment</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/mass-payments/cf1e9e00-09cf-43da-b8b5-a43b3f6192d4'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">achDetails</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">addenda</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">values</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">clearing</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">source</span><span class="p">:</span> <span class="s1">'standard'</span>
  <span class="p">},</span>
  <span class="na">items</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/9c7f8d57-cd45-4e7a-bf7a-914dbd6131db'</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
        <span class="na">value</span><span class="p">:</span> <span class="s1">'1.00'</span>
      <span class="p">},</span>
      <span class="na">clearing</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span> <span class="p">:</span> <span class="s1">'next-available'</span>
      <span class="p">},</span>
      <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">payment1</span><span class="p">:</span> <span class="s1">'payment1'</span>
      <span class="p">},</span>
      <span class="na">correlationId</span><span class="p">:</span> <span class="s1">'ad6ca82d-59f7-45f0-a8d2-94c2cd4e8841'</span><span class="p">,</span>
      <span class="na">achDetails</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">addenda</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">values</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd'</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
        <span class="na">value</span><span class="p">:</span> <span class="s1">'5.00'</span>
      <span class="p">},</span>
      <span class="na">clearing</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="s1">'next-available'</span>
      <span class="p">},</span>
      <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">payment2</span><span class="p">:</span> <span class="s1">'payment2'</span>
      <span class="p">},</span>
      <span class="na">achDetails</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">destination</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">addenda</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">values</span><span class="p">:</span> <span class="p">[</span><span class="s1">'ABC123_AddendaValue'</span><span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="na">metadata</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">batch1</span><span class="p">:</span> <span class="s1">'batch1'</span>
  <span class="p">},</span>
  <span class="na">correlationId</span><span class="p">:</span> <span class="s1">'6d127333-69e9-4c2b-8cae-df850228e130'</span>
<span class="p">}</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'mass-payments'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/mass-payments/cf1e9e00-09cf-43da-b8b5-a43b3f6192d4'</span>
</code></pre></div></div><h2 id='retrieve-a-mass-payment'>Retrieve a mass payment</h2>
<p>This section outlines how to retrieve a mass payment by its id. All mass payments will have a status of <code class="prettyprint">pending</code> upon creation and will move to <code class="prettyprint">processing</code> and finally <code class="prettyprint">complete</code> as the service runs. It is recommended that you retrieve your <a href="#list-items-for-a-mass-payment">list of mass payment items</a> when your mass payment has a status of <code class="prettyprint">complete</code> to determine if any items failed to process successfully.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/mass-payments/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the mass payment to retrieve information for.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
    },
    "source": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/707177c3-bf15-4e7e-b37c-55c3898d9bf4"
    },
    "items": {
      "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items"
    }
  },
  "id": "eb467252-808c-4bc0-b86f-a5cd01454563",
  "status": "processing",
  "created": "2016-03-18T19:44:16.000Z",
  "metadata": {}
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s2">"https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"</span>

<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">mass_payment_url</span>
<span class="n">mass_payment</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "processing"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span><span class="p">;</span>

<span class="nv">$massPaymentsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\MasspaymentsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$massPayment</span> <span class="o">=</span> <span class="nv">$massPaymentsApi</span><span class="o">-&gt;</span><span class="na">byId</span><span class="p">(</span><span class="nv">$massPaymentUrl</span><span class="p">);</span>
<span class="nv">$massPayment</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "processing"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span>

<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mass_payment_url</span><span class="p">)</span>
<span class="n">mass_payment</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'processing'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">massPaymentUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; 'processing'</span>
</code></pre></div></div><h2 id='update-a-mass-payment'>Update a mass payment</h2>
<p>This section covers how to update a mass payment&rsquo;s status to <code class="prettyprint">pending</code> which triggers processing on a created and deferred mass payment, or <code class="prettyprint">cancelled</code> which cancels a created and deferred mass payment.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/mass-payments/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>id of mass payment to update.</td>
</tr>
<tr>
<td>status</td>
<td>yes</td>
<td>string</td>
<td>Either <code class="prettyprint">pending</code> or <code class="prettyprint">cancelled</code> depending on the action you want to take on a deferred mass payment.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Invalid status. Allowed types are pending, cancelled.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/mass-payments/692486f8-29f6-4516-a6a5-c69fd2ce854c
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "status": "pending"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"status"</span> <span class="o">=&gt;</span> <span class="s2">"pending"</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">mass_payment</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">mass_payment_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">mass_payment</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "pending"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php">/**
 *  No example for this language yet. Coming soon.
 **/
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/mass-payments/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'status'</span><span class="p">:</span> <span class="s">'pending'</span>
<span class="p">}</span>

<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'mass-payments'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">mass_payments</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'pending'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">status</span><span class="p">:</span> <span class="s2">"pending"</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">massPaymentUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; "pending"</span>
</code></pre></div></div><h2 id='list-items-for-a-mass-payment'>List items for a mass payment</h2>
<p>A mass payment contains a list of payments called <code class="prettyprint">items</code>. An <code class="prettyprint">item</code> is distinct from the transfer which it creates. An item can contain a status of either <code class="prettyprint">failed</code>, <code class="prettyprint">pending</code>, or <code class="prettyprint">success</code> depending on whether the payment was created by the Dwolla service or not. A mass payment item status of <code class="prettyprint">success</code> is an indication that a transfer was successfully created. A mass payment&rsquo;s items will be returned in the <code class="prettyprint">_embedded</code> object as a list of <code class="prettyprint">items</code>.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/mass-payments/{id}/items</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Mass payment unique identifier.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>status</td>
<td>no</td>
<td>string</td>
<td>Filter results on item status. Possible values: <code class="prettyprint">failed</code>, <code class="prettyprint">pending</code>, and <code class="prettyprint">success</code>. Values delimited by <code class="prettyprint">&amp;status=</code> (i.e. - <code class="prettyprint">/items?status=failed&amp;status=pending</code>).</td>
</tr>
</tbody></table>
<h3 id='mass-payment-item-failures'>Mass payment item failures</h3>
<p>Individual mass payment items can have a status of <code class="prettyprint">failed</code>. If an item has a status of <code class="prettyprint">failed</code>, an <code class="prettyprint">_embedded</code> object will be returned within the item which contains a list of <code class="prettyprint">errors</code>. Each error object includes a top-level error <code class="prettyprint">code</code>, a <code class="prettyprint">message</code> with a detailed description of the error, and a <code class="prettyprint">path</code> which is a JSON pointer to the specific field in the request that has a problem. You can utilize both the failure code and message to get a better understanding of why the particular item failed.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Message</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>InsufficientFunds</td>
<td>&ldquo;Insufficient funds.&rdquo;</td>
<td>The <code class="prettyprint">source</code> funding source has insufficient funds, and as a result failed to create a transfer.</td>
</tr>
<tr>
<td>Invalid</td>
<td>&ldquo;Receiver not found.&rdquo;</td>
<td>The <code class="prettyprint">destination</code> was not a valid Customer or Funding Source.</td>
</tr>
<tr>
<td>Invalid</td>
<td>&ldquo;Receiver cannot be the owner of the source funding source.&rdquo;</td>
<td>The <code class="prettyprint">destination</code> of the transfer cannot be the same as the <code class="prettyprint">source</code>.</td>
</tr>
<tr>
<td>RequiresFundingSource</td>
<td>&ldquo;Receiver requires funding source.&rdquo;</td>
<td>The <code class="prettyprint">destination</code> of the mass payment item does not have an active funding source attached.</td>
</tr>
<tr>
<td>Restricted</td>
<td>&ldquo;Receiver restricted.&rdquo;</td>
<td>The <code class="prettyprint">destination</code> customer is either <code class="prettyprint">deactivated</code> or <code class="prettyprint">suspended</code> and is not eligible to receive funds.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to list mass payment items.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563/items?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "items": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/mass-payment-items/2f845bc9-41ed-e511-80df-0aa34a9b2388"
          },
          "mass-payment": {
            "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
          },
          "destination": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd"
          },
          "transfer": {
            "href": "https://api-sandbox.dwolla.com/transfers/fa3999db-41ed-e511-80df-0aa34a9b2388"
          }
        },
        "id": "2f845bc9-41ed-e511-80df-0aa34a9b2388",
        "status": "success",
        "amount": {
          "value": "1.00",
          "currency": "USD"
        },
        "metadata": {
          "item1": "item1"
        }
      },
      {
        "_links": {
            "self": {
                "href": "https://api-sandbox.dwolla.com/mass-payment-items/30845bc9-41ed-e511-80df-0aa34a9b2388",
                "type": "application/vnd.dwolla.v1.hal+json",
                "resource-type": "mass-payment-item"
            },
            "mass-payment": {
                "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563",
                "type": "application/vnd.dwolla.v1.hal+json",
                "resource-type": "mass-payment"
            },
            "destination": {
                "href": "https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd",
                "type": "application/vnd.dwolla.v1.hal+json",
                "resource-type": "customer"
            }
        },
        "_embedded": {
            "errors": [
                {
                    "code": "RequiresFundingSource",
                    "message": "Receiver requires funding source.",
                    "path": "/items/destination/href",
                    "_links": {}
                }
            ]
        },
        "id": "30845bc9-41ed-e511-80df-0aa34a9b2388",
        "status": "failed",
        "amount": {
            "value": "0.02",
            "currency": "USD"
        },
        "metadata": {
            "item2": "item2"
        }
      }
    ]
  },
  "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span>

<span class="n">mass_payment_items</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">mass_payment_url</span><span class="si">}</span><span class="s2">/items"</span>
<span class="n">mass_payment_items</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 2</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span><span class="p">;</span>

<span class="nv">$massPaymentItemsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\MasspaymentitemsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$massPaymentItems</span> <span class="o">=</span> <span class="nv">$massPaymentItemsApi</span><span class="o">-&gt;</span><span class="na">getMassPaymentItems</span><span class="p">(</span><span class="nv">$massPaymentUrl</span><span class="p">);</span>
<span class="nv">$massPaymentItems</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; "2"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">mass_payment_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span>

<span class="n">mass_payment_items</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/items'</span> <span class="o">%</span> <span class="n">mass_payment_url</span><span class="p">)</span>
<span class="n">mass_payment_items</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; "2"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563'</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">massPaymentUrl</span><span class="p">}</span><span class="sr">/items`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c1">// =&gt; 2</span>
</code></pre></div></div><h2 id='retrieve-a-mass-payment-item'>Retrieve a mass payment item</h2>
<p>This section covers how to retrieve a mass payment item by its unique identifier. An item can contain <code class="prettyprint">_links</code> to: the mass payment the item belongs to, the transfer created from the item, and the destination user.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/mass-payment-items/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The id of the item to be retrieved in a mass payment.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>Not authorized to list mass payment items.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Mass payment not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388"
    },
    "mass-payment": {
      "href": "https://api-sandbox.dwolla.com/mass-payments/eb467252-808c-4bc0-b86f-a5cd01454563"
    },
    "destination": {
      "href": "https://api-sandbox.dwolla.com/funding-sources/b442c936-1f87-465d-a4e2-a982164b26bd"
    },
    "transfer": {
      "href": "https://api-sandbox.dwolla.com/transfers/fa3999db-41ed-e511-80df-0aa34a9b2388"
    }
  },
  "id": "2f845bc9-41ed-e511-80df-0aa34a9b2388",
  "status": "success",
  "amount": {
    "value": "1.00",
    "currency": "USD"
  },
  "metadata": {
    "item1": "item1"
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">mass_payment_item_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span>

<span class="n">mass_payment_item</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">mass_payment_item_url</span>
<span class="n">mass_payment_item</span><span class="p">.</span><span class="nf">status</span> <span class="c1"># =&gt; "success"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$massPaymentItemUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span><span class="p">;</span>

<span class="nv">$massPaymentItemsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\MasspaymentitemsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$massPaymentItem</span> <span class="o">=</span> <span class="nv">$massPaymentItemsApi</span><span class="o">-&gt;</span><span class="na">byId</span><span class="p">(</span><span class="nv">$massPaymentItemUrl</span><span class="p">);</span>
<span class="nv">$massPaymentItem</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "success"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">mass_payment_item_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span>

<span class="n">mass_payment_item</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">mass_payment_item_url</span><span class="p">)</span>
<span class="n">mass_payment_item</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'success'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">massPaymentItemUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/mass-payment-items/c1c7d293-63ec-e511-80df-0aa34a9b2388'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">massPaymentItemUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; 'success'</span>
</code></pre></div></div><h2 id='list-mass-payments-for-a-customer'>List mass payments for a customer</h2>
<p>This section covers how to retrieve a <a href="#customers">verified Customer&rsquo;s</a> list of previously created mass payments. Mass payments are returned ordered by date created, with most recent mass payments appearing first.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/mass-payments</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier to get mass payments for.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>correlationId</td>
<td>no</td>
<td>string</td>
<td>A string value to search on if a correlationId was specified on a mass payment.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>NotAuthorized</td>
<td>Not authorized to list mass payments.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Customer not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

....

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/customers/39e21228-5958-4c4f-96fe-48a4bf11332d/mass-payments?limit=25&amp;offset=0"
    }
  },
  "_embedded": {
    "mass-payments": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/mass-payments/89ca72d2-63bf-4a8f-92ef-a5d00140aefa"
          },
          "source": {
            "href": "https://api-sandbox.dwolla.com/funding-sources/e1c972d4-d8d9-4c30-861a-9081dcbaf4ab"
          },
          "items": {
            "href": "https://api-sandbox.dwolla.com/mass-payments/89ca72d2-63bf-4a8f-92ef-a5d00140aefa/items"
          }
        },
        "id": "89ca72d2-63bf-4a8f-92ef-a5d00140aefa",
        "status": "complete",
        "created": "2016-03-21T19:27:34.000Z",
        "metadata": {
          "masspay1": "masspay1"
        },
        "correlationId": "8a2cdc8d-629d-4a24-98ac-40b735229fe2"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/mass-payments"</span><span class="p">,</span> <span class="ss">limit: </span><span class="mi">10</span>
<span class="n">mass_payments</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">status</span> <span class="c1"># =&gt; "complete"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'http://api-sandbox.dwolla.com/customers/01B47CB2-52AC-42A7-926C-6F1F50B1F271'</span><span class="p">;</span>

<span class="nv">$masspaymentsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\MasspaymentsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$masspayments</span> <span class="o">=</span> <span class="nv">$masspaymentsApi</span><span class="o">-&gt;</span><span class="na">getByCustomer</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$masspayments</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'mass-payments'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">status</span><span class="p">;</span> <span class="c1"># =&gt; "complete"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/ca32853c-48fa-40be-ae75-77b37504581b'</span>

<span class="n">mass_payments</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/mass-payments'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">mass_payments</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'status'</span><span class="p">]</span> <span class="c"># =&gt; 'complete'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/ca32853c-48fa-40be-ae75-77b37504581b'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/mass-payments`, { limit: 10 }</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'mass-payments'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">status</span><span class="p">);</span> <span class="c1">// =&gt; "complete"</span>
</code></pre></div></div>
<hr>

            <h1 id='labels'>Labels</h1>
<p>A <strong>Label</strong> represents a designated portion of funds within a <a href="https://developers.dwolla.com/resources/account-types.html#verified-customer">Verified Customer&rsquo;s</a> balance. To create a label, you’ll specify the ID of a Verified Customer and an amount. Your application will maintain any other Label information or associations. Labels can be created, updated, and deleted. You can also list all Labels for a Verified Customer Record and list all entries for a specified Label. Note that a Verified Customer’s labeled amounts cannot exceed the balance available in such Verified Customer&rsquo;s account.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This section outlines a premium feature for the <a href="https://www.dwolla.com/platform/">Dwolla API</a>. To learn more about pricing and enabling this functionality, please <a href="https://www.dwolla.com/contact?b=apidocs">contact Sales</a>.</p>
</li></ol><h3 id='label-links'>Label Links</h3>
<table><thead>
<tr>
<th>Link</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>self</td>
<td>URL of the Label resource.</td>
</tr>
<tr>
<td>ledger-entries</td>
<td>GET this link to list the ledger entries for a Label.</td>
</tr>
<tr>
<td>update</td>
<td>GET this link to update the ledger for this Verified Customer.</td>
</tr>
<tr>
<td>remove</td>
<td>GET this link to remove the Label for this Verified Customer.</td>
</tr>
</tbody></table>
<h3 id='label-resource'>Label resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>A _links JSON object that contains links to suggested resources and actions available based on the current context.</td>
</tr>
<tr>
<td>id</td>
<td>A Label unique identifier.</td>
</tr>
<tr>
<td>amount</td>
<td>An Amount JSON object that contains value and currency keys. Reference the amount object to learn more.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp.</td>
</tr>
</tbody></table>
<h3 id='amount-object'>Amount object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>Amount of funds.</td>
</tr>
<tr>
<td>currency</td>
<td>Acceptable values: <code class="prettyprint">USD</code></td>
</tr>
</tbody></table>
<h2 id='create-a-label'>Create a label</h2>
<p>This section outlines how to create a new Label. When creating a Label you’ll specify an <code class="prettyprint">amount</code> as well as the ID of a Verified Customer that the label is tied to. Upon success, the API will return a <code class="prettyprint">201</code> with a link to the created Label resource in the <code class="prettyprint">location</code> header.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/customers/{id}/labels</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>A Customer&rsquo;s unique identifier.</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>object</td>
<td>Amount of funds to label for a Verified Customer. An amount object. Reference the amount object to learn more.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>201</td>
<td>created</td>
<td>A Label was created.</td>
</tr>
<tr>
<td>400</td>
<td>ValidationError</td>
<td>Required - Field is required. <br> InvalidFormat - InvalidFormat. <br> Invalid - Amount can not cause label balance to be negative.</td>
</tr>
<tr>
<td>403</td>
<td>NotAuthorized</td>
<td>Not authorized to create Labels. <a href="https://www.dwolla.com/contact/">Contact us</a> to enable this functionality.</td>
</tr>
<tr>
<td>404</td>
<td>NotFound</td>
<td>Customer not found. Check CustomerId.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/customers/{id}/labels
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "amount": {
        "currency": "USD",
        "value": "10.00"
    }
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/labels/e217bcac-628a-456d-a375-6cc51230616f
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$label</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">createLabel</span><span class="p">([</span>
  <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'10.00'</span>
  <span class="p">]</span>
<span class="p">],</span> <span class="s2">"https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C"</span><span class="p">);</span>
<span class="nv">$label</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/labels/375c6781-2a17-476c-84f7-db7d2f6ffb31"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"10.00"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">label</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/labels"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">label</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/labels/375c6781-2a17-476c-84f7-db7d2f6ffb31"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'value'</span><span class="p">:</span> <span class="s">'10.00'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">label</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/labels'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">label</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/labels/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/AB443D36-3757-44C1-A1B4-29727FB3111C'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'10.00'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/labels`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/labels/375c6781-2a17-476c-84f7-db7d2f6ffb31'</span>
</code></pre></div></div><h2 id='retrieve-a-label'>Retrieve a label</h2>
<p>This section outlines how to retrieve a label by its unique identifier.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/labels/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>A Label&rsquo;s unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        },
        "update": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "ledger-entries": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "customer": {
            "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        }
    },
    "id": "7e042ffe-e25e-40d2-b86e-748b98845ecc",
    "created": "2019-05-15T22:19:09.635Z",
    "amount": {
        "value": "10.00",
        "currency": "USD"
    }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$labelUrl</span> <span class="o">=</span> <span class="s2">"https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc"</span><span class="p">;</span>

<span class="nv">$labelsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LabelsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$label</span> <span class="o">=</span> <span class="nv">$labelsApi</span><span class="o">-&gt;</span><span class="na">getLabel</span><span class="p">(</span><span class="nv">$labelUrl</span><span class="p">);</span>
<span class="nv">$label</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "7e042ffe-e25e-40d2-b86e-748b98845ecc"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>

<span class="n">label</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">label_url</span>
<span class="n">label</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "7e042ffe-e25e-40d2-b86e-748b98845ecc"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>

<span class="n">label</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label_url</span><span class="p">)</span>
<span class="n">label</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span> <span class="c"># =&gt; '7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">labelUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">labelUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
</code></pre></div></div><h2 id='create-a-label-ledger-entry'>Create a label ledger entry</h2>
<p>To create a new entry on a Label Ledger you’ll specify the ID of the Label, as well as a positive or negative amount value (depending on if the purpose is to increase or decrease the amount tied to a Label). The amount tied to a Label cannot go negative, therefore if the amount of the label ledger entry exceeds the current amount tied to a Label then a validation error will be returned.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/labels/{id}/ledger-entries</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The Id of the Label to update.</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>object</td>
<td>Amount of funds to increase or decrease for a Label. To decrease funds in a Label a string numeric value will be supplied and prepended with a “-” operator. An amount object. Reference the amount object to learn more.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/labels/e217bcac-628a-456d-a375-6cc51230616f/ledger-entries
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
 "amount": {
   "value": "-5.00",
   "currency": "USD"
 }
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/ledger-entries/76e5541d-18f4-e811-8112-e8dd3bececa8
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$labelsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LabelsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$label</span> <span class="o">=</span> <span class="nv">$labelsApi</span><span class="o">-&gt;</span><span class="na">addLedgerEntry</span><span class="p">([</span>
  <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'-5.00'</span>
  <span class="p">]</span>
<span class="p">],</span> <span class="s2">"https://api-sandbox.dwolla.com/labels/e217bcac-628a-456d-a375-6cc51230616f"</span><span class="p">);</span>
<span class="nv">$label</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/ledger-entries/76e5541d-18f4-e811-8112-e8dd3bececa8"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/e217bcac-628a-456d-a375-6cc51230616f'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"-5.00"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">ledger_entry</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">label_url</span><span class="si">}</span><span class="s2">/ledger-entries"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">ledger_entry</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/ledger-entries/76e5541d-18f4-e811-8112-e8dd3bececa8"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/labels/e217bcac-628a-456d-a375-6cc51230616f'</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'value'</span><span class="p">:</span> <span class="s">'-5.00'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">ledger_entry</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/ledger-entries'</span> <span class="o">%</span> <span class="n">label_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">ledger_entry</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/ledger-entries/76e5541d-18f4-e811-8112-e8dd3bececa8'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">labelUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/e217bcac-628a-456d-a375-6cc51230616f'</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'-5.00'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">labelUrl</span><span class="p">}</span><span class="sr">/ledger-entries`, requestBody</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/ledger-entries/76e5541d-18f4-e811-8112-e8dd3bececa8'</span>
</code></pre></div></div><h2 id='retrieve-a-label-ledger-entry'>Retrieve a label ledger entry</h2>
<p>This section outlines how to retrieve a Label Ledger entry by its unique identifier</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/ledger-entries/{id}</code></p>

<p>Request parameters</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>A Label Ledger entry unique identifier.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "label": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        }
    },
    "id": "32d68709-62dd-43d6-a6df-562f4baec526",
    "amount": {
        "value": "-5.00",
        "currency": "USD"
    },
    "created": "2019-05-16T01:54:58.062Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$ledgerEntryUrl</span> <span class="o">=</span> <span class="s2">"https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526"</span><span class="p">;</span>

<span class="nv">$ledgerEntriesApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LedgerentriesApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$ledgerEntry</span> <span class="o">=</span> <span class="nv">$ledgerEntriesApi</span><span class="o">-&gt;</span><span class="na">getLedgerEntry</span><span class="p">(</span><span class="nv">$ledgerEntryUrl</span><span class="p">);</span>
<span class="nv">$ledgerEntry</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "7e042ffe-e25e-40d2-b86e-748b98845ecc"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">ledger_entry_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526'</span>

<span class="n">ledger_entry</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">ledger_entry_url</span>
<span class="n">ledger_entry</span><span class="p">.</span><span class="nf">id</span> <span class="c1"># =&gt; "32d68709-62dd-43d6-a6df-562f4baec526"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">ledger_entry_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526'</span>

<span class="n">ledger_entry</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ledger_entry_url</span><span class="p">)</span>
<span class="n">ledger_entry</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span> <span class="c"># =&gt; '32d68709-62dd-43d6-a6df-562f4baec526'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">ledgerEntryUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">ledgerEntryUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '32d68709-62dd-43d6-a6df-562f4baec526'</span>
</code></pre></div></div><h2 id='list-label-ledger-entries'>List label ledger entries</h2>
<p>This section outlines how to list the history of Label entries. Label ledger entries are sorted by created date in descending order (most recent first).</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/labels/{id}/ledger-entries</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>The Id of the Label for listing label ledger entries.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>Number of results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>Number of results to skip. Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "first": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries?limit=25&amp;offset=0",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "last": {
            "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries?limit=25&amp;offset=0",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        }
    },
    "_embedded": {
        "ledger-entries": [
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/ledger-entries/32d68709-62dd-43d6-a6df-562f4baec526",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "ledger-entry"
                    },
                    "label": {
                        "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "label"
                    }
                },
                "id": "32d68709-62dd-43d6-a6df-562f4baec526",
                "amount": {
                    "value": "-5.00",
                    "currency": "USD"
                },
                "created": "2019-05-16T01:54:58.062Z"
            },
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/ledger-entries/b71ccd39-6b03-4f16-aff0-1ae29eeadaa8",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "ledger-entry"
                    },
                    "label": {
                        "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "label"
                    }
                },
                "id": "b71ccd39-6b03-4f16-aff0-1ae29eeadaa8",
                "amount": {
                    "value": "10.00",
                    "currency": "USD"
                },
                "created": "2019-05-15T22:19:09.635Z"
            }
        ]
    },
    "total": 2
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$labelUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span><span class="p">;</span>

<span class="nv">$labelsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LabelsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$ledgerEntries</span> <span class="o">=</span> <span class="nv">$labelsApi</span><span class="o">-&gt;</span><span class="na">getLedgerEntriesForLabel</span><span class="p">(</span><span class="nv">$labelUrl</span><span class="p">);</span>
<span class="nv">$ledgerEntries</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'ledger-entries'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "32d68709-62dd-43d6-a6df-562f4baec526"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>

<span class="n">ledger_entries</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">label_url</span><span class="si">}</span><span class="s2">/ledger-entries"</span>
<span class="n">ledger_entries</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'ledger-entries'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">id</span> <span class="c1"># =&gt; "32d68709-62dd-43d6-a6df-562f4baec526"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>

<span class="n">ledger_entries</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/ledger-entries'</span> <span class="o">%</span> <span class="n">label_url</span><span class="p">)</span>
<span class="n">ledger_entries</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'ledger-entries'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'id'</span><span class="p">]</span> <span class="c"># =&gt; '32d68709-62dd-43d6-a6df-562f4baec526'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">labelUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">labelUrl</span><span class="p">}</span><span class="sr">/ledger-entries`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'ledger-entries'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '32d68709-62dd-43d6-a6df-562f4baec526'</span>
</code></pre></div></div><h2 id='list-labels-for-a-customer'>List labels for a customer</h2>
<p>List all Labels for a specified Verified Customer. Labels are sorted by created date in descending order (most recent first).</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/customers/{id}/labels</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Customer unique identifier to retrieve labels for.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>Number of results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>Number of results to skip. Used for pagination.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb/labels
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb/labels",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        },
        "first": {
            "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb/labels?limit=25&amp;offset=0",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        },
        "last": {
            "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb/labels?limit=25&amp;offset=0",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        },
        "customer": {
            "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        }
    },
    "_embedded": {
        "labels": [
            {
                "_links": {
                    "self": {
                        "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "label"
                    },
                    "update": {
                        "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "ledger-entry"
                    },
                    "ledger-entries": {
                        "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc/ledger-entries",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "ledger-entry"
                    },
                    "customer": {
                        "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb",
                        "type": "application/vnd.dwolla.v1.hal+json",
                        "resource-type": "customer"
                    }
                },
                "id": "7e042ffe-e25e-40d2-b86e-748b98845ecc",
                "created": "2019-05-15T22:19:09.635Z",
                "amount": {
                    "value": "5.00",
                    "currency": "USD"
                }
            }
        ]
    },
    "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb'</span><span class="p">;</span>

<span class="nv">$customersApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\CustomersApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$labels</span> <span class="o">=</span> <span class="nv">$customersApi</span><span class="o">-&gt;</span><span class="na">getLabelsForCustomer</span><span class="p">(</span><span class="nv">$customerUrl</span><span class="p">);</span>
<span class="nv">$labels</span><span class="o">-&gt;</span><span class="na">_embedded</span><span class="o">-&gt;</span><span class="p">{</span><span class="s1">'labels'</span><span class="p">}[</span><span class="mi">0</span><span class="p">]</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">;</span> <span class="c1"># =&gt; "7e042ffe-e25e-40d2-b86e-748b98845ecc"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb'</span>

<span class="n">labels</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">customer_url</span><span class="si">}</span><span class="s2">/labels"</span>
<span class="n">labels</span><span class="p">.</span><span class="nf">_embedded</span><span class="p">[</span><span class="s1">'labels'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nf">id</span> <span class="c1"># =&gt; "7e042ffe-e25e-40d2-b86e-748b98845ecc"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">customer_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb'</span>

<span class="n">labels</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/labels'</span> <span class="o">%</span> <span class="n">customer_url</span><span class="p">)</span>
<span class="n">labels</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'_embedded'</span><span class="p">][</span><span class="s">'labels'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s">'id'</span><span class="p">]</span> <span class="c"># =&gt; '7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">customerUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/customers/5b29279d-6359-4c87-a318-e09095532733'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">customerUrl</span><span class="p">}</span><span class="sr">/labels`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">[</span><span class="s1">'labels'</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">id</span><span class="p">);</span> <span class="c1">// =&gt; '7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
</code></pre></div></div><h2 id='create-a-label-reallocation'>Create a label reallocation</h2>
<p>This section outlines how to create a Label reallocation. When creating a Label reallocation you’ll specify an amount as well as from and to which correspond respectively to a Label that will be reduced and a Label that will be increased. The <code class="prettyprint">from</code> and <code class="prettyprint">to</code> Labels must belong to the same Verified Customer. Upon success, the API will return a 201 with a link to the created Label reallocation resource in the Location header. A Label reallocation will only occur if the <code class="prettyprint">from</code> Label has an amount that is equal to or greater than the amount specified in the Label reallocation request. Label ledger entries will be created for both Labels included in the reallocation.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/label-reallocations</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>yes</td>
<td>string</td>
<td>A _links JSON object that includes the desired <code class="prettyprint">from</code> and <code class="prettyprint">to</code> Label.</td>
</tr>
<tr>
<td>amount</td>
<td>yes</td>
<td>object</td>
<td>Amount of funds to reallocate for single Verified Customer Record. An amount object. Reference the amount object to learn more.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/label-reallocations
Content-Type: application/vnd.dwolla.v1.hal+json
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
 "_links":{
   "from": {
     "href": "https://api-sandbox.dwolla.com/labels/c91c501c-f49b-48be-a93b-12b45e152d45"
   },
   "to": {
     "href": "https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc"
   }
 },
 "amount": {
   "value": "15.00",
   "currency": "USD"
 }
}

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$labelReallocationsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LabelreallocationsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$labelReallocation</span> <span class="o">=</span> <span class="nv">$labelReallocationsApi</span><span class="o">-&gt;</span><span class="na">reallocateLabel</span><span class="p">([</span>
  <span class="s1">'_links'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'from'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/c91c501c-f49b-48be-a93b-12b45e152d45'</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="s1">'to'</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s1">'href'</span> <span class="o">=&gt;</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
    <span class="p">]</span>
  <span class="p">],</span>
  <span class="s1">'amount'</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">'currency'</span> <span class="o">=&gt;</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'15.00'</span>
  <span class="p">]</span>
<span class="p">]);</span>
<span class="nv">$labelReallocation</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:_links</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:from</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/labels/c91c501c-f49b-48be-a93b-12b45e152d45"</span>
    <span class="p">},</span>
    <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="ss">:href</span> <span class="o">=&gt;</span> <span class="s2">"https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="ss">:amount</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="ss">:currency</span> <span class="o">=&gt;</span> <span class="s2">"USD"</span><span class="p">,</span>
    <span class="ss">:value</span> <span class="o">=&gt;</span> <span class="s2">"15.00"</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">labelReallocation</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"label-reallocations"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">labelReallocation</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'_links'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'from'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/labels/c91c501c-f49b-48be-a93b-12b45e152d45'</span>
    <span class="p">},</span>
    <span class="s">'to'</span><span class="p">:</span> <span class="p">{</span>
      <span class="s">'href'</span><span class="p">:</span> <span class="s">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s">'amount'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s">'currency'</span><span class="p">:</span> <span class="s">'USD'</span><span class="p">,</span>
    <span class="s">'value'</span><span class="p">:</span> <span class="s">'15.00'</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">labelReallocation</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'label-reallocations'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">labelReallocation</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">_links</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">from</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/c91c501c-f49b-48be-a93b-12b45e152d45'</span>
    <span class="p">},</span>
    <span class="na">to</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">href</span><span class="p">:</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/7e042ffe-e25e-40d2-b86e-748b98845ecc'</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">currency</span><span class="p">:</span> <span class="s1">'USD'</span><span class="p">,</span>
    <span class="na">value</span><span class="p">:</span> <span class="s1">'1.00'</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'label-reallocations'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21'</span>
</code></pre></div></div><h2 id='retrieve-a-label-reallocation'>Retrieve a label reallocation</h2>
<p>This section outlines how to retrieve a Label reallocation by its unique identifier.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/label-reallocations/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Label unique identifier</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

…

{
    "_links": {
        "self": {
            "href": "https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label-reallocation"
        },
        "to-ledger-entry": {
            "href": "https://api-sandbox.dwolla.com/ledger-entries/d8a4bf7a-3fa0-48b9-873c-765d7375c59f",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "from-ledger-entry": {
            "href": "https://api-sandbox.dwolla.com/ledger-entries/f6a44994-b4da-48e3-bd10-d3a168e6a77d",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        }
    },
    "created": "2019-05-16T13:41:31.036Z"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$labelReallocationUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21'</span><span class="p">;</span>

<span class="nv">$labelReallocationsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LabelreallocationsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$labelReallocation</span> <span class="o">=</span> <span class="nv">$labelReallocationsApi</span><span class="o">-&gt;</span><span class="na">getLabelReallocation</span><span class="p">(</span><span class="nv">$labelReallocationUrl</span><span class="p">);</span>
<span class="nv">$labelReallocation</span><span class="o">-&gt;</span><span class="na">created</span><span class="p">;</span> <span class="c1"># =&gt; "2019-05-16T13:41:31.036Z"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">label_reallocation_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21'</span>

<span class="n">label_reallocation</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">label_reallocation_url</span>
<span class="n">label_reallocation</span><span class="p">.</span><span class="nf">created</span> <span class="c1"># =&gt; "2019-05-16T13:41:31.036Z"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">label_reallocation_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21'</span>

<span class="n">label_reallocation</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">label_reallocation_url</span><span class="p">)</span>
<span class="n">label_reallocation</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'created'</span><span class="p">]</span> <span class="c"># =&gt; '2019-05-16T13:41:31.036Z'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">labelReallocationUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/label-reallocations/fd36b78c-42f3-4e21-8efb-09196fccbd21'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">labelReallocationUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">created</span><span class="p">);</span> <span class="c1">// =&gt; '2019-05-16T13:41:31.036Z'</span>
</code></pre></div></div><h2 id='remove-a-label'>Remove a label</h2>
<p>This section outlines how to remove a Label by its unique identifier. The amount of a Label must be reduced to zero prior to removing a label. Once a label is removed it can no longer be retrieved by its unique identifier.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">DELETE https://api.dwolla.com/labels/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Label unique identifier</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">DELETE https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

{
    "_links": {
        "ledger-entries": {
            "href": "https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc/ledger-entries",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        },
        "self": {
            "href": "https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        },
        "remove": {
            "href": "https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "label"
        },
        "customer": {
            "href": "https://api-sandbox.dwolla.com/customers/315a9456-3750-44bf-8b41-487b10d1d4bb",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "customer"
        },
        "update": {
            "href": "https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc/ledger-entries",
            "type": "application/vnd.dwolla.v1.hal+json",
            "resource-type": "ledger-entry"
        }
    },
    "id": "30165ded-2f32-4ee9-b340-ac44dda1d7fc",
    "created": "2019-05-16T14:56:52.629Z",
    "amount": {
        "value": "0.00",
        "currency": "USD"
    }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc'</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">delete</span> <span class="n">label_url</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">labelUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc'</span><span class="p">;</span>

<span class="nx">appToken</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">labelUrl</span><span class="p">);</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">label_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">label_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$labelsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\LabelsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$labelsApi</span><span class="o">-&gt;</span><span class="na">removeLabel</span><span class="p">(</span><span class="s1">'https://api-sandbox.dwolla.com/labels/30165ded-2f32-4ee9-b340-ac44dda1d7fc'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>403</td>
<td>InvalidResourceState</td>
<td>Amount must be zero to remove label.</td>
</tr>
</tbody></table>

<hr>

            <h1 id='events'>Events</h1>
<p>When the state of a resource changes, Dwolla creates a new event resource to record the change. When an Event is created, a <a href="#webhooks">Webhook</a> will be created to deliver the Event to any URLs specified by your active <a href="#webhook-subscriptions">Webhook Subscriptions</a>. To view example payloads for Customer related events, refer to the <a href="https://developers.dwolla.com/resources/webhook-events.html">Webhooks Events</a> resource within the Developer Docs.</p>
<h3 id='events-resource'>Events resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_links</td>
<td>Contains links to the event, associated resource, and the Account associated with the event.</td>
</tr>
<tr>
<td>id</td>
<td>Event id</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp when event was created</td>
</tr>
<tr>
<td>topic</td>
<td>Type of event</td>
</tr>
<tr>
<td>resourceId</td>
<td>id of the resource associated with the event.</td>
</tr>
</tbody></table>
<div class="code-snippet js-code-snippet language-nohide"><button class="btn alternative">copy</button><div class="code-snippet__cnt highlight"><pre><code class="language-nohide" data-lang="nohide"><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/events/f8e70f48-b7ff-47d0-9d3d-62a099363a76"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"resource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/transfers/48CFDDB4-1E74-E511-80DB-0AA34A9B2388"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8e70f48-b7ff-47d0-9d3d-62a099363a76"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-16T15:58:15.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"topic"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transfer_created"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48CFDDB4-1E74-E511-80DB-0AA34A9B2388"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div><h3 id='dwolla-master-account-event-topics'>Dwolla Master Account Event topics</h3><h5 id='accounts'>Accounts</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account_suspended</td>
<td>A Dwolla Master Account was suspended.</td>
</tr>
<tr>
<td>account_activated</td>
<td>A Dwolla Master Account moves from deactivated or suspended to active state of verification.</td>
</tr>
</tbody></table>
<h5 id='funding-sources'>Funding Sources</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>funding_source_added</td>
<td>A funding source was added to a Dwolla account.</td>
</tr>
<tr>
<td>funding_source_removed</td>
<td>A funding source was removed from a Dwolla account.</td>
</tr>
<tr>
<td>funding_source_verified</td>
<td>A funding source was marked as <code class="prettyprint">verified</code>.</td>
</tr>
<tr>
<td>funding_source_unverified</td>
<td>A funding source has been systematically <code class="prettyprint">unverified</code>. This is generally a result of a transfer failure. <a href="https://developers.dwolla.com/resources/bank-transfer-workflow/transfer-failures.html">View our developer resource article</a> to learn more.</td>
</tr>
<tr>
<td>funding_source_negative</td>
<td>A Dwolla Master Account <code class="prettyprint">balance</code> has gone negative. You are responsible for ensuring a zero or positive Dwolla balance for your account. If your balance funding source has gone negative, you are responsible for making the Dwolla account whole. Dwolla will notify you via a webhook and separate email of the negative balance. If no action is taken, Dwolla will debit your attached billing source.</td>
</tr>
<tr>
<td>funding_source_updated</td>
<td>A funding source has been updated. This can also be fired as a result of a correction after a bank transfer processes. For example, a financial institution can issue a correction to change the bank account <code class="prettyprint">type</code> from <code class="prettyprint">checking</code> to <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td>microdeposits_added</td>
<td>Two &lt;=10¢ transfers to a Dwolla Master Account’s linked bank account were initiated.</td>
</tr>
<tr>
<td>microdeposits_failed</td>
<td>The two &lt;=10¢ transfers to a Dwolla Master Account’s linked bank account failed to clear successfully.</td>
</tr>
<tr>
<td>microdeposits_completed</td>
<td>The two &lt;=10¢ transfers to a Dwolla Master Account’s linked bank account have cleared successfully.</td>
</tr>
<tr>
<td>microdeposits_maxattempts</td>
<td>The funding source has reached its max verification attempts limit of three. The funding source can no longer be verified with the completed micro-deposit amounts.</td>
</tr>
</tbody></table>
<h5 id='transfers'>Transfers</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bank_transfer_created</td>
<td>A bank transfer was created. Represents funds moving either from a Dwolla Master Account’s bank to the Dwolla network or from the Dwolla network to a Dwolla Master Account’s bank.</td>
</tr>
<tr>
<td>bank_transfer_creation_failed</td>
<td>An attempt to initiate a transfer to a Master Account’s bank was made, but failed. Transfers initiated to a Master Account’s bank must pass through the Master Account’s balance before being sent to a receiving bank. Dwolla will fail to create a transaction intended for a Master Account’s bank if the funds available in the balance are less than the transfer amount.</td>
</tr>
<tr>
<td>bank_transfer_cancelled</td>
<td>A pending bank transfer has been cancelled, and will not process further. Represents a cancellation of funds either transferring from a Dwolla Master Account’s bank to the Dwolla network or from the Dwolla network to a Dwolla Master Account’s  bank.</td>
</tr>
<tr>
<td>bank_transfer_failed</td>
<td>A transfer failed to clear successfully. Usually, this is a result of an ACH failure (insufficient funds, etc.). Represents funds failing to clear either from a Dwolla Master Account’s  bank to the Dwolla network or from the Dwolla network to a Dwolla Master Account’s  bank.</td>
</tr>
<tr>
<td>bank_transfer_completed</td>
<td>A bank transfer has cleared successfully. Represents funds clearing either from a Dwolla Master Account’s  bank to the Dwolla network or from the Dwolla network to a Dwolla Master Account’s  bank.</td>
</tr>
<tr>
<td>transfer_created</td>
<td>A transfer was created. Represents funds moving either to or from a Dwolla Master Account&rsquo;s <code class="prettyprint">balance</code> or <code class="prettyprint">bank</code>.</td>
</tr>
<tr>
<td>transfer_cancelled</td>
<td>A pending transfer has been cancelled, and will not process further. Represents a cancellation of funds transferring either to or from a Dwolla Master Account’s <code class="prettyprint">balance</code> or <code class="prettyprint">bank</code>.</td>
</tr>
<tr>
<td>transfer_failed</td>
<td>A transfer failed to clear successfully. Represents funds failing to clear either to or from a Dwolla Master Account’s <code class="prettyprint">balance</code> or <code class="prettyprint">bank</code>.</td>
</tr>
<tr>
<td>transfer_completed</td>
<td>A transfer has cleared successfully. Represents funds clearing either to or from a Dwolla Master Account’s <code class="prettyprint">balance</code> or <code class="prettyprint">bank</code>.</td>
</tr>
</tbody></table>
<h5 id='mass-payments'>Mass Payments</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>mass_payment_created</td>
<td>A mass payment was created.</td>
</tr>
<tr>
<td>mass_payment_completed</td>
<td>A mass payment completed.</td>
</tr>
<tr>
<td>mass_payment_cancelled</td>
<td>A created and deferred mass payment was cancelled.</td>
</tr>
</tbody></table>
<h5 id='statements'>Statements</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>statement_created</td>
<td>A monthly balance summary and a detailed transaction record for the previous month was created for a Dwolla Master Account.</td>
</tr>
</tbody></table>
<h3 id='customer-account-event-topics'>Customer Account Event topics</h3><h5 id='customers'>Customers</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_created</td>
<td>A Customer was created.</td>
</tr>
<tr>
<td>customer_kba_verification_needed</td>
<td>The retry identity verification attempt failed due insufficient scores on the submitted data. The end-user will have a single kba attempt to answer a set of “out of wallet” questions about themselves for identity verification.</td>
</tr>
<tr>
<td>customer_kba_verification_failed</td>
<td>The end-user failed KBA verification and were unable to correctly answer at least three KBA questions.</td>
</tr>
<tr>
<td>customer_kba_verification_passed</td>
<td>The end-user was able to correctly answer at least three KBA questions.</td>
</tr>
<tr>
<td>customer_verification_document_needed</td>
<td>Additional documentation is needed to verify a Customer.</td>
</tr>
<tr>
<td>customer_verification_document_uploaded</td>
<td>A verification document was uploaded for a Customer.</td>
</tr>
<tr>
<td>customer_verification_document_failed</td>
<td>A verification document has been rejected for a Customer.</td>
</tr>
<tr>
<td>customer_verification_document_approved</td>
<td>A verification document was approved for a Customer.</td>
</tr>
<tr>
<td>customer_reverification_needed</td>
<td>Incomplete information was received for a Customer; updated information is needed to verify the Customer.</td>
</tr>
<tr>
<td>customer_verified</td>
<td>A Customer was verified.</td>
</tr>
<tr>
<td>customer_suspended</td>
<td>A Customer was suspended.</td>
</tr>
<tr>
<td>customer_activated</td>
<td>A Customer moves from deactivated or suspended to an active status.</td>
</tr>
<tr>
<td>customer_deactivated</td>
<td>A Customer was deactivated.</td>
</tr>
</tbody></table>
<h5 id='beneficial-owners'>Beneficial Owners</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_beneficial_owner_created</td>
<td>Beneficial owner successfully created.</td>
</tr>
<tr>
<td>customer_beneficial_owner_removed</td>
<td>An individual beneficial owner has been successfully removed from the Customer</td>
</tr>
<tr>
<td>customer_beneficial_owner_verification_document_needed</td>
<td>Additional documentation is needed to verify an individual beneficial owner.</td>
</tr>
<tr>
<td>customer_beneficial_owner_verification_document_uploaded</td>
<td>A verification document was uploaded for beneficial owner.</td>
</tr>
<tr>
<td>customer_beneficial_owner_verification_document_failed</td>
<td>A verification document has been rejected for a beneficial owner.</td>
</tr>
<tr>
<td>customer_beneficial_owner_verification_document_approved</td>
<td>A verification document was approved for a beneficial owner.</td>
</tr>
<tr>
<td>customer_beneficial_owner_reverification_needed</td>
<td>A previously <code class="prettyprint">verified</code> beneficial owner status has changed due to either a change in the beneficial owner’s information or at request for more information from Dwolla. The individual will need to verify their identity within 30 days.</td>
</tr>
<tr>
<td>customer_beneficial_owner_verified</td>
<td>A beneficial owner has been verified.</td>
</tr>
</tbody></table>
<h5 id='funding-sources'>Funding Sources</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_funding_source_added</td>
<td>A funding source was added to a Customer.</td>
</tr>
<tr>
<td>customer_funding_source_removed</td>
<td>A funding source was removed from a Customer.</td>
</tr>
<tr>
<td>customer_funding_source_verified</td>
<td>A Customer’s funding source was marked as verified.</td>
</tr>
<tr>
<td>customer_funding_source_unverified</td>
<td>A funding source has been systematically <code class="prettyprint">unverified</code>. This is generally a result of a transfer failure. <a href="https://developers.dwolla.com/resources/bank-transfer-workflow/transfer-failures.html">View our developer resource article</a> to learn more.</td>
</tr>
<tr>
<td>customer_funding_source_negative</td>
<td>A Customer&rsquo;s <code class="prettyprint">balance</code> has gone negative. You are responsible for ensuring a zero or positive Dwolla balance for Customer accounts created by your application. If a Customer balance funding source has gone negative, you are responsible for making the Dwolla Customer account whole. Dwolla will notify you via a webhook and separate email of the negative balance. If no action is taken, Dwolla will debit your attached billing source.</td>
</tr>
<tr>
<td>customer_funding_source_updated</td>
<td>A Customer&rsquo;s funding source has been updated. This can also be fired as a result of a correction after a bank transfer processes. For example, a financial institution can issue a correction to change the bank account <code class="prettyprint">type</code> from <code class="prettyprint">checking</code> to <code class="prettyprint">savings</code>.</td>
</tr>
<tr>
<td>customer_microdeposits_added</td>
<td>Two &lt;=10¢ transfers to a Customer’s linked bank account were initiated.</td>
</tr>
<tr>
<td>customer_microdeposits_failed</td>
<td>The two &lt;=10¢ transfers to a Customer’s linked bank account failed to clear successfully.</td>
</tr>
<tr>
<td>customer_microdeposits_completed</td>
<td>The two &lt;=10¢ transfers to a Customer’s linked bank account have cleared successfully.</td>
</tr>
<tr>
<td>customer_microdeposits_maxattempts</td>
<td>The Customer has reached their max verification attempts limit of three. The Customer can no longer verify their funding source with the completed micro-deposit amounts.</td>
</tr>
</tbody></table>
<h5 id='transfers'>Transfers</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_bank_transfer_created</td>
<td>A bank transfer was created for a Customer. Represents funds moving either from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_bank_transfer_creation_failed</td>
<td>An attempt to initiate a transfer to a verified Customer&rsquo;s bank was made, but failed. Transfers initiated to a verified Customer&rsquo;s bank must pass through the verified Customer&rsquo;s balance before being sent to a receiving bank. Dwolla will fail to create a transaction intended for a verified Customer&rsquo;s bank if the funds available in the balance are less than the transfer amount.</td>
</tr>
<tr>
<td>customer_bank_transfer_cancelled</td>
<td>A pending Customer bank transfer has been cancelled, and will not process further. Represents a cancellation of funds either transferring from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_bank_transfer_failed</td>
<td>A Customer bank transfer failed to clear successfully. Usually, this is a result of an ACH failure (insufficient funds, etc.). Represents funds failing to clear either from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_bank_transfer_completed</td>
<td>A bank transfer that was created for a Customer has cleared successfully. Represents funds clearing either from a verified Customer&rsquo;s bank to the Dwolla network or from the Dwolla network to a verified Customer&rsquo;s bank.</td>
</tr>
<tr>
<td>customer_transfer_created</td>
<td>A transfer was created for a Customer. Represents funds transferring from a verified Customer&rsquo;s balance or unverified Customer&rsquo;s bank</td>
</tr>
<tr>
<td>customer_transfer_cancelled</td>
<td>A pending transfer has been cancelled, and will not process further. Represents a cancellation of funds transferring either to an unverified Customer&rsquo;s bank or to a verified Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>customer_transfer_failed</td>
<td>A Customer transfer failed to clear successfully. Represents funds failing to clear either to an unverified Customer&rsquo;s bank or to a verified Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>customer_transfer_completed</td>
<td>A Customer transfer has cleared successfully. Represents funds clearing either to an unverified Customer&rsquo;s bank or to a verified Customer&rsquo;s balance.</td>
</tr>
<tr>
<td>customer_card_transfer_created</td>
<td>A card transfer was created for a Customer. Represents funds transferring from a Master Accout&rsquo;s balance to a Customer&rsquo;s debit card.</td>
</tr>
<tr>
<td>customer_card_transfer_cancelled</td>
<td>A pending push to debit card transfer was cancelled for a Customer. Represents a cancellation of funds transferring from a Master Accout&rsquo;s balance to a Customer&rsquo;s debit card.</td>
</tr>
<tr>
<td>customer_card_transfer_failed</td>
<td>A push to debit card transfer failed to complete for a Customer. Represents funds failing to complete to a Customer&rsquo;s debit card.</td>
</tr>
</tbody></table>
<h5 id='mass-payments'>Mass Payments</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_mass_payment_created</td>
<td>A Verified Customer&rsquo;s mass payment was created.</td>
</tr>
<tr>
<td>customer_mass_payment_completed</td>
<td>A Verified Customer&rsquo;s mass payment completed.</td>
</tr>
<tr>
<td>customer_mass_payment_cancelled</td>
<td>A Verified Customer&rsquo;s created and deferred mass payment was cancelled.</td>
</tr>
<tr>
<td>customer_balance_inquiry_completed</td>
<td>Upon checking a Customer&rsquo;s bank balance, Dwolla will immediately return an HTTP 202 with response body that includes a status of <code class="prettyprint">processing</code>. This event will be triggered when the bank balance check has completed processing.</td>
</tr>
</tbody></table>
<h5 id='labels'>Labels</h5>
<table><thead>
<tr>
<th>Topic</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>customer_label_created</td>
<td>A Verified Customer’s label was created.</td>
</tr>
<tr>
<td>customer_label_ledger_entry_created</td>
<td>A ledger entry was for a Verified Customer’s label was created.</td>
</tr>
<tr>
<td>customer_label_removed</td>
<td>A Verified Customer’s label was removed.</td>
</tr>
</tbody></table>
<h2 id='list-events'>List events</h2>
<p>Retrieve a list of events for the application. <strong>Note:</strong> Dwolla will only guarantee access to events through the API over a rolling 30-day period.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/events</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Resource not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/events
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/events"
    },
    "first": {
      "href": "https://api-sandbox.dwolla.com/events?limit=25&amp;offset=0"
    },
    "last": {
      "href": "https://api-sandbox.dwolla.com/events?limit=25&amp;offset=150"
    },
    "next": {
      "href": "https://api-sandbox.dwolla.com/events?limit=25&amp;offset=25"
    }
  },
  "_embedded": {
    "events": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/events/78e57644-56e4-4da2-b743-059479f2e80f"
          },
          "resource": {
            "href": "https://api-sandbox.dwolla.com/transfers/47CFDDB4-1E74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "78e57644-56e4-4da2-b743-059479f2e80f",
        "created": "2015-10-16T15:58:18.000Z",
        "topic": "bank_transfer_created",
        "resourceId": "47CFDDB4-1E74-E511-80DB-0AA34A9B2388"
      },
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/events/f8e70f48-b7ff-47d0-9d3d-62a099363a76"
          },
          "resource": {
            "href": "https://api-sandbox.dwolla.com/transfers/48CFDDB4-1E74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "f8e70f48-b7ff-47d0-9d3d-62a099363a76",
        "created": "2015-10-16T15:58:15.000Z",
        "topic": "transfer_created",
        "resourceId": "48CFDDB4-1E74-E511-80DB-0AA34A9B2388"
      },
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/events/9f0167e0-dce6-4a1a-ad26-30015d6f1cc1"
          },
          "resource": {
            "href": "https://api-sandbox.dwolla.com/transfers/08A166BC-1B74-E511-80DB-0AA34A9B2388"
          },
          "account": {
            "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
          }
        },
        "id": "9f0167e0-dce6-4a1a-ad26-30015d6f1cc1",
        "created": "2015-10-16T15:37:03.000Z",
        "topic": "bank_transfer_created",
        "resourceId": "08A166BC-1B74-E511-80DB-0AA34A9B2388"
      }
    ]
  },
  "total": 3
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"events"</span>
<span class="n">events</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 3</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$eventsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\EventsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$events</span> <span class="o">=</span> <span class="nv">$eventsApi</span><span class="o">-&gt;</span><span class="na">events</span><span class="p">();</span>
<span class="nv">$events</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 3
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">events</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'events'</span><span class="p">)</span>
<span class="n">events</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 3</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'events'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c1">// =&gt; 3</span>
</code></pre></div></div><h2 id='retrieve-an-event'>Retrieve an event</h2>
<p>This section covers how to retrieve an event by id.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/events/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>ID of application event to get.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Application event not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095"
    },
    "resource": {
      "href": "https://api-sandbox.dwolla.com/transfers/09A166BC-1B74-E511-80DB-0AA34A9B2388"
    },
    "account": {
      "href": "https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b"
    },
    "customer": {
      "href": "https://api-sandbox.dwolla.com/customers/07d59716-ef22-4fe6-98e8-f3190233dfb8"
    }
  },
  "id": "81f6e13c-557c-4449-9331-da5c65e61095",
  "created": "2015-10-16T15:37:02.000Z",
  "topic": "customer_transfer_created",
  "resourceId": "09A166BC-1B74-E511-80DB-0AA34A9B2388"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">event_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span>

<span class="n">event</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">event_url</span>
<span class="n">event</span><span class="p">.</span><span class="nf">topic</span> <span class="c1"># =&gt; "customer_transfer_created"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$eventUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span><span class="p">;</span>

<span class="nv">$eventsApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\EventsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$event</span> <span class="o">=</span> <span class="nv">$eventsApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$eventUrl</span><span class="p">);</span>
<span class="nv">$event</span><span class="o">-&gt;</span><span class="na">topic</span><span class="p">;</span> <span class="c1"># =&gt; "customer_transfer_created"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">event_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span>

<span class="n">event</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event_url</span><span class="p">)</span>
<span class="n">event</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'topic'</span><span class="p">]</span> <span class="c"># =&gt; 'customer_transfer_created'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">eventUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/events/81f6e13c-557c-4449-9331-da5c65e61095'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">eventUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">topic</span><span class="p">);</span> <span class="c1">// =&gt; 'customer_transfer_created'</span>
</code></pre></div></div>
<hr>

            <h1 id='webhook-subscriptions'>Webhook subscriptions</h1>
<p>Create a webhook subscription to receive <code class="prettyprint">POST</code> requests from Dwolla (called webhooks) when events associated with your application occur.  <a href="#webhooks">Webhooks</a> are sent to a URL which you provide when creating a webhook subscription. While we see most applications maintain one webhook subscription, you can have up to <strong>ten</strong> active webhook subscriptions in Sandbox, and up to <strong>five</strong> in Production at a time. Refer to the <a href="#events">events</a> section for the complete list of events that trigger webhooks. To view example payloads for Customer related events, refer to the <a href="https://developers.dwolla.com/resources/webhook-events.html">Webhooks Events</a> resource within the Developer Docs. </p>
<h3 id='strongautomatic-pause-of-a-webhook-subscriptionstrong'><strong>Automatic pause of a webhook subscription</strong></h3>
<p>Dwolla will automatically pause subscribed webhook endpoints that are no longer reachable. The webhook subscription will be paused after <strong>400 consecutive failures</strong> and <strong>24 hours since the last success</strong>. This will help us ensure that unavailable endpoints don’t cause delays or issues in delivery of notifications for other API customers. Webhook subscriptions can be unpaused by calling <a href="#update-a-webhook-subscription">this endpoint</a>.</p>
<h3 id='acknowledgement-and-retries'>Acknowledgement and retries</h3>
<p>When your application receives a <a href="#webhooks">webhook</a>, it should respond with a HTTP 2xx status code to indicate successful receipt. If Dwolla receives a status code greater than or equal to 3xx, or your application fails to respond within 10 seconds of the attempt, another attempt will be made. Dwolla will not follow redirects and will treat them as a failure.</p>

<p>Dwolla will re-attempt delivery 8 times over the course of 72 hours according to the backoff schedule below. If a webhook was successfully received but you would like the information again, you can call <a href="#retrieve-a-webhook">retrieve a webhook by its Id</a>.</p>
<h3 id='delivery-rate'>Delivery rate</h3>
<p>Webhooks are delivered in near real-time as events tied to your application are created. If there is a large number of events created for your application within a short timeframe, Dwolla may deliver bursts of 10 concurrent webhook requests to your subscribed URL. We encourage applications to make their webhook handler do as little as possible and only perform a high level validation of the request. Once initial validation is performed, immediately acknowledge the webhook request and process it in the background later. If your subscribed webhook URL is unable to handle the volume of concurrent requests, please contact Dwolla developer support and the delivery rate can be adjusted.</p>

<table><thead>
<tr>
<th style="text-align: center">Retry number</th>
<th style="text-align: center">Interval (relative to last retry)</th>
<th style="text-align: center">Interval (relative to original attempt)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">1</td>
<td style="text-align: center">15 min</td>
<td style="text-align: center">15 min</td>
</tr>
<tr>
<td style="text-align: center">2</td>
<td style="text-align: center">45 min</td>
<td style="text-align: center">1 h</td>
</tr>
<tr>
<td style="text-align: center">3</td>
<td style="text-align: center">2 h</td>
<td style="text-align: center">3 h</td>
</tr>
<tr>
<td style="text-align: center">4</td>
<td style="text-align: center">3 h</td>
<td style="text-align: center">6 h</td>
</tr>
<tr>
<td style="text-align: center">5</td>
<td style="text-align: center">6 h</td>
<td style="text-align: center">12 h</td>
</tr>
<tr>
<td style="text-align: center">6</td>
<td style="text-align: center">12 h</td>
<td style="text-align: center">24 h</td>
</tr>
<tr>
<td style="text-align: center">7</td>
<td style="text-align: center">24 h</td>
<td style="text-align: center">48 h</td>
</tr>
<tr>
<td style="text-align: center">8</td>
<td style="text-align: center">24 h</td>
<td style="text-align: center">72 h</td>
</tr>
</tbody></table>
<h3 id='webhook-subscription-resource'>Webhook subscription resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Webhook subscription unique identifier.</td>
</tr>
<tr>
<td>url</td>
<td>Subscribed url where Dwolla should deliver the webhook notification.</td>
</tr>
<tr>
<td>paused</td>
<td>A boolean <code class="prettyprint">true</code> or <code class="prettyprint">false</code> value indicating if the webhook subscription is paused. A webhook subscription will be automatically paused after 400 consecutive failures. In addition, a subscription can be paused or unpaused by calling <a href="#update-a-webhook-subscription">this endpoint</a> in the API.</td>
</tr>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
</tbody></table>
<h2 id='create-a-webhook-subscription'>Create a webhook subscription</h2>
<p>This section details how to create a webhook subscription to deliver <a href="#webhooks">webhooks</a> to a specified URL.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/webhook-subscriptions</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>url</td>
<td>yes</td>
<td>string</td>
<td>Where Dwolla should deliver the webhook notification.</td>
</tr>
<tr>
<td>secret</td>
<td>yes</td>
<td>string</td>
<td>A random, secret key, only known by your application. This secret key should be securely stored and used later when <a href="https://developers.dwolla.com/guides/webhooks/validating-webhooks.html">validating the authenticity</a> of the webhook request from Dwolla.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>MaxNumberOfResources</td>
<td>The maximum number of subscriptions has been reached.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/webhook-subscriptions
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNicvoWhDbQcVSKLRUpGjIdlPSEYyrHqrDDoRnQwE7Q
{
    "url": "http://myapplication.com/webhooks",
    "secret": "sshhhhhh"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:url</span> <span class="o">=&gt;</span> <span class="s2">"http://myawesomeapplication.com/destination"</span><span class="p">,</span>
  <span class="ss">:secret</span> <span class="o">=&gt;</span> <span class="s2">"your webhook secret"</span>
<span class="p">}</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"webhook-subscriptions"</span><span class="p">,</span> <span class="n">request_body</span>
<span class="n">subscription</span><span class="p">.</span><span class="nf">response_headers</span><span class="p">[</span><span class="ss">:location</span><span class="p">]</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">url</span><span class="p">:</span> <span class="s1">'http://myawesomeapplication.com/destination'</span><span class="p">,</span>
  <span class="na">secret</span><span class="p">:</span> <span class="s1">'your webhook secret'</span>
<span class="p">};</span>
<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'webhook-subscriptions'</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'location'</span><span class="p">));</span> <span class="c1">// =&gt; 'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'url'</span><span class="p">:</span> <span class="s">'http://myapplication.com/webhooks'</span><span class="p">,</span>
  <span class="s">'secret'</span><span class="p">:</span> <span class="s">'sshhhhhh'</span>
<span class="p">}</span>
<span class="n">subscription</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'webhook-subscriptions'</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">subscription</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s">'location'</span><span class="p">]</span> <span class="c"># =&gt; 'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$subscription</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">(</span><span class="k">array</span> <span class="p">(</span>
  <span class="s1">'url'</span> <span class="o">=&gt;</span> <span class="s1">'http://myapplication.com/webhooks'</span><span class="p">,</span>
  <span class="s1">'secret'</span> <span class="o">=&gt;</span> <span class="s1">'sshhhhhh'</span><span class="p">,</span>
<span class="p">));</span>
<span class="nv">$subscription</span><span class="p">;</span> <span class="c1"># =&gt; "https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='retrieve-a-webhook-subscription'>Retrieve a webhook subscription</h2>
<p>This section details how to retrieve a webhook subscription by its id.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhook-subscriptions/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook subscription unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook subscription not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/webhook-subscriptions/077dfffb-4852-412f-96b6-0fe668066589"
    },
    "webhooks": {
      "href": "https://api-sandbox.dwolla.com/webhook-subscriptions/077dfffb-4852-412f-96b6-0fe668066589/webhooks"
    }
  },
  "id": "077dfffb-4852-412f-96b6-0fe668066589",
  "url": "http://myapplication.com/webhooks",
  "created": "2015-10-28T16:20:47+00:00"
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">webhook_subscription</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">webhook_subscription_url</span>
<span class="n">webhook_subscription</span><span class="p">.</span><span class="nf">created</span> <span class="c1"># =&gt; 2015-10-28T16:20:47+00:00</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">webhookSubscriptionUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">created</span><span class="p">);</span> <span class="c1">// =&gt; '2016-04-20T15:49:50.340Z'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">webhook_subscription</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
<span class="n">webhook_subscription</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'created'</span><span class="p">]</span> <span class="c"># =&gt; '2015-10-28T16:20:47+00:00'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$retrieved</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">);</span>

<span class="nv">$retrieved</span><span class="o">-&gt;</span><span class="na">created</span><span class="p">;</span> <span class="c1"># =&gt; 2015-10-28T16:20:47+00:00
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='update-a-webhook-subscription'>Update a webhook subscription</h2>
<p>This section details how to pause a webhook subscription. When a webhook subscription is paused, Dwolla will continue to create webhooks but not send them to your subscribed webhook url. This is useful if your webhook endpoint is unavailable and you want to temporarily disable webhook requests.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/webhook-subscriptions/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook unique identifier.</td>
</tr>
<tr>
<td>paused</td>
<td>yes</td>
<td>boolean</td>
<td>Specify a value of <code class="prettyprint">true</code> to pause the associated webhook subscription or <code class="prettyprint">false</code> to unpause a paused subscription.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer 0Sn0W6kzNicvoWhDbQcVSKLRUpGjIdlPSEYyrHqrDDoRnQwE7Q
{
    "paused": true
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="ss">:paused</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="p">}</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_subscription_url</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span> <span class="n">request_body</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/692486f8-29f6-4516-a6a5-c69fd2ce854c'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">requestBody</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">paused</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">};</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">webhookSubscriptionUrl</span><span class="p">,</span> <span class="nx">requestBody</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">paused</span><span class="p">);</span> <span class="c1">// =&gt; 'true'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">request_body</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">'paused'</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>

<span class="n">subscription</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">,</span> <span class="n">request_body</span><span class="p">)</span>
<span class="n">subscription</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'paused'</span><span class="p">]</span> <span class="c"># =&gt; true</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$subscription</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">updateSubscription</span><span class="p">(</span><span class="k">array</span> <span class="p">(</span>
  <span class="s1">'paused'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
<span class="p">),</span> <span class="nv">$webhookSubscriptionUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='list-webhook-subscriptions'>List webhook subscriptions</h2>
<p>This section covers how to retrieve a list of webhook subscriptions that belong to an application. </p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhook-subscriptions</code></p>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/webhook-subscriptions
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/webhook-subscriptions"
    }
  },
  "_embedded": {
    "webhook-subscriptions": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/webhook-subscriptions/f4d21628-fde2-4d3a-b69a-0a7cb42adc4c"
          },
          "webhooks": {
            "href": "https://api-sandbox.dwolla.com/webhook-subscriptions/f4d21628-fde2-4d3a-b69a-0a7cb42adc4c/webhooks"
          }
        },
        "id": "f4d21628-fde2-4d3a-b69a-0a7cb42adc4c",
        "url": "https://destination.url",
        "created": "2015-08-19T21:43:49.000Z"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_subscriptions</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"webhook-subscriptions"</span>
<span class="n">webhook_subscriptions</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'webhook-subscriptions'</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c1">// =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_subscriptions</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'webhook-subscriptions'</span><span class="p">)</span>
<span class="n">webhook_subscriptions</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$retrieved</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">_list</span><span class="p">();</span>
<span class="nv">$retrieved</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 1
</span><span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='delete-a-webhook-subscription'>Delete a webhook subscription</h2>
<p>Delete a Webhook Subscription to stop receiving Webhooks at the URL specified. If using an SDK, the request was successful unless an exception was thrown stating otherwise.</p>
<ol class = "alerts"><li class="alert icon-alert-alert"><p>Deleting a Webhook Subscription removes all webhooks data associated with that subscription. This will make it unable to replay any previous webhooks that were sent to the subscribed URL. To temporarily disable webhooks while retaining all webhooks data, a Webhook Subscription may be <a href="https://docs.dwolla.com/#update-a-webhook-subscription"><code>paused</code></a> instead of being <code>deleted</code>.</p>
</li></ol><h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">DELETE https://api.dwolla.com/webhook-subscriptions/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook unique identifier.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook subscription not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">DELETE https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">delete</span> <span class="n">webhook_subscription_url</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">;</span>

<span class="nx">appToken</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">webhookSubscriptionUrl</span><span class="p">);</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">webhook_subscription_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksubscriptionsApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>
<span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">deleteById</span><span class="p">(</span><span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><h2 id='list-webhooks-for-a-webhook-subscription'>List webhooks for a webhook subscription</h2>
<p>This section covers how to view all fired <a href="#webhooks">webhooks</a> for a webhook subscription. Webhook search is supported by passing in optional querystring parameters such as: <code class="prettyprint">search</code> which represents a term to search on, <code class="prettyprint">startDate</code> and <code class="prettyprint">endDate</code>. <strong>Note:</strong> Dwolla will only guarantee access to webhook data through the API over a rolling 30-day period.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhook-subscriptions/{id}/webhooks</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Webhook subscription unique identifier.</td>
</tr>
<tr>
<td>limit</td>
<td>no</td>
<td>integer</td>
<td>How many results to return. Defaults to 25.</td>
</tr>
<tr>
<td>offset</td>
<td>no</td>
<td>integer</td>
<td>How many results to skip.</td>
</tr>
<tr>
<td>startDate</td>
<td>no</td>
<td>string</td>
<td>Only include webhooks sent after this date. ISO-8601 format: YYYY-MM-DD. Can optionally be used with endDate to specify a date range.</td>
</tr>
<tr>
<td>endDate</td>
<td>no</td>
<td>string</td>
<td>Only include webhooks sent before this date. ISO-8601 format: YYYY-MM-DD. Can optionally be used with startDate to specify a date range.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/webhook-subscriptions/10d4133e-b308-4646-b276-40d9d36def1c/webhooks
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {},
  "total": 0,
  "_embedded": {
      "webhooks": [
          {
            "_links": {},
            "id": "string",
            "topic": "string",
            "accountId": "string",
            "eventId": "string",
            "subscriptionId": "string",
            "attempts": [
              {
                "id": "string",
                "request": {
                  "created": "2015-07-23T14:19:37.006Z",
                  "url": "string",
                  "headers": [
                    {
                      "name": "string",
                      "value": "string"
                    }
                  ],
                  "body": "string"
                },
                "response": {
                  "created": "2015-07-23T14:19:37.006Z",
                  "headers": [
                    {
                      "name": "string",
                      "value": "string"
                    }
                  ],
                  "statusCode": 0,
                  "body": "string"
                }
              }
          }
      ]
  }
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_subscription_url</span><span class="si">}</span><span class="s2">/webhooks"</span>
<span class="n">hooks</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 5</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookSubscriptionUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">webhookSubscriptionUrl</span><span class="p">}</span><span class="sr">/webhooks`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c1">// =&gt; 5</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_subscription_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span>

<span class="n">hooks</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/webhooks'</span> <span class="o">%</span> <span class="n">webhook_subscription_url</span><span class="p">)</span>
<span class="n">hooks</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 5</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$hooks</span> <span class="o">=</span> <span class="nv">$webhookApi</span><span class="o">-&gt;</span><span class="na">hooksById</span><span class="p">(</span><span class="s1">'https://api-sandbox.dwolla.com/webhook-subscriptions/5af4c10a-f6de-4ac8-840d-42cb65454216'</span><span class="p">);</span>
<span class="nv">$hooks</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 5
</span><span class="cp">?&gt;</span>
</code></pre></div></div>
<hr>

            <h1 id='webhooks'>Webhooks</h1>
<p>When a new <a href="#events">event</a> is created, and there is an active <a href="#webhook-subscriptions">webhook subscription</a>, a new webhook is created in order to deliver that event.  Attempted deliveries are recorded under the webhook&rsquo;s <code class="prettyprint">attempts</code> property.  Each attempt includes the recorded request and response of the delivery attempt. Webhooks are sent asynchronously and are not guaranteed to be delivered in order. We recommend that applications protect against duplicated events by making event processing idempotent.</p>
<h3 id='webhook-resource'>Webhook resource</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Webhook unique identifier</td>
</tr>
<tr>
<td>topic</td>
<td>Type of webhook subscription</td>
</tr>
<tr>
<td>accountId</td>
<td>Account associated with the webhook notification</td>
</tr>
<tr>
<td>eventId</td>
<td>Event id for this webhook</td>
</tr>
<tr>
<td>subscriptionId</td>
<td>Webhook subscription id for this event</td>
</tr>
<tr>
<td>attempts</td>
<td>Array of attempt JSON object</td>
</tr>
</tbody></table>
<h3 id='attempts-json-object'>Attempts JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique id of webhook delivery attempt.</td>
</tr>
<tr>
<td>request</td>
<td>Request JSON object</td>
</tr>
<tr>
<td>response</td>
<td>Response JSON object</td>
</tr>
</tbody></table>
<h3 id='requestresponse-json-object'>Request/response JSON object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>created</td>
<td>ISO-8601 timestamp</td>
</tr>
<tr>
<td>url</td>
<td>URL where data was sent to/received from</td>
</tr>
<tr>
<td>headers</td>
<td>Array of objects with keys <code class="prettyprint">name</code> and <code class="prettyprint">value</code> representative of HTTP headers</td>
</tr>
<tr>
<td>body</td>
<td>An Event for the webhook</td>
</tr>
</tbody></table>
<h2 id='retrieve-a-webhook'>Retrieve a webhook</h2>
<p>This section covers how to retrieve a single webhook.</p>
<h3 id='http-request'>HTTP request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhooks/{id}</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Id of webhook to retrieve.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8"
    },
    "subscription": {
      "href": "https://api-sandbox.dwolla.com/webhook-subscriptions/a0943041-7a5c-4e8f-92de-b55711ef3a83"
    },
    "retry": {
      "href": "https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries"
    },
    "event": {
      "href": "https://api-sandbox.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50"
    }
  },
  "id": "9ece9660-aa34-41eb-80d7-0125d53b45e8",
  "topic": "transfer_created",
  "accountId": "ca32853c-48fa-40be-ae75-77b37504581b",
  "eventId": "03c7e14c-7f15-44a2-bcf7-83f2f7e95d50",
  "subscriptionId": "a0943041-7a5c-4e8f-92de-b55711ef3a83",
  "attempts": [
    {
      "id": "d4d16621-c6b0-40cb-8dc3-0469fa9dc4e8",
      "request": {
        "timestamp": "2015-10-27T17:07:34.304Z",
        "url": "https://myapp.runscope.net",
        "headers": [
          {
            "name": "X-Dwolla-Topic",
            "value": "transfer_created"
          },
          {
            "name": "X-Request-Signature",
            "value": "bd93780bd7e1ad77ab821094aaa0f9e3dece5ee3"
          }
        ],
        "body": "{\"id\":\"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\",\"resourceId\":\"81BA6F36-CD7C-E511-80DB-0AA34A9B2388\",\"topic\":\"transfer_created\",\"timestamp\":\"2015-10-27T17:07:34.207Z\",\"_links\":{\"self\":{\"href\":\"https://api.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\"},\"account\":{\"href\":\"https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b\"},\"resource\":{\"href\":\"https://api.dwolla.com/transfers/81BA6F36-CD7C-E511-80DB-0AA34A9B2388\"}}}"
      },
      "response": {
        "timestamp": "2015-10-27T17:07:34.308Z",
        "headers": [
          {
            "name": "Date",
            "value": "Tue, 27 Oct 2015 17:07:34 GMT"
          },
          {
            "name": "Content-Type",
            "value": "application/json; charset=UTF-8"
          },
          {
            "name": "Content-Length",
            "value": "1093"
          },
          {
            "name": "Connection",
            "value": "keep-alive"
          },
          {
            "name": "Access-Control-Allow-Credentials",
            "value": "true"
          },
          {
            "name": "Access-Control-Allow-Methods",
            "value": "GET, PUT, POST, PATCH, DELETE, OPTIONS, HEAD"
          },
          {
            "name": "Server",
            "value": "Runscope-Gateway/1.0"
          },
          {
            "name": "Runscope-Message-Id",
            "value": "97aa5bbd-784f-4007-80cc-8f56919000a0"
          },
          {
            "name": "Access-Control-Allow-Origin",
            "value": "*"
          }
        ],
        "statusCode": 200,
        "body": "{\"body\":\"{\"id\":\"03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\",\"resourceId\":\"81BA6F36-CD7C-E511-80DB-0AA34A9B2388\",\"topic\":\"transfer_created\",\"timestamp\":\"2015-10-27T17:07:34.207Z\",\"_links\":{\"self\":{\"href\":\"https://api-sandbox.dwolla.com/events/03c7e14c-7f15-44a2-bcf7-83f2f7e95d50\"},\"account\":{\"href\":\"https://api-sandbox.dwolla.com/accounts/ca32853c-48fa-40be-ae75-77b37504581b\"},\"resource\":{\"href\":\"https://api.dwolla.com/transfers/81BA6F36-CD7C-E511-80DB-0AA34A9B2388\"}}}\",\"files\":[],\"form\":{},\"fragment\":\"\",\"headers\":{\"Connection\":[\"close\"],\"Content-Length\":[\"453\"],\"Content-Type\":[\"application/json; charset=UTF-8\"],\"Host\":[\"myapp.runscope.net\"],\"User-Agent\":[\"dwolla-webhooks/1.0\"],\"X-Dwolla-Topic\":[\"transfer_created\"],\"X-Request-Signature\":[\"bd93780bd7e1ad77ab821094aaa0f9e3dece5ee3\"]},\"host\":\"myapp.runscope.net\",\"method\":\"POST\",\"params\":{},\"path\":\"/\",\"region\":\"us5\",\"runscope_host\":\"prod078.runscope.in\",\"scheme\":\"https\",\"source\":\"capture\",\"source_ip\":\"52.24.10.184\",\"timestamp\":1.4459656543078682e+09,\"url\":\"https://myapp.runscope.net/\"}"
      }
    }
  ]
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="n">webhook</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="n">webhook_url</span>
<span class="n">webhook</span><span class="p">.</span><span class="nf">topic</span> <span class="c1"># =&gt; "transfer_created"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nv">$webhooksApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$webhook</span> <span class="o">=</span> <span class="nv">$webhooksApi</span><span class="o">-&gt;</span><span class="na">id</span><span class="p">(</span><span class="nv">$webhookUrl</span><span class="p">);</span>
<span class="nv">$webhook</span><span class="o">-&gt;</span><span class="na">topic</span><span class="p">;</span> <span class="c1"># =&gt; "transfer_created"
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="n">webhook</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">webhook_url</span><span class="p">)</span>
<span class="n">webhook</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'topic'</span><span class="p">]</span> <span class="c"># =&gt; 'transfer_created'</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">webhookUrl</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">topic</span><span class="p">);</span> <span class="c1">// =&gt; 'transfer_created'</span>
</code></pre></div></div><h2 id='retry-a-webhook'>Retry a webhook</h2>
<p>This section details how to retry a webhook by id.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">POST https://api.dwolla.com/webhooks/{id}/retries</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Id of webhook to retry.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">POST https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries
Accept: application/vnd.dwolla.v1.hal+json
Content-Type: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

HTTP/1.1 201 Created
Location: https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries/5aa27a0f-cf99-418d-a3ee-67c0ff99a494
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="n">app_token</span><span class="p">.</span><span class="nf">post</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_url</span><span class="si">}</span><span class="s2">/retries"</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nv">$webhooksApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$webhooksApi</span><span class="o">-&gt;</span><span class="na">retryWebhook</span><span class="p">(</span><span class="nv">$webhookUrl</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="n">app_token</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/retries'</span> <span class="o">%</span> <span class="n">webhook_url</span><span class="p">)</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nx">appToken</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">webhookUrl</span><span class="p">}</span><span class="sr">/retries`</span><span class="se">)</span><span class="err">;
</span></code></pre></div></div><h2 id='list-retries-for-a-webhook'>List retries for a webhook</h2>
<p>This section covers how to retrieve webhook retries by id.</p>
<ol class="alerts"><li class="alert icon-alert-alert"><p>This endpoint requires an OAuth application access token.</p>
</li></ol><h3 id='http-request'>HTTP Request</h3>
<p><code class="prettyprint">GET https://api.dwolla.com/webhooks/{id}/retries</code></p>
<h3 id='request-parameters'>Request parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>yes</td>
<td>string</td>
<td>Id of webhook to get retries for.</td>
</tr>
</tbody></table>
<h3 id='http-status-and-error-codes'>HTTP status and error codes</h3>
<table><thead>
<tr>
<th>HTTP Status</th>
<th>Message</th>
</tr>
</thead><tbody>
<tr>
<td>404</td>
<td>Webhook not found.</td>
</tr>
</tbody></table>
<h3 id='request-and-response'>Request and response</h3><div class="code-snippet js-code-snippet language-raw"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-raw" data-lang="raw">GET https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries
Accept: application/vnd.dwolla.v1.hal+json
Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

...

{
  "_links": {
    "self": {
      "href": "https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries"
    }
  },
  "_embedded": {
    "retries": [
      {
        "_links": {
          "self": {
            "href": "https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8/retries/5aa27a0f-cf99-418d-a3ee-67c0ff99a494"
          },
          "webhook": {
            "href": "https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8"
          }
        },
        "id": "5aa27a0f-cf99-418d-a3ee-67c0ff99a494",
        "timestamp": "2015-11-02T17:43:26.000Z"
      }
    ]
  },
  "total": 1
}
</code></pre></div></div><div class="code-snippet js-code-snippet language-ruby"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># Using DwollaV2 - https://github.com/Dwolla/dwolla-v2-ruby</span>
<span class="n">webhook_url</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="n">retries</span> <span class="o">=</span> <span class="n">app_token</span><span class="p">.</span><span class="nf">get</span> <span class="s2">"</span><span class="si">#{</span><span class="n">webhook_url</span><span class="si">}</span><span class="s2">/retries"</span>
<span class="n">retries</span><span class="p">.</span><span class="nf">total</span> <span class="c1"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-php"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nv">$webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nv">$webhooksApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DwollaSwagger\WebhooksApi</span><span class="p">(</span><span class="nv">$apiClient</span><span class="p">);</span>

<span class="nv">$retries</span> <span class="o">=</span> <span class="nv">$webhooksApi</span><span class="o">-&gt;</span><span class="na">retriesById</span><span class="p">(</span><span class="nv">$webhookUrl</span><span class="p">);</span>
<span class="nv">$retries</span><span class="o">-&gt;</span><span class="na">total</span><span class="p">;</span> <span class="c1"># =&gt; 1
</span><span class="cp">?&gt;</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-python"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-python" data-lang="python"><span class="c"># Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python</span>
<span class="n">webhook_url</span> <span class="o">=</span> <span class="s">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span>

<span class="n">retries</span> <span class="o">=</span> <span class="n">app_token</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">s/retries'</span> <span class="o">%</span> <span class="n">webhook_url</span><span class="p">)</span>
<span class="n">retries</span><span class="o">.</span><span class="n">body</span><span class="p">[</span><span class="s">'total'</span><span class="p">]</span> <span class="c"># =&gt; 1</span>
</code></pre></div></div><div class="code-snippet js-code-snippet language-javascript"><button class="btn alternative">copy</button><div class="code-snippet__selector">
          <nav>
              <button class="selector_switch" id="raw">raw</button>
              <button class="selector_switch" id="php">php</button>
              <button class="selector_switch" id="ruby">ruby</button>
              <button class="selector_switch" id="python">python</button>
              <button class="selector_switch" id="javascript">javascript</button>
          </nav>
        </div><div class="code-snippet__cnt highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">webhookUrl</span> <span class="o">=</span> <span class="s1">'https://api-sandbox.dwolla.com/webhooks/9ece9660-aa34-41eb-80d7-0125d53b45e8'</span><span class="p">;</span>

<span class="nx">appToken</span>
  <span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="err">`</span><span class="nx">$</span><span class="p">{</span><span class="nx">webhookUrl</span><span class="p">}</span><span class="sr">/retries`</span><span class="err">)
</span>  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="nx">res</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c1">// =&gt; 1</span>
</code></pre></div></div>
            <footer>
             <div class="page-wrap">
            <nav>
               <h6>DWOLLA</h6>
                 <a href="https://www.dwolla.com/about/">About</a>
                 <a href="https://www.dwolla.com/updates/">Blog</a>
                 <a href="https://www.dwolla.com/pricing/">Pricing</a>
                 <a href="https://www.dwolla.com/contact/">Contact Sales</a>
                 <a href="https://www.dwolla.com/legal/tos/">Terms of Service</a>
                 <a href="https://www.dwolla.com/legal/privacy/">Privacy Policy</a>
             </nav>
             <nav>
               <h6>PRODUCT</h6>
                 <a href="https://www.dwolla.com/resources/">Resources</a>
                 <a href="https://www.dwolla.com/features/">Features</a>
                 <a href="https://www.dwolla.com/case-studies/">Case Studies</a>
                 <a href="https://www.dwolla.com/integrations/">Integrations</a>
             </nav>
             <nav>
               <h6>DEVELOPERS</h6>
                 <a href="https://docs.dwolla.com/">API Reference</a>
                 <a href="https://discuss.dwolla.com/">Support Forum</a>
                 <a href="http://developers.dwolla.com/sdks-tools">SDKs and Tools</a>
                 <a href="https://github.com/Dwolla/">Github Repos</a>
             </nav>
           </div>
         </footer>
          <section class="disclaimer">
            <div class="page-wrap">
              <h5>Financial institutions play an important role in the Dwolla network.</h5>
              <p>Dwolla, Inc. is an agent of Veridian Credit Union and all funds associated with your account in our network are held in one or more pooled accounts at Veridian Credit Union. These funds may not be eligible for share insurance by the National Credit Union Share Insurance Fund. Dwolla, Inc. is the operator of a software platform that communicates user instructions for funds transfers to Veridian Credit Union.</p>
              <p>Sponsorship and Settlement of Push-to-Debit payment services provided
              by <span style=" white-space: nowrap;"> MetaBank®, N.A. </span> <br />
              Push-to-Debit payments are typically available within 30 minutes.</p>
            </div>
          </section>
          <section class="copyright">
            <div class="page-wrap">
              <div>
                <span>© 2021 Dwolla, Inc.</span>
                <a href="https://www.dwolla.com/legal/about-our-financial-institution-partner/">Dwolla, Inc. is an agent of its Financial Institution Partner(s)</a>
              </div>
            </div>
          </section>
        </section>
      </div>
    </div>
    <script src="https://cdn.dwolla.com/cookie-consent/dwolla-consent.js"></script>
  </body>
</html>

<!-- 
    <div class="lang-selector">
          <a href="#" data-language-name="raw">raw</a>
          <a href="#" data-language-name="php">php</a>
          <a href="#" data-language-name="ruby">ruby</a>
          <a href="#" data-language-name="python">python</a>
          <a href="#" data-language-name="javascript">javascript</a>
    </div>
   -->
